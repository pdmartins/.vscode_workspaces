# Context Skill

<skill id="context" context="gerenciar contexto atual do projeto">

## Prop√≥sito

Gerenciar o **contexto atual** do projeto - estado, stack, restri√ß√µes e configura√ß√µes ativas.
Diferente da mem√≥ria (li√ß√µes hist√≥ricas), o contexto √© o "estado atual" que muda frequentemente.

## Quando Usar

<triggers>
  - In√≠cio de sess√£o ou tarefa complexa
  - Verificar stack/tecnologias antes de implementar
  - Confirmar restri√ß√µes antes de codificar
  - Projeto sofre mudan√ßa significativa de estado
  - Usu√°rio pergunta "qual √© o contexto do projeto?"
</triggers>

## Estrutura do Contexto

<context-structure>
```
{workspace}/.github-project/context/
‚îî‚îÄ‚îÄ project.md    # Estado atual do projeto
```

**Nota**: Os dados ficam em `.github-project/` (espec√≠fico do projeto),
enquanto esta skill fica em `.github/` (core reutiliz√°vel).
</context-structure>

## Conte√∫do do Contexto

<context-sections>
  | Se√ß√£o | Prop√≥sito |
  |-------|-----------|
  | Objetivo | O que o projeto faz |
  | Stack | Tecnologias em uso |
  | Restri√ß√µes | O que N√ÉO pode fazer |
  | Integra√ß√µes | Sistemas conectados |
  | Estado Atual | Fase do projeto, status |
</context-sections>

## Workflow: Consultar Contexto

<workflow id="consult-context" trigger="in√≠cio de tarefa ou sess√£o">
  <step n="1" goal="Carregar contexto">
    <action>Ler: {workspace}/.github-project/context/project.md</action>
    <action>Extrair informa√ß√µes relevantes para a tarefa</action>
  </step>

  <step n="2" goal="Aplicar restri√ß√µes">
    <action>Identificar restri√ß√µes aplic√°veis √† tarefa</action>
    <action>Validar que a√ß√µes planejadas n√£o violam restri√ß√µes</action>
    
    <check if="a√ß√£o viola restri√ß√£o">
      <halt reason="A√ß√£o viola restri√ß√£o do projeto"/>
    </check>
  </step>

  <step n="3" goal="Confirmar stack">
    <action>Verificar stack tecnol√≥gico</action>
    <action>Usar tecnologias corretas para o projeto</action>
    
    <output>
      üìã **Contexto carregado**
      - Stack: {tecnologias}
      - Restri√ß√µes ativas: {n}
    </output>
  </step>
</workflow>

## Workflow: Atualizar Contexto

<workflow id="update-context" trigger="mudan√ßa significativa no projeto">
  <step n="1" goal="Identificar mudan√ßa">
    <triggers>
      - Nova integra√ß√£o adicionada
      - Stack tecnol√≥gico alterado
      - Nova restri√ß√£o estabelecida
      - Objetivo do projeto mudou
      - Fase do projeto avan√ßou
    </triggers>
  </step>

  <step n="2" goal="Atualizar arquivo">
    <action>Ler: {workspace}/.github-project/context/project.md</action>
    <action>Identificar se√ß√£o a atualizar</action>
    <action>Fazer atualiza√ß√£o mantendo estrutura</action>
    <action>Atualizar "√öltima Atualiza√ß√£o" com data</action>
    
    <output>üîÑ Contexto atualizado em project.md</output>
  </step>
</workflow>

## Workflow: Inicializar Contexto

<workflow id="init-context" trigger="projeto sem estrutura de contexto">
  <step n="1" goal="Verificar estrutura">
    <check if="pasta context/ N√ÉO existe">
      <action>Criar: {workspace}/.github-project/context/</action>
    </check>
  </step>

  <step n="2" goal="Criar project.md">
    <check if="project.md N√ÉO existe">
      <action>Criar com template base</action>
      
      <template>
```markdown
# Project Context

Estado atual do projeto para refer√™ncia do Copilot.

---

## Objetivo

{descri√ß√£o do objetivo principal}

## Stack

| Componente | Tecnologia |
|------------|------------|
| {tipo} | {tecnologia} |

## Restri√ß√µes

<constraints>
  - {restri√ß√£o 1}
  - {restri√ß√£o 2}
</constraints>

## Integra√ß√µes

| Sistema | Prop√≥sito | Status |
|---------|-----------|--------|
| {sistema} | {prop√≥sito} | {status} |

## Estado Atual

**Fase**: {fase do projeto}
**Status**: {status atual}

## √öltima Atualiza√ß√£o

**Data**: {YYYY-MM-DD}
**Motivo**: Cria√ß√£o inicial
```
      </template>
    </check>
  </step>

  <step n="3" goal="Confirmar">
    <output>
      üìã **Contexto inicializado**
      - context/project.md criado
    </output>
  </step>
</workflow>

## Diferen√ßa: Memory vs Context

<comparison>
  | Aspecto | Memory | Context |
  |---------|--------|---------|
  | Foco | Hist√≥rico, li√ß√µes | Estado atual |
  | Muda | Raramente (append) | Frequentemente (update) |
  | Conte√∫do | Decis√µes, erros, aprendizados | Stack, restri√ß√µes, objetivo |
  | Uso | Evitar repetir erros | Guiar implementa√ß√£o |
  | Skill | memory.md | context.md |
  | Dados | memory/lessons-learned.md | context/project.md |
</comparison>

## Comandos do Usu√°rio

<user-commands>
  | Comando | A√ß√£o |
  |---------|------|
  | "qual √© o contexto?" | Consultar e exibir contexto |
  | "atualizar contexto" | Workflow update-context |
  | "quais s√£o as restri√ß√µes?" | Listar restri√ß√µes ativas |
  | "qual √© a stack?" | Mostrar tecnologias |
  | "inicializar contexto" | Workflow init-context |
</user-commands>

## Integra√ß√£o com Outros Skills

<integration>
  <auto-trigger skill="context" when="sess√£o-iniciada">
    Carregar contexto automaticamente
  </auto-trigger>
  
  <auto-trigger skill="context" when="implementa√ß√£o-come√ßando">
    Verificar stack e restri√ß√µes
  </auto-trigger>
</integration>

## Output Padr√£o

<output-formats>
  <format id="context-loaded">
    üìã **Contexto carregado**
    - Objetivo: {resumo}
    - Stack: {tecnologias}
    - Restri√ß√µes: {n} ativas
  </format>
  
  <format id="context-updated">
    üîÑ **Contexto atualizado**
    - Se√ß√£o: {se√ß√£o}
    - Mudan√ßa: {descri√ß√£o}
  </format>
</output-formats>

</skill>
