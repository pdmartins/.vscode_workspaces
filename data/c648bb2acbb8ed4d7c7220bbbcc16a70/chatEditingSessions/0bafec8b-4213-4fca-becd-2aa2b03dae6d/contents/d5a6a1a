---
name: agent-memory-query
description: Consulta a memÃ³ria do agente (preferences, patterns, decisions, concepts). Usa modelo index-first â€” lÃª memory/index.md primeiro, carrega subpastas sob demanda. Triggers: "liÃ§Ãµes aprendidas", "decisÃµes anteriores", "preferÃªncias", "padrÃµes", inÃ­cio de implementaÃ§Ã£o complexa.
metadata:
  author: copilot-core
  version: "4.0"
  category: agent
  delegable: full
---

# Agent Memory Query

Consulta a memÃ³ria persistente do agente usando modelo index-first com deep-load sob demanda.

## Quando Usar

- InÃ­cio de tarefa complexa (consultar antes de implementar)
- Antes de gerar cÃ³digo (verificar patterns e preferences)
- UsuÃ¡rio pergunta sobre decisÃµes passadas
- Antes de tomar decisÃ£o arquitetural (verificar se jÃ¡ foi decidido)

## Workflow

### 1. Ler index.md

Ler: `{workspace}/.copilot-project/memory/index.md`

**Se nÃ£o existe** â†’ criar via Auto-Init â†’ retornar que memÃ³ria estÃ¡ vazia.

### 2. Decidir se precisa deep-load

| SituaÃ§Ã£o | AÃ§Ã£o |
|----------|------|
| Index tem resumo suficiente | Usar diretamente |
| Precisa de detalhes | Carregar arquivo(s) especÃ­fico(s) da subpasta |
| Consulta ampla ("todos os padrÃµes") | Ler a subpasta inteira |

### 3. Apresentar ao usuÃ¡rio

```
ğŸ“š **MemÃ³ria consultada**:
- [preferences] {resumo}
- [patterns] {resumo}
- [decisions] {resumo}
```

**Se vazio:** `ğŸ“š Nenhuma entrada relevante na memÃ³ria.`

### 4. Aplicar conhecimento

- Usar padrÃµes encontrados para guiar implementaÃ§Ã£o
- Respeitar preferÃªncias do usuÃ¡rio
- Evitar contradizer decisÃµes registradas

## Categorias

| Categoria | Pasta | ConteÃºdo |
|-----------|-------|----------|
| Preferences | `preferences/` | Estilo de cÃ³digo, abordagem, nomenclatura do usuÃ¡rio |
| Patterns | `patterns/` | PadrÃµes de cÃ³digo, convenÃ§Ãµes, erros aprendidos |
| Decisions | `decisions/` | DecisÃµes tÃ©cnicas/arquiteturais com rationale |
| Concepts | `concepts/` | Conhecimentos e definiÃ§Ãµes relevantes |

## Auto-Init

Se `memory/index.md` nÃ£o existe:

1. Criar `memory/index.md` com template padrÃ£o
2. Criar subpastas com `.gitkeep`: `preferences/`, `patterns/`, `decisions/`, `concepts/`
3. Informar: `âœ… MemÃ³ria inicializada automaticamente`
