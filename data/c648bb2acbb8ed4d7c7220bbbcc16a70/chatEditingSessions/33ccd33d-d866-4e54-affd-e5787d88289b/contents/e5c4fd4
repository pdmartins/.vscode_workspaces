---
name: project-init
description: Guia manual para inicializar estrutura de .copilot-core e .copilot-project em novo workspace. Para setup automatizado, use project-create no workspace core. Triggers - inicializar projeto manualmente, passo a passo, entender estrutura.
metadata:
  author: copilot-core
  version: "2.0"
  category: project
---

# Project Init

Guia **manual** para inicializar a estrutura de prompts em um novo workspace.

> üí° **Quer o caminho mais r√°pido?**
> Abra o workspace `.copilot-core` e diga "criar projeto {nome}" no Copilot Chat.
> O agente cria tudo e te d√° um script para colar no projeto.

## Quando Usar Este Guia

- Precisa entender o processo em detalhes
- N√£o tem acesso ao workspace core
- Ambiente com restri√ß√µes especiais

## Alternativas Recomendadas

| M√©todo | Onde roda | Quando usar |
|--------|-----------|-------------|
| **project-create** | Workspace core (Chat) | Cria branch + contexto + gera script |
| **project-bootstrap** | Projeto-alvo (Chat) | Configura contexto ap√≥s submodules |
| **Manual** | Qualquer lugar | Entender ou debug |

## Pr√©-requisitos

- Git inicializado no workspace
- Acesso aos reposit√≥rios:
  - `https://github.com/pdmartins/.copilot-core.git`
  - `https://github.com/pdmartins/.copilot-project.git`

## Arquitetura

```
{projeto}/
‚îî‚îÄ‚îÄ .github/
    ‚îú‚îÄ‚îÄ instructions/
    ‚îÇ   ‚îú‚îÄ‚îÄ default.instructions.md      ‚Üí symlink ‚Üí .copilot-core/instructions/default.instructions.md
    ‚îÇ   ‚îî‚îÄ‚îÄ workspace.instructions.md    ‚Üí symlink ‚Üí .copilot-project/instructions/workspace.instructions.md
    ‚îÇ
    ‚îú‚îÄ‚îÄ .copilot-core/          # Submodule (branch core)
    ‚îÇ   ‚îú‚îÄ‚îÄ instructions/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ default.instructions.md
    ‚îÇ   ‚îú‚îÄ‚îÄ skills/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ {core-skills}/
    ‚îÇ   ‚îî‚îÄ‚îÄ templates/
    ‚îÇ       ‚îî‚îÄ‚îÄ workspace.instructions.md
    ‚îÇ
    ‚îî‚îÄ‚îÄ .copilot-project/       # Submodule (branch espec√≠fica)
        ‚îú‚îÄ‚îÄ context/
        ‚îÇ   ‚îî‚îÄ‚îÄ project.md
        ‚îú‚îÄ‚îÄ instructions/
        ‚îÇ   ‚îî‚îÄ‚îÄ workspace.instructions.md
        ‚îú‚îÄ‚îÄ memory/
        ‚îÇ   ‚îî‚îÄ‚îÄ lessons-learned.md
        ‚îî‚îÄ‚îÄ skills/
            ‚îî‚îÄ‚îÄ {project-skills}/
```

## Workflow Manual

### 1. Verificar pr√©-requisitos

- Verificar se `.github/.copilot-core/` j√° existe
- Verificar se git est√° inicializado

**Se j√° existe:**
‚Üí Informar que estrutura j√° existe
‚Üí Sugerir usar `project-update` para atualizar

### 2. Adicionar .copilot-core como submodule

```bash
git submodule add -b core https://github.com/pdmartins/.copilot-core.git .github/.copilot-core
```

### 3. Configurar reposit√≥rio project

**Detectar nome do projeto** (pasta do workspace)

**Perguntar ao usu√°rio:**
```
Branch do .copilot-project para este projeto?
Sugest√£o: `{nome-do-projeto}`
[Enter para confirmar ou digite outro nome]
```

**Se branch existe:**
```bash
git submodule add -b {branch} https://github.com/pdmartins/.copilot-project.git .github/.copilot-project
```

**Se branch n√£o existe (novo projeto):**
```bash
git submodule add https://github.com/pdmartins/.copilot-project.git .github/.copilot-project
cd .github/.copilot-project
git checkout -b {branch}
```

### 4. Criar symlinks de instructions

**Windows (PowerShell):**
```powershell
mkdir .github\instructions -Force
cmd /c mklink ".github\instructions\default.instructions.md" "..\.copilot-core\instructions\default.instructions.md"
cmd /c mklink ".github\instructions\workspace.instructions.md" "..\.copilot-project\instructions\workspace.instructions.md"
cmd /c mklink ".github\copilot-commit-message-instructions.md" ".copilot-core\.source-control\commit-prompt.md"
```

**Linux/Mac (Bash):**
```bash
mkdir -p .github/instructions
ln -s ../.copilot-core/instructions/default.instructions.md .github/instructions/default.instructions.md
ln -s ../.copilot-project/instructions/workspace.instructions.md .github/instructions/workspace.instructions.md
ln -s .copilot-core/.source-control/commit-prompt.md .github/copilot-commit-message-instructions.md
```

> **Importante:** Sempre usar symlinks, nunca copiar. Isso garante que altera√ß√µes nos repos de origem refletem automaticamente.

### 5. Criar estrutura de dados

- Criar `memory/lessons-learned.md` (via `agent-memory-init`)
- Criar `context/project.md` (via `project-context-init`)

### 5. Confirmar inicializa√ß√£o

**Output**:
```
‚úÖ **Projeto inicializado**
- Core: `.github/.copilot-core/`
- Project: `.github/.copilot-project/` (branch: {branch})
- Symlinks: `default.instructions.md`, `workspace.instructions.md`
- Mem√≥ria: inicializada
- Contexto: inicializado
```

## Clonando em Nova M√°quina

Ao clonar um projeto que usa submodules:

```bash
# Op√ß√£o 1: Clone recursivo
git clone --recursive https://github.com/seu/projeto.git

# Op√ß√£o 2: Clone normal + inicializar submodules
git clone https://github.com/seu/projeto.git
cd projeto
git submodule update --init --recursive
```

## Refer√™ncia

- **Cria√ß√£o (skill)**: `project-create`
- **Configura√ß√£o (skill)**: `project-bootstrap`
- **Documenta√ß√£o**: `.github/docs/QUICK-START.md`
