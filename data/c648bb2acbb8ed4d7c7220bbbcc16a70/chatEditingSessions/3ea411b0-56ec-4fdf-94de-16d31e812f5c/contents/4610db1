---
name: project-repo-update
description: Atualiza os reposit√≥rios core e project para vers√µes mais recentes. Use quando usu√°rio pedir para "atualizar prompts", "pull updates", ou periodicamente para manter skills atualizados. Triggers: "atualizar prompts", "atualizar core", "pull updates", "sincronizar skills".
metadata:
  author: copilot-core
  version: "1.0"
  category: project
  delegable: orchestrated
---

# Project Repo Update

Atualiza os reposit√≥rios core e project para vers√µes mais recentes.

## Quando Usar

- Usu√°rio pede para "atualizar prompts"
- Usu√°rio pede "pull updates" ou "sincronizar"
- Periodicamente para manter skills atualizados
- Ap√≥s saber que h√° nova vers√£o dispon√≠vel

## Workflow

### 1. Verificar estrutura

Verificar se existem:
- `.copilot-core/`
- `.copilot-project/`

**Se n√£o existem:**
‚Üí Informar que projeto n√£o est√° inicializado
‚Üí Sugerir usar `project-setup-bootstrap`

### 2. Atualizar core

```bash
cd .copilot-core
git pull
```

**Output**:
```
üîÑ Core atualizado
- Branch: {branch-atual}
- Status: {n} arquivos atualizados
```

### 3. Atualizar project

Verificar branch atual:
```bash
cd .copilot-project
git branch --show-current
```

Atualizar:
```bash
git pull origin {branch-atual}
```

**Output**:
```
üîÑ Project atualizado
- Branch: {branch-atual}
- Status: {n} arquivos atualizados
```

### 4. Verificar conflitos

**Se h√° conflitos:**
‚Üí Listar arquivos em conflito
‚Üí Perguntar ao usu√°rio como resolver

### 5. Confirmar atualiza√ß√£o

**Output**:
```
‚úÖ **Reposit√≥rios atualizados**
- Core: core (up-to-date)
- Project: {branch} (up-to-date)
```

## Notas

- O `.copilot-core/` sempre usa branch `main`
- O `.copilot-project/` usa branch espec√≠fica do projeto
- Os reposit√≥rios est√£o no `.gitignore` do projeto principal

## Subagent Pattern

**Tipo**: `orchestrated` ‚Äî direct delegation + error handling

Skill simples que executa `git pull` em ambos os repos. Classificada como `orchestrated` (e n√£o `full`) porque conflitos git podem requerer decis√£o do usu√°rio.

### Fluxo

1. Subagent executa `git pull` em `.copilot-core/` e `.copilot-project/`
2. Retorna status (success/error) para cada repo
3. Se houver conflito ‚Üí main agent apresenta ao usu√°rio para decis√£o

### Prompt Exemplo

```
runSubagent({
  description: "Update repos",
  prompt: "Leia .copilot-core/skills/project/project-repo-update/SKILL.md. Execute git pull em .copilot-core/ e .copilot-project/. Retorne: status de cada repo (up-to-date, updated, error + detalhes)."
})
```
