{"version":2,"initialFileContents":[],"timeline":{"checkpoints":[{"checkpointId":"bed48437-6745-4d32-9105-5bbe1ee27419","epoch":0,"label":"Initial State","description":"Starting point before any edits"},{"checkpointId":"43d3777c-25f3-4e1b-9d82-056bcd831f8c","requestId":"request_2dc6a29d-725c-42f2-9074-82f574da46ae","epoch":1,"label":"Request request_2dc6a29d-725c-42f2-9074-82f574da46ae"},{"checkpointId":"71e3ef1e-12c6-4d65-8165-5029c1a06995","requestId":"request_2dc6a29d-725c-42f2-9074-82f574da46ae","undoStopId":"7250ec71-23c9-4969-b6eb-de8a48846243","epoch":2,"label":"Request request_2dc6a29d-725c-42f2-9074-82f574da46ae - Stop 7250ec71-23c9-4969-b6eb-de8a48846243"},{"checkpointId":"ea1c7ce3-9756-42da-9ab6-0173e7f5571f","requestId":"request_c11d40ef-3804-4e2c-aed9-d73857e102d6","epoch":5,"label":"Request request_c11d40ef-3804-4e2c-aed9-d73857e102d6"},{"checkpointId":"726aeda5-8e49-4395-ac02-7bfd549505b4","requestId":"request_c11d40ef-3804-4e2c-aed9-d73857e102d6","undoStopId":"704b3a85-450f-40b8-b319-962dfcf4e235","epoch":6,"label":"Request request_c11d40ef-3804-4e2c-aed9-d73857e102d6 - Stop 704b3a85-450f-40b8-b319-962dfcf4e235"}],"currentEpoch":9,"fileBaselines":[["file:///d%3A/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1::request_2dc6a29d-725c-42f2-9074-82f574da46ae",{"uri":{"$mid":1,"fsPath":"d:\\Repos\\_pm\\copilot\\.copilot-core\\.internal\\scripts\\start-memory-dashboard.ps1","_sep":1,"external":"file:///d%3A/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","path":"/D:/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","scheme":"file"},"requestId":"request_2dc6a29d-725c-42f2-9074-82f574da46ae","content":"# Start MCP Memory Dashboard\r\n# Inicia o servidor HTTP do mcp-memory-service com o dashboard web.\r\n# Acesso: http://localhost:8000\r\n#\r\n# Uso: .\\start-memory-dashboard.ps1 [-Port 8000] [-NoBrowser]\r\n\r\nparam(\r\n    [int]$Port = 8000,\r\n    [switch]$NoBrowser\r\n)\r\n\r\n# --- Carregar credenciais do credentials.yml ---\r\n$internalDir = Split-Path $PSScriptRoot  # .copilot-core/.internal/\r\n$credFile = Join-Path $internalDir \"config\\credentials.yml\"\r\n\r\nif (!(Test-Path $credFile)) {\r\n    Write-Host \"âŒ credentials.yml nÃ£o encontrado em $(Split-Path $credFile)\" -ForegroundColor Red\r\n    exit 1\r\n}\r\n\r\n# Parse simples do YAML (sem dependÃªncia externa)\r\n$credContent = Get-Content $credFile -Raw\r\n$accountId = if ($credContent -match 'account_id:\\s*\"([^\"]+)\"') { $Matches[1] }\r\n$apiToken = if ($credContent -match 'api_token:\\s*\"([^\"]+)\"') { $Matches[1] }\r\n$vectorizeIndex = if ($credContent -match 'vectorize_index:\\s*\"([^\"]+)\"') { $Matches[1] }\r\n$d1DatabaseId = if ($credContent -match 'd1_database_id:\\s*\"([^\"]+)\"') { $Matches[1] }\r\n$storageBackend = if ($credContent -match 'storage_backend:\\s*\"([^\"]+)\"') { $Matches[1] } else { \"cloudflare\" }\r\n\r\nif (!$accountId -or !$apiToken) {\r\n    Write-Host \"âŒ Credenciais Cloudflare incompletas no credentials.yml\" -ForegroundColor Red\r\n    exit 1\r\n}\r\n\r\n# --- Detectar Python ---\r\n$pythonPath = $null\r\n\r\n# 1. Tentar o caminho do mcp.json do workspace (gerado por mÃ¡quina, nunca hardcodar)\r\n# Navegar: config/ -> .copilot-core/ -> workspace/ -> .vscode/mcp.json\r\n$mcpJson = Join-Path $configDir \"..\\..\\..\\.vscode\\mcp.json\"\r\nif (Test-Path $mcpJson) {\r\n    $mcpContent2 = Get-Content $mcpJson -Raw | ConvertFrom-Json\r\n    $candidate = $mcpContent2.servers.memory.command\r\n    if ($candidate -and (Test-Path $candidate)) {\r\n        $pythonPath = $candidate\r\n    }\r\n}\r\n\r\n# 2. Fallback: python3/python no PATH (skip WindowsApps stubs)\r\nif (!$pythonPath) {\r\n    $candidates = @(\"python3\", \"python\")\r\n    foreach ($cmd in $candidates) {\r\n        $found = Get-Command $cmd -ErrorAction SilentlyContinue | Select-Object -ExpandProperty Source\r\n        if ($found -and $found -notmatch \"WindowsApps\") {\r\n            $pythonPath = $found\r\n            break\r\n        }\r\n    }\r\n}\r\n\r\nif (!$pythonPath) {\r\n    Write-Host \"âŒ Python nÃ£o encontrado. Instale Python 3.12+\" -ForegroundColor Red\r\n    exit 1\r\n}\r\n\r\nWrite-Host \"ðŸ“Š MCP Memory Dashboard\" -ForegroundColor Cyan\r\nWrite-Host \"   Python:  $pythonPath\" -ForegroundColor DarkGray\r\nWrite-Host \"   Backend: $storageBackend\" -ForegroundColor DarkGray\r\nWrite-Host \"   URL:     http://localhost:$Port\" -ForegroundColor DarkGray\r\nWrite-Host \"\"\r\n\r\n# --- Configurar variÃ¡veis de ambiente ---\r\n$env:MCP_MEMORY_STORAGE_BACKEND = $storageBackend\r\n$env:CLOUDFLARE_ACCOUNT_ID = $accountId\r\n$env:CLOUDFLARE_API_TOKEN = $apiToken\r\n$env:CLOUDFLARE_VECTORIZE_INDEX = $vectorizeIndex\r\n$env:CLOUDFLARE_D1_DATABASE_ID = $d1DatabaseId\r\n$env:MCP_HTTP_PORT = $Port\r\n$env:MCP_ALLOW_ANONYMOUS_ACCESS = \"true\"\r\n\r\n# --- Abrir browser automaticamente ---\r\nif (!$NoBrowser) {\r\n    Start-Job -ScriptBlock {\r\n        param($url)\r\n        Start-Sleep -Seconds 5\r\n        Start-Process $url\r\n    } -ArgumentList \"http://localhost:$Port\" | Out-Null\r\n    Write-Host \"ðŸŒ Browser abrirÃ¡ automaticamente em 5s...\" -ForegroundColor Yellow\r\n}\r\n\r\nWrite-Host \"ðŸš€ Iniciando servidor... (Ctrl+C para parar)\" -ForegroundColor Green\r\nWrite-Host \"\"\r\n\r\n# --- Iniciar servidor HTTP ---\r\n$memoryExe = Join-Path (Split-Path $pythonPath) \"Scripts\\memory.exe\"\r\n\r\nif (Test-Path $memoryExe) {\r\n    & $memoryExe server --http --storage-backend $storageBackend\r\n} else {\r\n    & $pythonPath -m mcp_memory_service.cli server --http --storage-backend $storageBackend\r\n}\r\n","epoch":3,"telemetryInfo":{}}],["file:///d%3A/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1::request_c11d40ef-3804-4e2c-aed9-d73857e102d6",{"uri":{"$mid":1,"fsPath":"d:\\Repos\\_pm\\copilot\\.copilot-core\\.internal\\scripts\\start-memory-dashboard.ps1","_sep":1,"external":"file:///d%3A/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","path":"/D:/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","scheme":"file"},"requestId":"request_c11d40ef-3804-4e2c-aed9-d73857e102d6","content":"# Start MCP Memory Dashboard\r\n# Inicia o servidor HTTP do mcp-memory-service com o dashboard web.\r\n# Acesso: http://localhost:8000\r\n#\r\n# Uso: .\\start-memory-dashboard.ps1 [-Port 8000] [-NoBrowser]\r\n\r\nparam(\r\n    [int]$Port = 8000,\r\n    [switch]$NoBrowser\r\n)\r\n\r\n# --- Carregar credenciais do credentials.yml ---\r\n$internalDir = Split-Path $PSScriptRoot  # .copilot-core/.internal/\r\n$credFile = Join-Path $internalDir \"config\\credentials.yml\"\r\n\r\nif (!(Test-Path $credFile)) {\r\n    Write-Host \"âŒ credentials.yml nÃ£o encontrado em $(Split-Path $credFile)\" -ForegroundColor Red\r\n    exit 1\r\n}\r\n\r\n# Parse simples do YAML (sem dependÃªncia externa)\r\n$credContent = Get-Content $credFile -Raw\r\n$accountId = if ($credContent -match 'account_id:\\s*\"([^\"]+)\"') { $Matches[1] }\r\n$apiToken = if ($credContent -match 'api_token:\\s*\"([^\"]+)\"') { $Matches[1] }\r\n$vectorizeIndex = if ($credContent -match 'vectorize_index:\\s*\"([^\"]+)\"') { $Matches[1] }\r\n$d1DatabaseId = if ($credContent -match 'd1_database_id:\\s*\"([^\"]+)\"') { $Matches[1] }\r\n$storageBackend = if ($credContent -match 'storage_backend:\\s*\"([^\"]+)\"') { $Matches[1] } else { \"cloudflare\" }\r\n\r\nif (!$accountId -or !$apiToken) {\r\n    Write-Host \"âŒ Credenciais Cloudflare incompletas no credentials.yml\" -ForegroundColor Red\r\n    exit 1\r\n}\r\n\r\n# --- Detectar Python ---\r\n$pythonPath = $null\r\n\r\n# 1. Tentar o caminho do mcp.json do workspace (gerado por mÃ¡quina, nunca hardcodar)\r\n# Navegar: config/ -> .copilot-core/ -> workspace/ -> .vscode/mcp.json\r\n$mcpJson = Join-Path $configDir \"..\\..\\..\\.vscode\\mcp.json\"\r\nif (Test-Path $mcpJson) {\r\n    $mcpContent2 = Get-Content $mcpJson -Raw | ConvertFrom-Json\r\n    $candidate = $mcpContent2.servers.memory.command\r\n    if ($candidate -and (Test-Path $candidate)) {\r\n        $pythonPath = $candidate\r\n    }\r\n}\r\n\r\n# 2. Fallback: python3/python no PATH (skip WindowsApps stubs)\r\nif (!$pythonPath) {\r\n    $candidates = @(\"python3\", \"python\")\r\n    foreach ($cmd in $candidates) {\r\n        $found = Get-Command $cmd -ErrorAction SilentlyContinue | Select-Object -ExpandProperty Source\r\n        if ($found -and $found -notmatch \"WindowsApps\") {\r\n            $pythonPath = $found\r\n            break\r\n        }\r\n    }\r\n}\r\n\r\nif (!$pythonPath) {\r\n    Write-Host \"âŒ Python nÃ£o encontrado. Instale Python 3.12+\" -ForegroundColor Red\r\n    exit 1\r\n}\r\n\r\nWrite-Host \"ðŸ“Š MCP Memory Dashboard\" -ForegroundColor Cyan\r\nWrite-Host \"   Python:  $pythonPath\" -ForegroundColor DarkGray\r\nWrite-Host \"   Backend: $storageBackend\" -ForegroundColor DarkGray\r\nWrite-Host \"   URL:     http://localhost:$Port\" -ForegroundColor DarkGray\r\nWrite-Host \"\"\r\n\r\n# --- Configurar variÃ¡veis de ambiente ---\r\n$env:MCP_MEMORY_STORAGE_BACKEND = $storageBackend\r\n$env:CLOUDFLARE_ACCOUNT_ID = $accountId\r\n$env:CLOUDFLARE_API_TOKEN = $apiToken\r\n$env:CLOUDFLARE_VECTORIZE_INDEX = $vectorizeIndex\r\n$env:CLOUDFLARE_D1_DATABASE_ID = $d1DatabaseId\r\n$env:MCP_HTTP_PORT = $Port\r\n$env:MCP_ALLOW_ANONYMOUS_ACCESS = \"true\"\r\n\r\n# --- Abrir browser automaticamente ---\r\nif (!$NoBrowser) {\r\n    Start-Job -ScriptBlock {\r\n        param($url)\r\n        Start-Sleep -Seconds 5\r\n        Start-Process $url\r\n    } -ArgumentList \"http://localhost:$Port\" | Out-Null\r\n    Write-Host \"ðŸŒ Browser abrirÃ¡ automaticamente em 5s...\" -ForegroundColor Yellow\r\n}\r\n\r\nWrite-Host \"ðŸš€ Iniciando servidor... (Ctrl+C para parar)\" -ForegroundColor Green\r\nWrite-Host \"\"\r\n\r\n# --- Iniciar servidor HTTP ---\r\n$memoryExe = Join-Path (Split-Path $pythonPath) \"Scripts\\memory.exe\"\r\n\r\nif (Test-Path $memoryExe) {\r\n    & $memoryExe server --http --storage-backend $storageBackend\r\n} else {\r\n    & $pythonPath -m mcp_memory_service.cli.main server --http --storage-backend $storageBackend\r\n}\r\n","epoch":7,"telemetryInfo":{}}]],"operations":[{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_pm\\copilot\\.copilot-core\\.internal\\scripts\\start-memory-dashboard.ps1","_sep":1,"external":"file:///d%3A/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","path":"/D:/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","scheme":"file"},"requestId":"request_2dc6a29d-725c-42f2-9074-82f574da46ae","epoch":4,"edits":[{"text":".main","range":{"startLineNumber":99,"startColumn":44,"endLineNumber":99,"endColumn":44}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_pm\\copilot\\.copilot-core\\.internal\\scripts\\start-memory-dashboard.ps1","_sep":1,"external":"file:///d%3A/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","path":"/D:/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","scheme":"file"},"requestId":"request_c11d40ef-3804-4e2c-aed9-d73857e102d6","epoch":8,"edits":[{"text":"scripts/ -> .internal/ -> .copilot-core/ -> workspace/ -> .vscode/mcp.json\r\n$mcpJson = Join-Path $PSScriptRoot \"..\\","range":{"startLineNumber":38,"startColumn":12,"endLineNumber":39,"endColumn":34}}]}],"epochCounter":9},"recentSnapshot":{"entries":[{"resource":"file:///d%3A/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1","languageId":"powershell","originalHash":"9745d0b","currentHash":"9745d0b","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/d%3A/Repos/_pm/copilot/.copilot-core/.internal/scripts/start-memory-dashboard.ps1?%7B%22session%22%3A%7B%22%24mid%22%3A1%2C%22external%22%3A%22vscode-chat-session%3A%2F%2Flocal%2FOTkyOGRlMTItZWQxMC00MDU5LTk3OGUtMzk1NDVkYTFmOTdj%22%2C%22path%22%3A%22%2FOTkyOGRlMTItZWQxMC00MDU5LTk3OGUtMzk1NDVkYTFmOTdj%22%2C%22scheme%22%3A%22vscode-chat-session%22%2C%22authority%22%3A%22local%22%7D%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_c11d40ef-3804-4e2c-aed9-d73857e102d6","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-opus-4.6","modeId":"agent"}}]}}