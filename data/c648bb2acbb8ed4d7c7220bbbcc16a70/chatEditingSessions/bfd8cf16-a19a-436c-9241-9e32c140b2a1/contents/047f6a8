---
name: agent-memory-register
description: Registra novas li√ß√µes aprendidas e decis√µes importantes no projeto. Use ap√≥s decis√µes arquiteturais significativas, corre√ß√£o de erros com aprendizado √∫til, descoberta de padr√µes, quando o usu√°rio pedir para guardar/salvar/anotar/lembrar qualquer informa√ß√£o, ou AUTOMATICAMENTE quando o usu√°rio corrigir/alterar c√≥digo gerado pelo agente (para aprender o padr√£o correto). Triggers: "registrar li√ß√£o", "lembrar isso", "guarda isso", "salva isso", "anota isso", "n√£o esquece", "memoriza", "decis√£o importante", "aprendi que", "descobri que", "n√£o √© assim", "muda isso", "corrige isso", "prefiro assim", "faz diferente", ap√≥s resolver bug complexo, ap√≥s corre√ß√£o de c√≥digo gerado.
metadata:
  author: copilot-core
  version: "1.0"
  category: agent
---

# Agent Memory Register

Registra novas li√ß√µes aprendidas na mem√≥ria persistente do projeto.

## Quando Usar

- Ap√≥s decis√£o arquitetural que impacta o projeto
- Erro corrigido com aprendizado √∫til
- Novo padr√£o estabelecido
- Descoberta importante sobre o projeto
- Usu√°rio pede para "lembrar" ou "registrar"
- **Automaticamente** quando o usu√°rio corrige/altera c√≥digo gerado pelo agente
- **Automaticamente** quando o usu√°rio indica prefer√™ncia de estilo ou padr√£o

## Quando N√ÉO Usar

- Mudan√ßa trivial de c√≥digo (typo, vari√°vel errada) sem padr√£o recorrente
- Decis√£o tempor√°ria ou experimental
- Informa√ß√£o j√° documentada em README
- Detalhes de implementa√ß√£o muito espec√≠ficos
- Corre√ß√£o por mudan√ßa de requisito (usu√°rio mudou de ideia, n√£o corrigiu padr√£o)

## Workflow

### 1. Avaliar se deve registrar

**Registrar se:**
- Decis√£o arquitetural com impacto
- Erro corrigido com li√ß√£o aprendida
- Padr√£o novo estabelecido
- Descoberta importante
- Usu√°rio corrigiu c√≥digo gerado pelo agente (padr√£o de prefer√™ncia)
- Usu√°rio indicou como prefere que algo seja feito

**N√£o registrar se:**
- Typo ou erro pontual sem padr√£o
- Decis√£o tempor√°ria
- J√° documentado em outro lugar
- Usu√°rio mudou de requisito (n√£o corrigiu padr√£o)

### 2. Determinar categoria

| Categoria | Quando Usar |
|-----------|-------------|
| arquitetura | Estrutura do projeto, organiza√ß√£o |
| padr√µes | Conven√ß√µes de c√≥digo, nomenclatura |
| tooling | Ferramentas, depend√™ncias, configs |
| workflow | Processos, automa√ß√µes |
| debug | Problemas resolvidos, armadilhas |
| performance | Otimiza√ß√µes, melhorias |
| seguran√ßa | Pr√°ticas de seguran√ßa |

### 3. Formatar li√ß√£o

Usar template:

```xml
<lesson date="YYYY-MM-DD" category="categoria">
  <context>Contexto do problema ou situa√ß√£o</context>
  <decision>Decis√£o tomada e por qu√™</decision>
  <outcome>Resultado e impacto</outcome>
</lesson>
```

### 4. Adicionar ao arquivo

- Ler: `{workspace}/.github/.copilot-project/memory/lessons-learned.md`
- Adicionar nova li√ß√£o na se√ß√£o "## Registro"
- Manter ordem cronol√≥gica (mais recente primeiro)

**Se arquivo n√£o existe:**
‚Üí Usar skill `agent-memory-init` primeiro

### 5. Confirmar registro

**Output**:
```
üìù **Li√ß√£o registrada**
- Categoria: {categoria}
- Resumo: {resumo breve}
```
