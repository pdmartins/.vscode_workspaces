{"version":2,"initialFileContents":[["file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","f5cb402"],["file:///d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","9a5cc3c"],["file:///d%3A/Repos/_hv/STT/.github/instructions/workspace.instructions.md","6341172"],["file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","da39a3e"]],"timeline":{"checkpoints":[{"checkpointId":"3870fc91-40a8-4eff-887b-9dd004cb2401","epoch":0,"label":"Initial State","description":"Starting point before any edits"},{"checkpointId":"12b022b0-c7b4-42f8-b4e4-a8998b1cbd24","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":1,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0"},{"checkpointId":"ff893d8a-6101-4618-9f47-f7665abca0a7","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"c01fb0f3-a2ad-41e7-9301-d2fb10ae1e1a","epoch":2,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop c01fb0f3-a2ad-41e7-9301-d2fb10ae1e1a"},{"checkpointId":"84b98771-ae8b-4beb-8284-05d55085b160","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"490a20ae-b2c9-49d9-9bfd-c703f6c3829a","epoch":5,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop 490a20ae-b2c9-49d9-9bfd-c703f6c3829a"},{"checkpointId":"70deea29-958f-4f00-be5b-77266174cbab","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"0e57ac1f-7598-4088-acd5-5bd261ff36c6","epoch":7,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop 0e57ac1f-7598-4088-acd5-5bd261ff36c6"},{"checkpointId":"a260da98-7612-48cc-80e0-abb78ffb1052","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"6f74dbf0-61d3-46aa-9bb5-6d431d427ac5","epoch":9,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop 6f74dbf0-61d3-46aa-9bb5-6d431d427ac5"},{"checkpointId":"8984568f-6331-4acf-8ceb-ee203373b3ac","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"8862efcc-d967-433f-be4e-4aa737f68a88","epoch":11,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop 8862efcc-d967-433f-be4e-4aa737f68a88"},{"checkpointId":"541fa43e-1cff-4e03-bc90-9848258577ee","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"c0f70c3c-6e98-4973-8142-c00673bfda2a","epoch":13,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop c0f70c3c-6e98-4973-8142-c00673bfda2a"},{"checkpointId":"acbbceb6-b73f-47b3-8fec-fb1a2de11f03","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"a008aece-bf65-498e-a4f9-f72743732868","epoch":15,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop a008aece-bf65-498e-a4f9-f72743732868"},{"checkpointId":"70264573-194e-4554-8d4c-c69cdaf3eba7","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"d8e0b262-c972-4435-9715-104ffd1c7a28","epoch":18,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop d8e0b262-c972-4435-9715-104ffd1c7a28"},{"checkpointId":"b611c819-2017-4c2e-b1fb-5b54fa26caaf","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"27acb487-578c-407d-9c47-d32f7421a60b","epoch":21,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop 27acb487-578c-407d-9c47-d32f7421a60b"},{"checkpointId":"256fdf31-7af2-4106-8432-4868ba9e7a1a","requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","undoStopId":"ceedffd0-dd8e-45ac-ab95-376338b1c549","epoch":23,"label":"Request request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0 - Stop ceedffd0-dd8e-45ac-ab95-376338b1c549"},{"checkpointId":"27339eef-0508-4c9c-8c67-0a91813f8c0f","requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":25,"label":"Request request_b05fdbe2-c615-4951-81cd-4d773c5643ef"},{"checkpointId":"00ee8e4f-016f-40de-a5ee-db4c9e9286b0","requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","undoStopId":"4c3c144e-410c-4b2f-a446-3265f055b67d","epoch":26,"label":"Request request_b05fdbe2-c615-4951-81cd-4d773c5643ef - Stop 4c3c144e-410c-4b2f-a446-3265f055b67d"},{"checkpointId":"75df3b66-fab9-438e-aae3-5fe73102cc1e","requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","undoStopId":"bdb5a3f0-1474-4899-8f4b-35a91a2ee77d","epoch":31,"label":"Request request_b05fdbe2-c615-4951-81cd-4d773c5643ef - Stop bdb5a3f0-1474-4899-8f4b-35a91a2ee77d"},{"checkpointId":"af86f5ab-f66b-4000-a2ae-f6c17ae3ecbb","requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","undoStopId":"77534f3b-c93b-47b4-bfc7-a21456eccb65","epoch":33,"label":"Request request_b05fdbe2-c615-4951-81cd-4d773c5643ef - Stop 77534f3b-c93b-47b4-bfc7-a21456eccb65"},{"checkpointId":"a478758c-9759-45e6-b8bd-80caac47d024","requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","undoStopId":"a2f2d8ca-7aa4-4a4a-abbf-f0d38334d532","epoch":40,"label":"Request request_b05fdbe2-c615-4951-81cd-4d773c5643ef - Stop a2f2d8ca-7aa4-4a4a-abbf-f0d38334d532"},{"checkpointId":"0e144b4a-1757-499e-8b65-ce2f34d0ace9","requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","undoStopId":"48015dbc-d4dc-4f72-8571-5fa6fcf7644c","epoch":42,"label":"Request request_b05fdbe2-c615-4951-81cd-4d773c5643ef - Stop 48015dbc-d4dc-4f72-8571-5fa6fcf7644c"}],"currentEpoch":420,"fileBaselines":[["file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md::request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0",{"uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","content":"# Project Context — STT (Speech-To-Text)\r\n\r\nEstado atual do projeto para referência do Copilot.\r\n\r\n---\r\n\r\n## Objetivo\r\n\r\nSistema de transcrição de voz por IA para o contexto de Telemedicina (TeleHealth) da Hapvida. O fluxo principal é: o cliente (frontend TeleHealth) faz upload de áudio (.webm) para o Google Cloud Storage via URL assinada, um evento Pub/Sub dispara o Consumer que envia o áudio para o Vertex AI (Gemini 2.5 Flash) para transcrição, persiste o resultado no BigQuery e Redis, e a API permite consultar as transcrições.\r\n\r\n## Repos\r\n\r\n| Repo | Tipo | Propósito | Solution Projects |\r\n|------|------|-----------|-------------------|\r\n| `VoiceTranscription.AI.Api` | REST API (.NET 8 Web) | Gera URLs assinadas para upload no GCS e consulta transcrições do BigQuery/Cache | Api, Domain, Infra.Data.Queries, Infra.Cache, UnitTests |\r\n| `VoiceTranscription.Ai.Consumer` | Worker Service (.NET 8) | Consome eventos Pub/Sub, envia áudio para Vertex AI (Gemini), persiste resultados no BigQuery e Redis | Consumer, Domain, Infra.Cache, UnitTests |\r\n\r\n### API — Endpoints\r\n\r\n| Controller | Método | Rota | Descrição |\r\n|------------|--------|------|-----------|\r\n| `SpeechTextController` | `GET` | `api/v1/speech-text/transcription?workId=` | Busca transcrição (cache-first, fallback BigQuery) |\r\n| `SpeechTextController` | `GET` | `api/v1/speech-text/latency?workId=&dataInicio=&dataFim=` | Calcula latência de processamento |\r\n| `UrlController` | `GET` | `api/v1/url/signed/upload` | Gera signed URL para upload no GCS |\r\n| `UrlController` | `POST` | `api/v1/url/signed/upload` | Gera signed URL com prompt/platform e registra no BigQuery |\r\n\r\n### Consumer — Fluxo de Processamento\r\n\r\n1. `TransactionConsumerHandler` (BackgroundService) → inicia listener Pub/Sub\r\n2. `TranscriptionsCommandHandler` → gerencia subscriber, filtra `OBJECT_FINALIZE`\r\n3. `TranscriptionMessageProcessor` → extrai workId, monta URI, chama Vertex AI\r\n4. `VertexAiService` → busca prompt no BigQuery (fallback: `PromptDefault.Anamnesis`), chama Gemini 2.5 Flash\r\n5. Resultado persistido em paralelo: `Task.WhenAll(cacheTask, bigQueryTask)`\r\n\r\n### Consumer — Integração com Gemini\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| Modelo | `gemini-2.5-flash` |\r\n| SDK | `Google.GenAI` v0.6.0 |\r\n| Temperature | 0.0 (determinístico) |\r\n| TopP | 0.95 |\r\n| ResponseMimeType | `application/json` (structured output) |\r\n| ThinkingBudget | 0 (desabilitado) |\r\n| ResponseSchema | JSON Schema com `transcription`, `symptoms`, `suggestedCIDs` |\r\n| Input | FileData (GCS URI, audio/mpeg) + Prompt text |\r\n| Retry | HTTP 429 → Pub/Sub Nack (redelivery) |\r\n| Token Tracking | Salva usage metadata no BigQuery (`Token_Data`) |\r\n| Dynamic Prompts | Busca prompt customizado no BigQuery; fallback para `PromptDefault.Anamnesis` |\r\n| Labels | `source_platform: Telehealth|Emergency` |\r\n\r\n## Stack\r\n\r\n| Componente | Tecnologia | Versão | Usado em |\r\n|------------|------------|--------|----------|\r\n| Linguagem | C# | 12.0 | Ambos |\r\n| Framework | .NET | 8.0 | Ambos |\r\n| AI/ML | Google Vertex AI (Gemini 2.5 Flash) via `Google.GenAI` | 0.6.0 | Consumer |\r\n| Message Broker | Google Cloud Pub/Sub | 3.30.0 | Consumer |\r\n| Database | Google BigQuery | 3.11.0 | Ambos |\r\n| Cache | Redis (StackExchange) | 8.0.7 | Ambos |\r\n| Object Storage | Google Cloud Storage | 4.13.0 | API |\r\n| HTTP Client | Refit | 8.0.0 | API (Infra.Data.Queries) |\r\n| Audio Processing | NAudio + Xabe.FFmpeg | 2.2.1 / 6.0.2 | API (referenciados mas sem uso visível) |\r\n| Mediator | MediatR (via Hapvida.Core.Domain) | — | Ambos |\r\n| Observability | OpenTelemetry → Datadog | 2.1.0 | Ambos |\r\n| Testes (API) | xUnit + Moq + NSubstitute + Bogus + Coverlet | — | API |\r\n| Testes (Consumer) | xUnit + Moq + Bogus + Coverlet | — | Consumer |\r\n\r\n## Arquitetura\r\n\r\n**Layered Architecture** com pastas numeradas na solution:\r\n\r\n```\r\n0 - Presentation    → Api / Consumer (entry point)\r\n1 - Domain          → Domain (business logic, contracts, services)\r\n2 - Infrastructure  → Infra.Cache, Infra.Data.Queries (apenas API)\r\n3 - Tests           → UnitTests\r\n```\r\n\r\n### Padrões utilizados\r\n\r\n- **Command/Handler** — pares isolados command/handler via MediatR (`Hapvida.Core.Domain`)\r\n- **Query/Handler** — queries de leitura separadas de comandos (CQRS-lite)\r\n- **Bootstrapper** — `Bootstrapper.cs` estático com extension methods para registro de DI\r\n- **Wrapper** — `BigQueryClientWrapper` (API), `VertexClientWrapper` (Consumer) para testabilidade\r\n- **Interface segregation** — `Contracts/v1/` com interfaces de serviço granulares (`IBigQueryServiceReader`/`IBigQueryServiceWriter`)\r\n- **API versioning** — pastas `v1/` em todas as camadas\r\n- **Options pattern** — `IOptions<T>` para configurações tipadas\r\n- **Multi-stage Dockerfile** — 6 stages (base → build → test → build app → publish → final)\r\n- **Cache-aside** — API lê do cache primeiro, fallback para BigQuery, persiste no cache\r\n- **Domain notifications** — `IDomainContextNotifications` para erros de validação\r\n- **Fail-fast** — validação de config no startup com `ArgumentNullException.ThrowIfNull()`\r\n\r\n### Data Flow\r\n\r\n```\r\nClient → [Signed URL] → GCS Upload (.webm)\r\n                              ↓ (event OBJECT_FINALIZE)\r\n                        Google Pub/Sub\r\n                              ↓\r\n                     Consumer (Worker Service)\r\n                     ├─→ BigQuery (busca prompt customizado, fallback para default)\r\n                     ├─→ Vertex AI (Gemini 2.5 Flash) → Transcrição JSON\r\n                     │     { transcription, symptoms, suggestedCIDs }\r\n                     ├─→ BigQuery (persiste transcrição em File_Transcription)\r\n                     ├─→ BigQuery (persiste token usage em Token_Data)\r\n                     └─→ Redis Cache (consulta rápida)\r\n                              ↓\r\n                        API (lê de Cache/BigQuery)\r\n                              ↓\r\n                        Client (TeleHealth frontend)\r\n```\r\n\r\n### BigQuery Tables\r\n\r\n| Tabela | Propósito | Usado por |\r\n|--------|-----------|-----------|\r\n| `File_Transcription` | Transcrições, status, CIDs, sintomas | API (read), Consumer (write), API (write signed URL records) |\r\n| `Token_Data` | Metadata de uso de tokens do Gemini | Consumer (write) |\r\n| `Prompts` | Prompts customizados por ID | Consumer (read) |\r\n\r\n## Infraestrutura\r\n\r\n| Aspecto | Detalhes |\r\n|---------|----------|\r\n| Container Registry | Azure Container Registry (`hapvidacorp.azurecr.io`) + GCP GCR |\r\n| Base Images | Golden images: `dotnet-8-aspnet`, `dotnet-8-sdk` |\r\n| Orquestração | Kubernetes (GKE) |\r\n| CI/CD | Azure Pipelines → Docker build, SonarQube, TechDocs |\r\n| Code Quality | SonarQube |\r\n| Developer Portal | Backstage (catalog-info.yaml, mkdocs.yaml) |\r\n| Observabilidade | OpenTelemetry → Datadog (APM, traces, runtime metrics) |\r\n| Redis em K8s | Redis 7.0 sidecar (apenas API), 4.6 GB maxmemory, LRU eviction |\r\n| GCP Project | `prj-hap-ti-vtx-voice-trsc-dev` |\r\n| K8s (API) | LoadBalancer interno, liveness `/health` (30s), readiness `/ready` (10s) |\r\n| K8s (Consumer) | Deployment sem health checks, sem sidecars |\r\n\r\n### K8s Differences\r\n\r\n| Aspecto | API | Consumer |\r\n|---------|-----|----------|\r\n| Tipo de Service | LoadBalancer (interno GKE) | Nenhum (não expõe porta) |\r\n| Redis Sidecar | Sim (Redis 7.0, ConfigMap) | Não |\r\n| Health Checks | Liveness `/health`, Readiness `/ready` | Nenhum |\r\n| Datadog APM | Labels + admission controller | Labels + admission controller |\r\n\r\n## Pacotes Internos (Hapvida.Core)\r\n\r\n| Pacote | Versão | Usado em | Propósito |\r\n|--------|--------|----------|-----------|\r\n| `Hapvida.Core.Api.Http` | 2.1.2 | API | Bootstrapping de API (AddAppContext, UseApplicationContext, BaseController) |\r\n| `Hapvida.Core.Domain` | 2.1.1 | Ambos | Base de domínio (MediatR, CommandHandler, Query, Command) |\r\n| `Hapvida.Core.Infra.Services.Http` | 2.1.0 | API | Infraestrutura HTTP |\r\n| `Hapvida.Core.Infra.OpenTelemetry.Exporter.Collector` | 2.1.0 | Ambos | Export OpenTelemetry → Datadog |\r\n| `Hapvida.Core.Infra.EventBus.ServiceBus` | 2.1.0 | Consumer | Event bus, BaseConsumerHandler |\r\n\r\n## Convenções\r\n\r\n1. **Namespace**: `Hapvida.TI.VoiceTranscription.[Layer]` — prefixo corporativo, PascalCase\r\n2. **API versioning**: pastas `v1/` em todas as camadas\r\n3. **Bootstrapper pattern**: `Bootstrapper.cs` estático com extension methods para DI\r\n4. **GlobalUsings.cs**: `global using` centralizado por projeto\r\n5. **Nullable reference types**: habilitado\r\n6. **Warnings as errors**: `TreatWarningsAsErrors=true`\r\n7. **C# 12**: `LangVersion=12.0`\r\n8. **Config binding**: Options pattern (`IOptions<T>`, `GetSection().Get<T>()`)\r\n9. **Argument validation**: `ArgumentNullException.ThrowIfNull()` para validação de config\r\n10. **User Secrets**: habilitado para dev local (apenas API)\r\n11. **Test coverage**: apenas Domain layer (`[*.Domain?]*`)\r\n12. **Cultures**: `pt-BR` primário, `en-US` secundário\r\n13. **Error handling**: Domain notifications para validação, cache resiliente (swallows exceptions), BigQuery writer retorna bool\r\n14. **Logging**: Structured logging via `ILogger<T>` com templates estáticos (`LogsTemplate`/`LogTemplate`)\r\n15. **DI lifetimes**: GCP clients como Singleton, handlers como Scoped/Transient\r\n16. **Serialization**: `System.Text.Json` primário, `Newtonsoft.Json` pontual no Consumer\r\n\r\n## Restrições\r\n\r\n- Usar apenas golden images da Hapvida para Docker (`hapvidacorp.azurecr.io`)\r\n- NuGet packages internos via Azure Artifacts feed privado\r\n- Cobertura de testes focada exclusivamente na camada Domain\r\n- `TreatWarningsAsErrors` sempre habilitado\r\n- Manter compatibilidade com .NET 8.0\r\n- Prompts de IA em português (contexto médico brasileiro — CIDs, terminologia SUS)\r\n\r\n## Integrações\r\n\r\n| Sistema | Propósito | Status | Usado por |\r\n|---------|-----------|--------|-----------|\r\n| Google Vertex AI (Gemini 2.5 Flash) | Transcrição de áudio via IA | Ativo | Consumer |\r\n| Google Cloud Pub/Sub | Message broker para eventos de upload | Ativo | Consumer |\r\n| Google BigQuery | Persistência de transcrições, tokens e prompts | Ativo | Ambos |\r\n| Google Cloud Storage | Upload/leitura de arquivos de áudio (.webm) | Ativo | API (signed URL), Consumer (referência) |\r\n| Redis | Cache para consulta rápida de transcrições | Ativo | Ambos |\r\n| Datadog | Observabilidade (APM, traces, métricas) | Ativo | Ambos |\r\n| SonarQube | Análise de qualidade de código | Ativo | Ambos |\r\n| Backstage | Portal do desenvolvedor e TechDocs | Ativo | Ambos |\r\n| Azure DevOps | CI/CD pipelines | Ativo | Ambos |\r\n\r\n## Tech Debt Identificado\r\n\r\n| Item | Projeto | Impacto | Detalhe |\r\n|------|---------|---------|---------|\r\n| Namespace typo `Hapvvida` | API (Infra.Data.Queries) | Confusão de imports | `RootNamespace` no csproj tem duplo 'v' |\r\n| Mixed mocking frameworks | API (UnitTests) | Inconsistência | Usa Moq E NSubstitute no mesmo projeto |\r\n| Pre-release packages | API | Risco de breaking changes | `System.Text.Json 10.0.0-rc.1`, `System.Management 10.0.0-rc.1` em target .NET 8 |\r\n| Packages sem uso visível | API | Bloat de dependências | `NAudio`, `Xabe.FFmpeg`, `Refit`, `System.Management` referenciados mas sem uso no código |\r\n| GCS ListObjects client-side filter | API | Performance em escala | `GoogleCloudStorageService.ListByCreatedAtAsync` lista TODOS objetos e filtra in-memory |\r\n| Sem health checks no K8s | Consumer | Resiliência | Deployment sem liveness/readiness probes |\r\n| BaseConsumerHandler não utilizado | Consumer | Dead code | Existe mas `TransactionConsumerHandler` herda de `BackgroundService` |\r\n| Mixed serialization | Consumer | Inconsistência | `System.Text.Json` e `Newtonsoft.Json` no mesmo projeto |\r\n| Logging inconsistente | Consumer | Manutenibilidade | Mix de structured templates e string interpolation |\r\n| Commands excluídos da compilação | API (Domain) | Confusão | `<Compile Remove=\"Commands\\**\" />` no Domain.csproj |\r\n\r\n## Testes\r\n\r\n| Projeto | Framework | Quantidade | Padrão |\r\n|---------|-----------|------------|--------|\r\n| API UnitTests | xUnit + Moq + NSubstitute | ~44 tests (8 classes) | AAA, `[Fact]`/`[Theory]`, `BuildSut` pattern |\r\n| Consumer UnitTests | xUnit + Moq | ~13 tests (4 classes) | AAA, `[Fact]`, Mock + Verify |\r\n\r\n## Estado Atual\r\n\r\n**Fase**: Produção\r\n**Status**: Sistema ativo em produção, usado pelo TeleHealth para transcrição de consultas médicas\r\n\r\n## Última Atualização\r\n\r\n**Data**: 2026-02-10\r\n**Motivo**: Análise profunda dos dois projetos — documentação completa de endpoints, fluxos, tech debt e detalhes técnicos\r\n","epoch":3,"telemetryInfo":{}}],["file:///d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md::request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0",{"uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\memory\\lessons-learned.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","content":"# Lessons Learned\r\n\r\nRegistro de aprendizados e decisões importantes do projeto.\r\n\r\n---\r\n\r\n## Estrutura\r\n\r\nCada lição segue o formato:\r\n\r\n```xml\r\n<lesson date=\"YYYY-MM-DD\" category=\"categoria\">\r\n  <context>Contexto do problema</context>\r\n  <decision>Decisão tomada</decision>\r\n  <outcome>Resultado/impacto</outcome>\r\n</lesson>\r\n```\r\n\r\n### Categorias\r\n\r\n| Categoria | Descrição |\r\n|-----------|-----------|\r\n| arquitetura | Estrutura do projeto |\r\n| padrões | Convenções de código |\r\n| tooling | Ferramentas e configs |\r\n| workflow | Processos |\r\n| debug | Problemas resolvidos |\r\n| performance | Otimizações |\r\n| segurança | Práticas de segurança |\r\n| regras | Definições e regras do sistema |\r\n| estrutura | Organização e estrutura de diretórios |\r\n\r\n## Lições\r\n\r\n<lesson date=\"2026-02-10\" category=\"regras\">\r\n  <context>O agente só registrava automaticamente correções de código gerado. Definições/correções de regras, estruturas e processos do próprio .copilot-core não eram capturadas.</context>\r\n  <decision>Ampliar o auto-registro para incluir correções de regras, estrutura e processos. O .copilot-core deve fazer self-dogfooding — usar seu próprio sistema de memória para governar seu desenvolvimento.</decision>\r\n  <outcome>Adicionada seção \"Registro automático — Correções de regras, estrutura e processos\" no default.instructions.md. Toda definição ou correção do usuário sobre como o sistema funciona agora é registrada automaticamente.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"estrutura\">\r\n  <context>Ao configurar o STT, o .copilot-core foi clonado com `-b main` em vez de `-b core`. O skill project-update referenciava `git pull origin main` para o core.</context>\r\n  <decision>Projetos consumidores SEMPRE usam a branch `core`, nunca `main`. A branch `core` contém apenas `instructions/`, `skills/` e `templates/` (sem `.github/` do repo de desenvolvimento). A branch `main` é exclusiva para desenvolvimento do core.</decision>\r\n  <outcome>Corrigido project-update skill. Documentada estratégia de branches no template workspace.instructions.md. Fixado clone do STT para branch core.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"estrutura\">\r\n  <context>Ao configurar projetos cujos repos não podem ter referência a submodules, a abordagem de junction (mklink /J) foi considerada mas rejeitada porque mudanças de branch no source refletem no projeto consumidor.</context>\r\n  <decision>Para projetos sem submodules, usar clones independentes dentro de uma pasta container `{projeto}/.github/`. Estrutura: pasta raiz não é git repo, repos do projeto ficam lado a lado, `.github/` contém clones separados de .copilot-core e .copilot-project + instructions/. Abrir a pasta raiz no VS Code.</decision>\r\n  <outcome>Setup funciona sem tocar nos repos originais. Cada projeto tem seus próprios clones com branches independentes. Copilot descobre instructions em `.github/instructions/` relativo ao workspace root.</outcome>\r\n</lesson>---\r\n\r\n## Registro\r\n\r\n<!-- Adicionar lições aqui, mais recente primeiro -->\r\n\r\n<lesson date=\"2026-02-10\" category=\"arquitetura\">\r\n  <context>Análise profunda revelou que API e Consumer possuem enums WorkStatus com valores numéricos divergentes (API: Processing=0, Completed=1, Pending=2 vs Consumer: Completed=0, Pending=1). Ambos projetos são independentes mas gravam/leem da mesma tabela BigQuery.</context>\r\n  <decision>Documentar a divergência como tech debt. Qualquer alteração no WorkStatus deve considerar ambos os projetos e a compatibilidade com dados existentes no BigQuery.</decision>\r\n  <outcome>Risco identificado — mudanças no enum de um projeto podem quebrar o outro silenciosamente.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"padrões\">\r\n  <context>Análise revelou que o namespace do projeto Infra.Data.Queries da API tem typo persistente: `Hapvvida` (duplo 'v') no RootNamespace do csproj, causando inconsistência em imports.</context>\r\n  <decision>Manter awareness do typo. Ao gerar código referenciando Infra.Data.Queries, usar o namespace correto com `Hapvvida` (duplo v) para compilar, mas sinalizar o issue.</decision>\r\n  <outcome>Evita erros de compilação por namespace incorreto ao gerar código.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"padrões\">\r\n  <context>API UnitTests usa AMBOS Moq e NSubstitute no mesmo projeto. Alguns test classes usam Moq, outros NSubstitute.</context>\r\n  <decision>Ao criar novos testes para a API, verificar qual framework o test class existente já usa e seguir o mesmo. Para novos test classes, preferir NSubstitute (mais recente nos testes).</decision>\r\n  <outcome>Consistência dentro de cada test class, minimizando confusão.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"arquitetura\">\r\n  <context>Consumer possui BaseConsumerHandler (herda de Hapvida.Core) que não é utilizado — TransactionConsumerHandler herda diretamente de BackgroundService.</context>\r\n  <decision>BaseConsumerHandler é dead code / legado do padrão Service Bus do Hapvida.Core. O Consumer atual usa Pub/Sub diretamente via SubscriberClient.</decision>\r\n  <outcome>Não usar BaseConsumerHandler como referência para novos consumers neste projeto.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"arquitetura\">\r\n  <context>API Domain.csproj exclui pasta Commands da compilação (`Compile Remove=\"Commands\\**\"`), e Infra.Data.Queries.csproj referencia pacotes não utilizados visivelmente (NAudio, Xabe.FFmpeg, Refit, System.Management).</context>\r\n  <decision>Código em Domain/Commands pode ser vestígio de refatoração. Packages potencialmente não utilizados são tech debt mas não devem ser removidos sem validação completa.</decision>\r\n  <outcome>Awareness para não referenciar esses artefatos como padrões a seguir.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"tooling\">\r\n  <context>Ambos projetos usam System.Text.Json como serialização primária, mas Consumer usa Newtonsoft.Json pontualmente no BigQueryService.InsertCompletedTranscriptionAsync (JsonConvert.SerializeObject).</context>\r\n  <decision>Para novas serializações, usar System.Text.Json (JsonSerializer) como padrão. Newtonsoft apenas se houver necessidade específica documentada.</decision>\r\n  <outcome>Consistência nas dependências de serialização.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"arquitetura\">\r\n  <context>Consumer K8s deployment não possui health checks (liveness/readiness probes), enquanto API possui ambos (/health e /ready).</context>\r\n  <decision>Documentado como tech debt. Worker Services .NET podem implementar health checks via IHealthCheck + endpoints HTTP em background.</decision>\r\n  <outcome>Risco de pods zombie em produção sem probes.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"padrões\">\r\n  <context>Agente gerou frontmatter de SKILL.md com description usando bloco multiline YAML (|) e em inglês.</context>\r\n  <decision>Descriptions de skills devem ser sempre inline (uma única linha), nunca multiline (|), e escritos em português seguindo o padrão dos demais skills.</decision>\r\n  <outcome>Consistência no formato de frontmatter de todos os skills.</outcome>\r\n</lesson>\r\n","epoch":16,"telemetryInfo":{}}],["file:///d%3A/Repos/_hv/STT/.github/instructions/workspace.instructions.md::request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0",{"uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\instructions\\workspace.instructions.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/instructions/workspace.instructions.md","path":"/d:/Repos/_hv/STT/.github/instructions/workspace.instructions.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","content":"---\r\napplyTo: '**'\r\n---\r\n\r\n# Workspace Context Instructions — STT (Speech-To-Text)\r\n\r\nEste workspace usa o sistema de instruções do Copilot Agent com o padrão [Agent Skills](https://agentskills.io).\r\n\r\n## Workspace Structure\r\n\r\n| Repo | Caminho | Propósito |\r\n|------|---------|-----------|\r\n| **Core** | `.github/.copilot-core/` | Skills genéricos reutilizáveis |\r\n| **Project** | `.github/.copilot-project/` | Skills e dados específicos do STT |\r\n| **API** | `VoiceTranscription.AI.Api/` | REST API (.NET 8) |\r\n| **Consumer** | `VoiceTranscription.Ai.Consumer/` | Worker Service (.NET 8) |\r\n\r\n## Arquitetura do Sistema\r\n\r\n```\r\nSTT/\r\n├── .github/\r\n│   ├── instructions/\r\n│   │   ├── workspace.instructions.md   # Este arquivo\r\n│   │   └── default.instructions.md     # Regras do agente\r\n│   ├── .copilot-core/                  # Clone - Core compartilhado\r\n│   │   ├── instructions/\r\n│   │   │   └── default.instructions.md\r\n│   │   ├── skills/                     # Core Skills (Agent Skills format)\r\n│   │   │   └── {skill-name}/\r\n│   │   │       └── SKILL.md\r\n│   │   └── templates/\r\n│   │       └── workspace.instructions.md\r\n│   │\r\n│   └── .copilot-project/              # Clone (branch _hv/STT)\r\n│       ├── context/\r\n│       │   ├── project.md              # Estado atual do projeto\r\n│       │   └── code-map/               # Mapa de código estruturado\r\n│       │       ├── index.md\r\n│       │       ├── services.md\r\n│       │       ├── models.md\r\n│       │       ├── api.md\r\n│       │       ├── components.md\r\n│       │       ├── utils.md\r\n│       │       └── config.md\r\n│       ├── memory/\r\n│       │   └── lessons-learned.md      # Lições aprendidas\r\n│       └── skills/                     # Project Skills\r\n│           └── {skill-name}/\r\n│               └── SKILL.md\r\n│\r\n├── VoiceTranscription.AI.Api/          # Repo API (intocado)\r\n└── VoiceTranscription.Ai.Consumer/     # Repo Consumer (intocado)\r\n```\r\n\r\n## Padrão Agent Skills\r\n\r\nCada skill segue o formato:\r\n\r\n```\r\n{contexto}-{funcionalidade}/\r\n└── SKILL.md\r\n```\r\n\r\n### SKILL.md Structure\r\n\r\n```markdown\r\n---\r\nname: {contexto}-{funcionalidade}\r\ndescription: {descrição completa + triggers}\r\nmetadata:\r\n  author: {autor}\r\n  version: \"1.0\"\r\n  category: {categoria}\r\n---\r\n\r\n# {Nome do Skill}\r\n\r\n{conteúdo em Markdown}\r\n```\r\n\r\n## Skills Core Disponíveis\r\n\r\n| Categoria | Skill | Propósito |\r\n|-----------|-------|-----------|\r\n| Agent | `agent-memory-query` | Consultar lições aprendidas |\r\n| Agent | `agent-memory-register` | Registrar novas lições |\r\n| Agent | `agent-memory-init` | Inicializar estrutura de memória |\r\n| Agent | `agent-todo` | Gerenciar tarefas complexas |\r\n| Code Map | `code-map-query` | Consultar mapa de código existente |\r\n| Code Map | `code-map-update` | Registrar/atualizar artefatos de código |\r\n| Code Map | `code-map-init` | Inicializar estrutura do mapa de código |\r\n| Project | `project-context-query` | Consultar contexto do projeto |\r\n| Project | `project-context-update` | Atualizar contexto |\r\n| Project | `project-context-init` | Inicializar contexto |\r\n| Project | `project-analyze` | Analisar projeto e sugerir skills |\r\n| Project | `project-create` | Criar projeto do workspace core |\r\n| Project | `project-bootstrap` | Configurar projeto já plugado |\r\n| Project | `project-init` | Guia manual de inicialização |\r\n| Project | `project-update` | Atualizar repos |\r\n| Project | `project-switch-branch` | Trocar branch do project |\r\n| Skill | `skill-create` | Criar novos skills |\r\n| Editor | `editor-markdown` | Regras de markdown |\r\n\r\n## Fluxo de Carregamento\r\n\r\n1. Agente escaneia `skills/` e lê frontmatter de cada `SKILL.md`\r\n2. Mantém índice com `name` e `description` de todas as skills\r\n3. Ao receber tarefa, compara com descriptions para decidir qual ativar\r\n4. Carrega body completo do `SKILL.md` quando skill é ativada\r\n5. Carrega `references/`, `scripts/`, `assets/` sob demanda\r\n\r\n## Estratégia de Branches\r\n\r\n### `.copilot-core`\r\n| Branch | Propósito | Conteúdo |\r\n|--------|-----------|----------|\r\n| `main` | Desenvolvimento do core | Tudo (`.github/`, workflows, docs, workspace file) |\r\n| `core` | **Distribuição para projetos** | Apenas `instructions/`, `skills/`, `templates/` |\r\n\r\n- **Este projeto usa a branch `core`** (clone em `.github/.copilot-core/`)\r\n- Para atualizar: `cd .github/.copilot-core && git pull origin core`\r\n\r\n### `.copilot-project`\r\n| Branch | Propósito |\r\n|--------|-----------|\r\n| `main` | Template base (agnóstico) |\r\n| `_hv/STT` | **Este projeto** |\r\n\r\n- Para atualizar: `cd .github/.copilot-project && git pull`\r\n\r\n## Regras deste Workspace\r\n\r\n1. **Core é genérico**: Nunca referenciar skills específicos de projeto\r\n2. **Project estende Core**: Adiciona skills, nunca substitui\r\n3. **Responsabilidade única**: Cada skill faz UMA coisa\r\n4. **Nomenclatura padronizada**: `{contexto}-{funcionalidade}`\r\n\r\n## Referência Rápida\r\n\r\n| Quando você disser... | Eu entendo como... |\r\n|----------------------|-------------------|\r\n| \"no Core\" | `.github/.copilot-core/` |\r\n| \"no Project\" | `.github/.copilot-project/` |\r\n| \"Core Skill\" | `.github/.copilot-core/skills/{name}/SKILL.md` |\r\n| \"Project Skill\" | `.github/.copilot-project/skills/{name}/SKILL.md` |\r\n| \"criar skill\" | Usar `skill-create` |\r\n| \"analisar projeto\" | Usar `project-analyze` |\r\n| \"API\" | `VoiceTranscription.AI.Api/` |\r\n| \"Consumer\" | `VoiceTranscription.Ai.Consumer/` |\r\n","epoch":19,"telemetryInfo":{}}],["file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md::request_b05fdbe2-c615-4951-81cd-4d773c5643ef",{"uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","content":"# Project Context — STT (Speech-To-Text) + AutoCid (CID Prediction)\r\n\r\nEstado atual do projeto para referência do Copilot. Multi-repo workspace com 6 serviços integrados.\r\n\r\n---\r\n\r\n## Objetivo\r\n\r\nDois sistemas de IA integrados ao fluxo de atendimento médico Hapvida:\r\n\r\n1. **STT (Speech-to-Text)**: Transcrição de voz por IA para Telemedicina (TeleHealth). Upload de áudio (.webm) → GCS → Pub/Sub → Vertex AI (Gemini 2.5 Flash) → transcrição com sintomas e CIDs sugeridos.\r\n2. **AutoCid (CID Prediction)**: Sugestão de códigos CID-10 via IA (BERT + Gemini) a partir da anamnese do paciente durante atendimento de emergência/internação.\r\n\r\nAmbos convergem no frontend Angular (SamWeb) usado por médicos em pronto-socorros e hospitais Hapvida.\r\n\r\n## Repos\r\n\r\n| Repo | Pasta Workspace | Tipo | Tech | Propósito |\r\n|------|----------------|------|------|-----------|\r\n| **Sigah.SamWeb.Web** | `Sigah.SamWeb.Web/` | Frontend | Angular 5, TypeScript 2.6, Node 10 | UI para médicos — anamnese, diagnóstico, prescrição, transcrição de voz |\r\n| **Sigah.SamWeb.Api** | `Sigah.SamWeb.Api/` | BFF (Backend For Frontend) | Python 3.6, Django 1.11 | Proxy/orquestrador entre Angular e Java API |\r\n| **Pep.SamWeb.Api** | `Pep.SamWeb.Api/` | Core API | Java 8, WildFly 9, JAX-RS | Lógica de negócio, acesso Oracle, orquestra chamadas para AI APIs |\r\n| **Insights.CidPrediction.Api** | *(ausente no workspace)* | AI API | .NET 6, C# | Orquestração de modelos ML (BERT emergência, Gemini internação) |\r\n| **VoiceTranscription.Api** | `VoiceTranscription.Api/` | REST API | .NET 8, C# 12 | Gera URLs assinadas para upload GCS, consulta transcrições BigQuery/Cache |\r\n| **VoiceTranscription.Consumer** | `VoiceTranscription.Consumer/` | Worker Service | .NET 8, C# 12 | Consome Pub/Sub, envia áudio para Vertex AI, persiste resultados |\r\n\r\n---\r\n\r\n## Arquitetura Completa\r\n\r\n```\r\n┌─────────────────────────┐\r\n│    Angular (SamWeb)     │\r\n│    :4200                │\r\n│    Sigah.SamWeb.Web     │\r\n└──────┬──────────────────┘\r\n       │  ┌───────────────────────────────────────────┐\r\n       │  │  Dual backend pattern:                     │\r\n       │  │  • Django BFF for domain data (CID search) │\r\n       │  │  • Java API direct for auth + IA + STT     │\r\n       ▼  ▼                                            │\r\n┌──────────────┐                              ┌───────┴─────────┐\r\n│  Django BFF  │ ──── proxies to ──────────►  │   Java (PEPSAM) │\r\n│  :8000       │                              │   :8080/WildFly │\r\n│  Sigah.Api   │                              │   Pep.SamWeb.Api│\r\n└──────────────┘                              └───┬────────┬────┘\r\n                                                  │        │\r\n                                    ┌─────────────┘        └────────────┐\r\n                                    ▼                                    ▼\r\n                           ┌────────────────┐                  ┌─────────────────┐\r\n                           │ .NET AI (CID)  │                  │ .NET STT API    │\r\n                           │ :5000          │                  │ :5007 (dev)     │\r\n                           │ CidPrediction  │                  │ VoiceTransc.Api │\r\n                           └────────────────┘                  └────────┬────────┘\r\n                           │ BERT + Gemini  │                           │\r\n                           │ → CID-10 codes │                  ┌───────┴────────┐\r\n                           └────────────────┘                  │  GCS Signed URL│\r\n                                                               │  Audio Upload  │\r\n                                                               └───────┬────────┘\r\n                                                                       │ Pub/Sub event\r\n                                                               ┌───────▼────────┐\r\n                                                               │ .NET Consumer  │\r\n                                                               │ VoiceTransc.   │\r\n                                                               │ Consumer       │\r\n                                                               └───────┬────────┘\r\n                                                                       │\r\n                                                               ┌───────▼────────┐\r\n                                                               │ Vertex AI      │\r\n                                                               │ Gemini 2.5 FL  │\r\n                                                               │ → Transcrição  │\r\n                                                               └───────┬────────┘\r\n                                                                       ▼\r\n                                                               BigQuery + Redis\r\n```\r\n\r\n### Relações Entre Repos\r\n\r\n| De → Para | Protocolo | Propósito |\r\n|-----------|-----------|-----------|\r\n| Angular → Django BFF | HTTP REST | Dados de domínio (CIDs, medicamentos, evolução) |\r\n| Angular → Java PEPSAM | HTTP REST (direto) | Autenticação, sugestão IA CID, transcrição voz, postos |\r\n| Angular → GCS | HTTP PUT (signed URL) | Upload de áudio .webm |\r\n| Django BFF → Java PEPSAM | HTTP REST (proxy) | Todas as rotas de domínio, proxied via `@service_method` |\r\n| Java PEPSAM → .NET CidPrediction | HTTP POST | Sugestão CID-10 via BERT/Gemini |\r\n| Java PEPSAM → .NET VoiceTranscription.Api | HTTP GET (OAuth2) | Obter signed URL + polling transcrição |\r\n| Java PEPSAM → Oracle DB | JDBC | Dados de atendimento, procedimentos, configurações de IA |\r\n| VoiceTranscription.Api → GCS | SDK | Gerar signed URLs para upload |\r\n| VoiceTranscription.Api → BigQuery | SDK | Registrar upload, consultar transcrições |\r\n| VoiceTranscription.Api → Redis | StackExchange | Cache de transcrições |\r\n| GCS → Pub/Sub | Event (OBJECT_FINALIZE) | Trigger automático ao upload de áudio |\r\n| VoiceTranscription.Consumer → Pub/Sub | gRPC (subscriber) | Consome eventos de upload |\r\n| VoiceTranscription.Consumer → Vertex AI (Gemini) | SDK (Google.GenAI) | Transcrição de áudio |\r\n| VoiceTranscription.Consumer → BigQuery | SDK | Persiste transcrição + token usage |\r\n| VoiceTranscription.Consumer → Redis | StackExchange | Cache de transcrição para consulta rápida |\r\n\r\n---\r\n\r\n## Detalhes por Repo\r\n\r\n### 1. Sigah.SamWeb.Web (Angular Frontend)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| Angular | 5.2.11 (CLI 1.7.4) |\r\n| Node | 10.13.0 |\r\n| TypeScript | 2.6.1 |\r\n| App Version | 5.44.0 |\r\n| Módulos | Monolítico (`AppModule` ~802 linhas, ~200+ components) |\r\n| Path alias | `@/*` → `./app/*` |\r\n\r\n**Funcionalidades principais:**\r\n- Anamnese com transcrição de voz (`TranscricaoAudioComponent`)\r\n- Diagnóstico com sugestão IA de CID (`DiagnosticoInicialComponent`, `Cid10IaService`)\r\n- Prescrição (medicamentos, hidratação venosa, dietas, hemoderivados)\r\n- Gestão de atendimento (fila, chamada, evolução, encerramento)\r\n- Histórico de paciente, exames, internações\r\n- Biometria (paciente e profissional)\r\n- Geração de PDF (atestados, receitas, declarações)\r\n\r\n**Dois sistemas de CID-IA paralelos:**\r\n1. `Cid10IaService` → via Django BFF → Java → .NET CidPrediction\r\n2. `DiagnosticoInicialService` → direto Java PEPSAM → .NET CidPrediction\r\n\r\n**Transcrição de voz (STT):**\r\n- `TranscricaoAudioService` → Java PEPSAM → VoiceTranscription.Api\r\n- MediaRecorder (audio/webm) → signed URL → GCS upload → polling resumo\r\n- Parametrização: `total` (auto) | `semTrava` | `justificativa` | `duplaBiometria`\r\n- Guard: `CanDeactivateIaTranscriptionGuard` previne navegação durante gravação\r\n\r\n**URLs de configuração (env.docker.json):**\r\n\r\n| Key | Valor Docker |\r\n|-----|-------------|\r\n| `BACKEND_URL` | `http://localhost:8000/` |\r\n| `PEPSAM_BACKEND_URL` | `https://app-desenv.hapvida.com.br/api/pepsam` |\r\n| `AI_TRANSCRIPTION_URL` | `http://localhost:5000` |\r\n\r\n### 2. Sigah.SamWeb.Api (Django BFF)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| Python | 3.6.9 (EOL dez/2021) |\r\n| Django | 1.11 (EOL abr/2020) |\r\n| DRF | 3.7.0 |\r\n| Release | 5.43.4 |\r\n| Database | **Nenhum próprio** — pure proxy |\r\n\r\n**Padrão core: `@service_method` decorator**\r\n- Declarativamente mapeia métodos Python para chamadas HTTP ao PEPSAM\r\n- Inflexão automática: `snake_case ↔ camelCase` nas request/response\r\n- `IntegracaoService` encaminha `Authorization` e `Data-Source` headers\r\n\r\n**Apps Django (16):**\r\n\r\n| App | Propósito |\r\n|-----|-----------|\r\n| `intmed_framework` | Framework base (Service, ViewSet, @service_method, archetype system) |\r\n| `integracao` | Bridge para PEPSAM API (~31 service classes) |\r\n| `autenticacao` | Login, biometria, logout (proxy para PEPSAM) |\r\n| `dominio` | Dados de domínio (CID-10, medicamentos, frequências, **sugestão IA CID**) |\r\n| `atendimentos` | Evoluções, diagnósticos, prescrições, termos |\r\n| `prescricao` | Catálogo de medicamentos (por princípio ativo, grupo farmacológico, etc.) |\r\n| `exames` | Resultados, solicitações, pendências |\r\n| `historicos` | Histórico do paciente (atendimentos, procedimentos, laudos) |\r\n| `prontuario` | Prontuários (termos, verificação COVID) |\r\n| `auditoria` | Relatórios (pacientes atendidos/ausentes) |\r\n| `profissionais` | Gestão de profissionais (recadastro, CRM) |\r\n| `emergencia` | Criticidade (sinais vitais → score) |\r\n| `usuario` | Assinatura digital, documentos pendentes |\r\n| `receitas` | Receituário (rotas via atendimentos) |\r\n| `compatibilizar` | Constantes de protocolo |\r\n\r\n**CID IA endpoint:**\r\n`POST dominios/diagnosticos/cids/{atendimento}/sugestao/` → proxy para Java PEPSAM → .NET CidPrediction\r\n\r\n### 3. Pep.SamWeb.Api (Java PEPSAM)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| Java | 1.8 (Java 8) |\r\n| App Server | WildFly 9.0.0.Beta1 |\r\n| Packaging | WAR |\r\n| Context Root | `/api/pepsam` |\r\n| GroupId | `br.com.hapvida.pepsam` |\r\n\r\n**Package structure:** `annotation/`, `config/`, `data/` (DAO), `dto/` (~200+), `enuns/` (41), `model/` (~250+), `rest/` (35), `service/` (31), `util/`\r\n\r\n**REST endpoints principais (todos prefixados com `/{ds}`):**\r\n\r\n| Resource | Endpoints | Propósito |\r\n|----------|-----------|-----------|\r\n| `SugestaoCidREST` | POST `dominio/ia/sugestao-cid`, GET `dominio/ia/ativo`, POST `dominios/sugestao/cid` | Sugestão CID via IA |\r\n| `AtendimentosRESTService` (~5700 linhas) | GET `transcricao-voz/url-assinada`, GET `transcricao-voz/resumo`, POST `transcricao-voz/auditoria` | STT integration + atendimentos |\r\n| `AutenticacaoRESTService` | Login, logout, médicos por local | Autenticação |\r\n| `DominiosRESTService` | CID10, macrodiagnósticos, especialidades | Dados de domínio |\r\n| `PrescricaoRESTService` | Medicamentos, dietas, hemoderivados | Prescrição |\r\n| +30 outros resources | Exames, prontuários, postos, biometria, GED, receita, termos, etc. | |\r\n\r\n**Path parameter `{ds}`:** `HAP` (antonio-prudente) ou `SCHOSP` (santa-clara) — seleciona datasource Oracle.\r\n\r\n**Integrações externas chamadas pelo Java:**\r\n\r\n| Serviço | Property/Config | URL Pattern |\r\n|---------|----------------|-------------|\r\n| .NET CidPrediction | `URL_SERVICO_MAIDA_SUGES_CID_REST` | `http://csharp-api:80/api/v1` |\r\n| .NET CidPrediction (internação) | `URL_SERVICO_MAIDA_ENVIAR_CID_INTERNACAO` | `http://csharp-api:80/api/v1/int` |\r\n| VoiceTranscription.Api | Obtido do Oracle DB | `{urlBase}/url/signed/upload`, `{urlBase}/speech-text/transcription` |\r\n| Telemedicina (TIS) | Hardcoded | `/medical-opinion`, `/access-chat` |\r\n| Receituário | Hardcoded | `/api/v2/medicines`, `/api/v2/medical-prescriptions` |\r\n| Home Care, Cuidados Paliativos | Hardcoded | Várias |\r\n\r\n**Oracle Database (2 datasources):**\r\n\r\n| Persistence Unit | JNDI | Schema |\r\n|-----------------|------|--------|\r\n| `antonio-prudente` | `java:jboss/datasources/pepsam-antonio-prudenteDS` | HAP |\r\n| `santa-clara` | `java:jboss/datasources/pepsam-santa-claraDS` | SCHOSP |\r\n\r\n**Procedures Oracle relevantes:**\r\n- `pr_grava_sugestao_subcap_ia` → grava sugestões IA em `tb_sugestoes_cid_ia`\r\n- `fn_verifica_cid_ia_modelo` → obtém modelo IA para o atendimento\r\n- `gravaAuditoriaTranscricaoVoz` → audit trail de transcrição de voz\r\n- `obterPropriedadesTranscricaoVoz` → config STT (URL, chaves, credenciais OAuth2)\r\n\r\n### 4. VoiceTranscription.Api (.NET 8)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| .NET | 8.0, C# 12 |\r\n| Porta dev | 5007/7007 |\r\n| Porta K8s | 80 |\r\n| Layered | Api → Domain → Infra.Data.Queries, Infra.Cache |\r\n\r\n**Endpoints:**\r\n\r\n| Controller | Método | Rota | Descrição |\r\n|------------|--------|------|-----------|\r\n| `SpeechTextController` | `GET` | `api/v1/speech-text/transcription?workId=` | Busca transcrição (cache-first, fallback BigQuery) |\r\n| `SpeechTextController` | `GET` | `api/v1/speech-text/latency?workId=&dataInicio=&dataFim=` | Calcula latência de processamento |\r\n| `UrlController` | `GET` | `api/v1/url/signed/upload` | Gera signed URL para upload no GCS |\r\n| `UrlController` | `POST` | `api/v1/url/signed/upload` | Gera signed URL com prompt/platform e registra no BigQuery |\r\n\r\n**Health checks:** `/health` (liveness) e `/ready` (readiness) via Hapvida.Core.Api.Http.\r\n\r\n### 5. VoiceTranscription.Consumer (.NET 8)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| .NET | 8.0, C# 12 |\r\n| Tipo | Worker Service (BackgroundService) |\r\n| Porta | Nenhuma (não expõe HTTP) |\r\n| AI Model | Gemini 2.5 Flash via Vertex AI |\r\n\r\n**Fluxo:**\r\n1. `TransactionConsumerHandler` → listener Pub/Sub\r\n2. `TranscriptionsCommandHandler` → filtra `OBJECT_FINALIZE`\r\n3. `TranscriptionMessageProcessor` → extrai workId, monta URI\r\n4. `VertexAiService` → busca prompt BigQuery, chama Gemini 2.5 Flash\r\n5. Persiste em paralelo: BigQuery (`File_Transcription` + `Token_Data`) + Redis cache\r\n\r\n**Gemini config:** Temperature=0.0, TopP=0.95, ThinkingBudget=0, ResponseMimeType=application/json\r\n\r\n## Stack Completa\r\n\r\n| Componente | Tecnologia | Versão | Usado em |\r\n|------------|------------|--------|----------|\r\n| **Frontend** | Angular | 5.2.11 | Sigah.SamWeb.Web |\r\n| Frontend runtime | Node.js | 10.13.0 | Sigah.SamWeb.Web |\r\n| Frontend lang | TypeScript | 2.6.1 | Sigah.SamWeb.Web |\r\n| **BFF** | Django + DRF | 1.11 + 3.7.0 | Sigah.SamWeb.Api |\r\n| BFF runtime | Python | 3.6.9 | Sigah.SamWeb.Api |\r\n| **Core API** | Java (JAX-RS) | 1.8 | Pep.SamWeb.Api |\r\n| Core App Server | WildFly | 9.0.0.Beta1 | Pep.SamWeb.Api |\r\n| **STT API** | .NET / C# | 8.0 / 12.0 | VoiceTranscription.Api |\r\n| **STT Consumer** | .NET / C# | 8.0 / 12.0 | VoiceTranscription.Consumer |\r\n| **CID AI API** | .NET / C# | 6.0 | Insights.CidPrediction.Api |\r\n| AI/ML (STT) | Vertex AI (Gemini 2.5 Flash) | Google.GenAI 0.6.0 | VoiceTranscription.Consumer |\r\n| AI/ML (CID) | BERT + Gemini | — | Insights.CidPrediction.Api |\r\n| Database (Oracle) | Oracle Database | 19c | Pep.SamWeb.Api (JDBC), Sigah.SamWeb.Api (cx_Oracle) |\r\n| Database (BigQuery) | Google BigQuery | 3.11.0 | VoiceTranscription (ambos) |\r\n| Cache | Redis | 7.0 (K8s sidecar) | VoiceTranscription (ambos) |\r\n| Message Broker | Google Pub/Sub | 3.30.0 | VoiceTranscription.Consumer |\r\n| Object Storage | Google Cloud Storage | 4.13.0 | VoiceTranscription.Api |\r\n| Observability | OpenTelemetry → Datadog | 2.1.0 | VoiceTranscription (ambos), Sigah.SamWeb.Api |\r\n| Observability (RUM) | Datadog Browser RUM | 5.29.1 | Sigah.SamWeb.Web |\r\n| HTTP Client | Apache HttpClient | 4.5.13 | Pep.SamWeb.Api |\r\n| HTTP Client | requests | 2.18.4 | Sigah.SamWeb.Api |\r\n| HTTP Client | Refit | 8.0.0 | VoiceTranscription.Api |\r\n| Auth (frontend) | Session Storage + Token pass-through | — | Sigah.SamWeb.Web |\r\n| Auth (STT) | OAuth2 client_credentials | — | Pep.SamWeb.Api → VoiceTranscription.Api |\r\n| PDF | jspdf + html2pdf.js | 3.0.0 / 0.10.3 | Sigah.SamWeb.Web |\r\n| Biometria | Popup-based (AutenticacaoService) | — | Sigah.SamWeb.Web, Pep.SamWeb.Api |\r\n\r\n## Arquitetura\r\n\r\n### Padrões por Repo\r\n\r\n**VoiceTranscription (API + Consumer):**\r\n- **Layered Architecture** com pastas numeradas (0-Presentation, 1-Domain, 2-Infrastructure, 3-Tests)\r\n- **Command/Handler** via MediatR (CQRS-lite)\r\n- **Bootstrapper pattern** — `Bootstrapper.cs` estático com extension methods\r\n- **Options pattern** — `IOptions<T>` para configs tipadas\r\n- **Cache-aside** — lê cache primeiro, fallback BigQuery\r\n- **Multi-stage Dockerfile** — 5-6 stages (build → test → publish → final)\r\n\r\n**Pep.SamWeb.Api (Java):**\r\n- **DAO pattern** — `DominioDAO` → `DominioDAOImpl` com Oracle procedures\r\n- **Service layer** — `DominioService` → `DominioServiceImpl` (~4000 linhas)\r\n- **CDI injection** — `@Inject`, `@ApplicationProperty` custom annotation\r\n- **JPA/Hibernate** — entities mapeadas para views Oracle\r\n- **Path parameter `{ds}`** — HAP/SCHOSP seleciona datasource Oracle\r\n- **Properties dual** — arquivo `pepsam.properties` + configs do banco Oracle\r\n\r\n**Sigah.SamWeb.Api (Django BFF):**\r\n- **`@service_method` decorator** — mapeia métodos para chamadas HTTP (core pattern)\r\n- **`IntegracaoService`** — base class com token forwarding e datasource routing\r\n- **Archetype system** — serialização OpenEHR-style para formulários médicos\r\n- **Zero database models** — pure proxy/orquestrador\r\n- **Inflexão automática** — `snake_case ↔ camelCase` nas transformações\r\n\r\n**Sigah.SamWeb.Web (Angular):**\r\n- **Monolítico `AppModule`** — ~200+ components sem lazy loading\r\n- **Dual backend** — chama Django BFF E Java PEPSAM diretamente\r\n- **URL templating** — `{pepsamBackendUrl}`, `{dataSource}` resolvidos pelo interceptor HTTP\r\n- **SessionStorage auth** — token armazenado em sessionStorage, forwarded em headers\r\n\r\n### Data Flow — Transcrição de Voz (STT)\r\n\r\n```\r\n1. Angular: TranscricaoAudioComponent.startRecording()\r\n   └→ MediaRecorder (audio/webm) + health check 2s\r\n\r\n2. Angular: stopRecording() → sendoAudioToTranslate()\r\n   └→ GET {pepsamBackendUrl}/{ds}/atendimentos/{cod}/evolucao/{ne}/transcricao-voz/url-assinada\r\n\r\n3. Java PEPSAM: DominioServiceImpl.obterUrlUploadAudioTranscricaoVoz()\r\n   └→ OAuth2 token → GET VoiceTranscription.Api/url/signed/upload\r\n   └→ Returns { signedUrl, workId }\r\n\r\n4. Angular: PUT signed URL (GCS) with audio blob\r\n\r\n5. GCS → Pub/Sub (OBJECT_FINALIZE event)\r\n\r\n6. VoiceTranscription.Consumer:\r\n   └→ TranscriptionMessageProcessor → VertexAiService\r\n   └→ Gemini 2.5 Flash → { transcription, symptoms, suggestedCIDs }\r\n   └→ BigQuery + Redis\r\n\r\n7. Angular: polling GET {pepsamBackendUrl}/.../transcricao-voz/resumo?workId=X\r\n   └→ Every 10s, 5 attempts, waits for non-202\r\n\r\n8. Java PEPSAM: DominioServiceImpl.obterResumoTranscricaoVoz()\r\n   └→ OAuth2 token → GET VoiceTranscription.Api/speech-text/transcription?workId=X\r\n\r\n9. Angular: ModalAudioTranscritoComponent\r\n   └→ \"Copiar e aplicar no HDA\" → preenche queixa_principal (max 4000 chars)\r\n```\r\n\r\n### Data Flow — Sugestão CID-10 (AutoCid)\r\n\r\n```\r\n1. Angular: DiagnosticoInicialComponent → pesquisarDiagnosticoSugerido()\r\n   └→ POST {pepsamBackendUrl}/{ds}/dominio/ia/sugestao-cid (body: anamnese/archetype)\r\n\r\n   OU\r\n\r\n   Angular: Cid10IaService.getCidsIa()\r\n   └→ POST {BACKEND_URL}dominios/diagnosticos/cids/{atendimento}/sugestao/\r\n   └→ Django BFF proxy → Java PEPSAM\r\n\r\n2. Java PEPSAM: SugestaoCidREST/DominioServiceImpl\r\n   └→ Monta DadosAtendimentoMaida (view Oracle)\r\n   └→ POST http://csharp-api:80/api/v1 (emergência) ou /api/v1/int (internação)\r\n   └→ Grava sugestões: pr_grava_sugestao_subcap_ia → tb_sugestoes_cid_ia\r\n\r\n3. .NET CidPrediction: PredictController\r\n   └→ BERT model (emergência) ou Gemini (internação)\r\n   └→ Returns subcapítulos/CIDs sugeridos com confiança\r\n```\r\n\r\n### BigQuery Tables\r\n\r\n| Tabela | Propósito | Usado por |\r\n|--------|-----------|-----------|\r\n| `File_Transcription` | Transcrições, status, CIDs, sintomas | VoiceTranscription.Api (read/write), Consumer (write) |\r\n| `Token_Data` | Metadata de uso de tokens do Gemini | VoiceTranscription.Consumer (write) |\r\n| `Prompts` | Prompts customizados por ID | VoiceTranscription.Consumer (read) |\r\n| `StatusAudioTranscription` | Status de transcrição de áudio | VoiceTranscription.Consumer |\r\n\r\n### Oracle Tables/Views (Java PEPSAM)\r\n\r\n| Objeto | Tipo | Propósito |\r\n|--------|------|-----------|\r\n| `tb_sugestoes_cid_ia` | Table | Sugestões IA (BERT + Gemini/LLM) |\r\n| `TB_EVOLUCAO_RESULTADO` | Table | CID definitivo do médico |\r\n| `vw_dados_atendimento_maida` | View | Dados de atendimento para IA (JPA entity) |\r\n| `humaster.tb_uso_cid_ia` | Table | **DESCONTINUADA** — antigo indicadores IA |\r\n\r\n## Infraestrutura\r\n\r\n### Docker Compose (Ambiente de Desenvolvimento)\r\n\r\nO `docker-compose.yml` raiz orquestra 4 serviços na rede `autocid-network`:\r\n\r\n| Serviço | Container | Build | Porta Host |\r\n|---------|-----------|-------|------------|\r\n| `csharp-api` | `autocid-csharp-api` | `./Insights.CidPrediction.Api/src/Dockerfile.dev` | **5000** (HTTP), **5001** (HTTPS) |\r\n| `java-api` | `autocid-java-api` | `./Pep.SamWeb.Api/Dockerfile.dev` | **8080** (HTTP), **9990** (Admin), **8787** (Debug) |\r\n| `python-api` | `autocid-python-api` | `./Sigah.SamWeb.Api/Dockerfile` | **8000** (HTTP) |\r\n| `angular-web` | `autocid-angular-web` | `./Sigah.SamWeb.Web/Dockerfile.dev` | **4200** (HTTP) |\r\n\r\n**Dependency chain:** `csharp-api` → `java-api` → `python-api` → `angular-web`\r\n\r\n**Environment vars chave (docker-compose):**\r\n\r\n| Serviço | Variável | Valor |\r\n|---------|----------|-------|\r\n| `java-api` | `JAVA_OPTS` | `-Xms512m -Xmx2048m` |\r\n| `java-api` | `URL_SERVICO_MAIDA_SUGES_CID_REST` | `http://csharp-api:80/api/v1` |\r\n| `java-api` | `URL_SERVICO_MAIDA_ENVIAR_CID_INTERNACAO` | `http://csharp-api:80/api/v1/int` |\r\n| `python-api` | `PEPSAM_API_URL` | `http://java-api:8080/api/pepsam` |\r\n| `python-api` | `DB_HOST` | `10.1.23.75` (Oracle externo!) |\r\n| `python-api` | `DB_NAME` | `HOSPDES` |\r\n\r\n**Named volumes:** `csharp-nuget` (cache NuGet), `maven-cache` (cache Maven)\r\n\r\n**Bind mounts:** Todos serviços montam o código fonte para hot-reload.\r\n\r\n### Dependências Externas (NÃO containerizadas)\r\n\r\n| Dependência | Usado por | Host | Observação |\r\n|-------------|-----------|------|------------|\r\n| **Oracle Database** | Java PEPSAM, Django BFF | `dboradsv-scan.hapvida.com.br:1521` / `10.1.23.75:1521` | **Requer VPN corporativa** |\r\n| **Insights.CidPrediction.Api** | docker-compose (csharp-api) | — | **Repo ausente no workspace** — build falha |\r\n| **Google Cloud (GCS, Pub/Sub, BigQuery, Vertex AI)** | VoiceTranscription (ambos) | GCP | Credenciais em `appsettings.json` / K8s Secret |\r\n| **Azure Artifacts (NuGet feed)** | VoiceTranscription (ambos) | Azure DevOps | `NUGET_USER` + `NUGET_KEY` |\r\n\r\n### Recursos para Docker Local\r\n\r\n| Recurso | Mínimo | Recomendado |\r\n|---------|--------|-------------|\r\n| **RAM Docker** | 4 GB | 6-8 GB |\r\n| `java-api` (WildFly) | 512 MB | 2048 MB + ~500 MB overhead |\r\n| `csharp-api` | ~256 MB | ~512 MB |\r\n| `python-api` | ~128 MB | ~256 MB |\r\n| `angular-web` | ~256 MB | ~512 MB |\r\n| **Disco (imagens + caches)** | 5 GB | 8 GB |\r\n| **CPU** | 4 cores | 8 cores |\r\n| **Build inicial** | — | ~10-15 min |\r\n\r\n### Como Executar o Ambiente Docker\r\n\r\n```bash\r\n# Pré-requisitos:\r\n# 1. VPN corporativa Hapvida ativa (Oracle)\r\n# 2. Repo Insights.CidPrediction.Api clonado no workspace\r\n# 3. Docker Desktop com 6+ GB RAM\r\n# 4. Variáveis NUGET_USER e NUGET_KEY (se usar csharp-api)\r\n\r\ncd d:\\Repos\\_hv\\STT\r\n\r\n# Iniciar todos os serviços\r\ndocker-compose up -d\r\n\r\n# Acompanhar logs\r\ndocker-compose logs -f\r\n\r\n# Verificar status\r\ndocker-compose ps\r\n\r\n# URLs disponíveis:\r\n# - Frontend:       http://localhost:4200\r\n# - Django BFF:     http://localhost:8000\r\n# - Java PEPSAM:    http://localhost:8080/api/pepsam\r\n# - WildFly Admin:  http://localhost:9990 (admin/admin)\r\n# - C# AI API:      http://localhost:5000/api/v1\r\n```\r\n\r\n### VoiceTranscription — Não participa do Docker Compose\r\n\r\nVoiceTranscription.Api e Consumer são deployados **exclusivamente via K8s (GKE)** e CI/CD (Azure Pipelines). Possuem Dockerfiles de produção mas não estão no docker-compose de dev.\r\n\r\n### Infraestrutura de Produção\r\n\r\n| Aspecto | Detalhes |\r\n|---------|----------|\r\n| Container Registry | Azure Container Registry (`hapvidacorp.azurecr.io`) + GCP GCR |\r\n| Base Images (.NET) | Golden images: `dotnet-8-aspnet`, `dotnet-8-sdk` |\r\n| Base Images (Java) | `maven:3.9-eclipse-temurin-8` → `eclipse-temurin:8-jdk` |\r\n| Base Images (Python) | `python:3.6.9` |\r\n| Base Images (Node) | `node:10.13.0` |\r\n| Orquestração | Kubernetes (GKE) — namespace `hap-ti-voi` |\r\n| CI/CD | Azure Pipelines → Docker build, SonarQube, TechDocs |\r\n| Code Quality | SonarQube |\r\n| Developer Portal | Backstage (catalog-info.yaml, mkdocs.yaml) |\r\n| Observabilidade | OpenTelemetry → Datadog (APM, traces, runtime metrics) |\r\n| Redis em K8s | Redis 7.0 sidecar (apenas VoiceTranscription.Api), 4.6 GB maxmemory, LRU eviction |\r\n| GCP Project | `prj-hap-ti-vtx-voice-trsc-dev` |\r\n\r\n## Integrações\r\n\r\n| Sistema | Propósito | Status | Usado por |\r\n|---------|-----------|--------|-----------|\r\n| Google Vertex AI (Gemini 2.5 Flash) | Transcrição de áudio via IA | Ativo | VoiceTranscription.Consumer |\r\n| Google Cloud Pub/Sub | Message broker para eventos de upload | Ativo | VoiceTranscription.Consumer |\r\n| Google BigQuery | Persistência de transcrições, tokens e prompts | Ativo | VoiceTranscription (ambos) |\r\n| Google Cloud Storage | Upload/leitura de arquivos de áudio (.webm) | Ativo | VoiceTranscription.Api, Angular (signed URL) |\r\n| Redis | Cache para consulta rápida de transcrições | Ativo | VoiceTranscription (ambos) |\r\n| Oracle Database (19c) | Dados de atendimento, configurações, auditoria | Ativo | Pep.SamWeb.Api, Sigah.SamWeb.Api |\r\n| .NET CidPrediction (BERT+Gemini) | Sugestão CID-10 via IA | Ativo | Pep.SamWeb.Api → Insights.CidPrediction |\r\n| Telemedicina (TIS) | Tele-parecer, chat médico | Ativo | Pep.SamWeb.Api |\r\n| Receituário | Prescrição digital | Ativo | Pep.SamWeb.Api |\r\n| Home Care | Verificação de paciente em home care | Ativo | Pep.SamWeb.Api |\r\n| Cuidados Paliativos | Consulta de elegibilidade | Ativo | Pep.SamWeb.Api |\r\n| Datadog | Observabilidade (APM, traces, métricas, RUM) | Ativo | Todos |\r\n| SonarQube | Análise de qualidade de código | Ativo | VoiceTranscription (ambos) |\r\n| Backstage | Portal do desenvolvedor e TechDocs | Ativo | VoiceTranscription (ambos) |\r\n| Azure DevOps | CI/CD pipelines | Ativo | Todos |\r\n\r\n## Tech Debt Identificado\r\n\r\n### VoiceTranscription (.NET)\r\n\r\n| Item | Projeto | Impacto |\r\n|------|---------|---------|\r\n| Namespace typo `Hapvvida` | API (Infra.Data.Queries) | Confusão de imports |\r\n| Mixed mocking frameworks | API (UnitTests) | Moq E NSubstitute no mesmo projeto |\r\n| Pre-release packages | API | `System.Text.Json 10.0.0-rc.1` em target .NET 8 |\r\n| Packages sem uso visível | API | NAudio, Xabe.FFmpeg, Refit não usados |\r\n| GCS ListObjects client-side filter | API | Performance em escala |\r\n| Sem health checks K8s | Consumer | Risco de pods zombie |\r\n| BaseConsumerHandler dead code | Consumer | Legado do Service Bus |\r\n| Mixed serialization | Consumer | System.Text.Json + Newtonsoft.Json |\r\n| Commands excluídos compilação | API (Domain) | `<Compile Remove=\"Commands\\**\" />` |\r\n| WorkStatus enum divergente | API vs Consumer | API: Processing=0,Completed=1,Pending=2 vs Consumer: Completed=0,Pending=1 |\r\n\r\n### Legacy Stack (SamWeb + PEPSAM)\r\n\r\n| Item | Projeto | Impacto |\r\n|------|---------|---------|\r\n| Angular 5 (2017) | Sigah.SamWeb.Web | Sem patches de segurança, framework EOL |\r\n| Node 10 (EOL abr/2021) | Sigah.SamWeb.Web | Vulnerabilidades conhecidas |\r\n| Python 3.6.9 (EOL dez/2021) | Sigah.SamWeb.Api | Vulnerabilidades conhecidas |\r\n| Django 1.11 (EOL abr/2020) | Sigah.SamWeb.Api | Vulnerabilidades conhecidas |\r\n| WildFly 9.0.0.Beta1 (2015) | Pep.SamWeb.Api | Versão extremamente antiga sem suporte |\r\n| Java 8 | Pep.SamWeb.Api | Suporte estendido apenas |\r\n| Monolítico AppModule (~200+ components) | Sigah.SamWeb.Web | Performance de compilação e bundle size |\r\n| AtendimentosRESTService ~5700 linhas | Pep.SamWeb.Api | God class |\r\n| DominioServiceImpl ~4000 linhas | Pep.SamWeb.Api | God class |\r\n| Credenciais Oracle hardcoded | docker-compose, standalone.xml | Segurança |\r\n| Dual CID-IA systems paralelos | Angular → Django e Angular → Java | Complexidade desnecessária |\r\n| `Insights.CidPrediction.Api` ausente workspace | docker-compose | Build do csharp-api falha |\r\n\r\n## Convenções\r\n\r\n### VoiceTranscription (.NET)\r\n1. **Namespace**: `Hapvida.TI.VoiceTranscription.[Layer]` — PascalCase\r\n2. **API versioning**: pastas `v1/` em todas as camadas\r\n3. **Bootstrapper pattern**: `Bootstrapper.cs` estático com extension methods\r\n4. **Options pattern**: `IOptions<T>` para configs tipadas\r\n5. **C# 12**: `LangVersion=12.0`, nullable reference types habilitado\r\n6. **TreatWarningsAsErrors**: sempre habilitado\r\n7. **Test coverage**: apenas Domain layer\r\n8. **Serialization**: `System.Text.Json` primário\r\n\r\n### Pep.SamWeb.Api (Java)\r\n1. **Package**: `br.com.hapvida.pepsam`\r\n2. **Path param `{ds}`**: `HAP` ou `SCHOSP` em todas as rotas\r\n3. **DAO pattern**: interface → impl, procedures Oracle\r\n4. **Properties**: `{jboss.server.config.dir}/pepsam/pepsam.properties` + configs Oracle DB\r\n5. **CDI**: `@Inject`, custom `@ApplicationProperty`\r\n\r\n### Sigah.SamWeb.Api (Django)\r\n1. **`@service_method`**: decorator core para proxy HTTP\r\n2. **Inflexão**: `snake_case ↔ camelCase` automático\r\n3. **Token forwarding**: `Authorization` → `token` header para PEPSAM\r\n4. **Data-Source header**: `HAP`/`SCHOSP` em todas as requests\r\n\r\n### Sigah.SamWeb.Web (Angular)\r\n1. **Prefixos**: `app` ou `sam` para components/directives\r\n2. **Private members**: prefixo `_`\r\n3. **Path alias**: `@/*` → `./app/*`\r\n4. **URL templating**: `{pepsamBackendUrl}`, `{dataSource}` resolvidos pelo interceptor\r\n\r\n## Restrições\r\n\r\n- Golden images Hapvida para Docker (.NET: `hapvidacorp.azurecr.io`)\r\n- NuGet feed privado Azure Artifacts\r\n- Oracle DB requer VPN corporativa\r\n- Prompts de IA em português (contexto médico — CIDs, SUS)\r\n- Angular 5 / Node 10 / Python 3.6 — dependências legacy, não atualizar sem planejamento\r\n\r\n## Testes\r\n\r\n| Projeto | Framework | Quantidade | Padrão |\r\n|---------|-----------|------------|--------|\r\n| VoiceTranscription.Api UnitTests | xUnit + Moq + NSubstitute | ~44 tests | AAA, `[Fact]`/`[Theory]`, `BuildSut` |\r\n| VoiceTranscription.Consumer UnitTests | xUnit + Moq | ~13 tests | AAA, `[Fact]`, Mock + Verify |\r\n| Pep.SamWeb.Api | JUnit + Arquillian | Minimal | — |\r\n| Sigah.SamWeb.Web | Jest 24.9.0 | — | jest-preset-angular |\r\n| Sigah.SamWeb.Api | — | Sem testes | — |\r\n\r\n## Estado Atual\r\n\r\n**Fase**: Produção\r\n**Status**: Sistema ativo em produção — AutoCid (sugestão CID-10 IA) e STT (transcrição de voz) são features do SamWeb usado por médicos em pronto-socorros e hospitais Hapvida.\r\n\r\n**Workspace**: Contém 5 repos dos 6 serviços. `Insights.CidPrediction.Api` ausente — necessário clonar para docker-compose funcionar completamente.\r\n\r\n## Última Atualização\r\n\r\n**Data**: 2026-02-12\r\n**Motivo**: Análise profunda de todos os repos do workspace — Pep.SamWeb.Api (Java), Sigah.SamWeb.Api (Django BFF), Sigah.SamWeb.Web (Angular), VoiceTranscription.Api e Consumer (.NET). Mapeamento completo de relações, fluxos de dados, infraestrutura Docker e dependências externas.\r\n","epoch":27,"telemetryInfo":{}}],["file:///d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md::request_b05fdbe2-c615-4951-81cd-4d773c5643ef",{"uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\memory\\lessons-learned.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","content":"# Lessons Learned\r\n\r\nRegistro de aprendizados e decisões importantes do projeto.\r\n\r\n---\r\n\r\n## Estrutura\r\n\r\nCada lição segue o formato:\r\n\r\n```xml\r\n<lesson date=\"YYYY-MM-DD\" category=\"categoria\">\r\n  <context>Contexto do problema</context>\r\n  <decision>Decisão tomada</decision>\r\n  <outcome>Resultado/impacto</outcome>\r\n</lesson>\r\n```\r\n\r\n### Categorias\r\n\r\n| Categoria | Descrição |\r\n|-----------|-----------|\r\n| arquitetura | Estrutura do projeto |\r\n| padrões | Convenções de código |\r\n| tooling | Ferramentas e configs |\r\n| workflow | Processos |\r\n| debug | Problemas resolvidos |\r\n| performance | Otimizações |\r\n| segurança | Práticas de segurança |\r\n| regras | Definições e regras do sistema |\r\n| estrutura | Organização e estrutura de diretórios |\r\n\r\n## Lições\r\n\r\n<lesson date=\"2026-02-10\" category=\"regras\">\r\n  <context>O agente só registrava automaticamente correções de código gerado. Definições/correções de regras, estruturas e processos do próprio .copilot-core não eram capturadas.</context>\r\n  <decision>Ampliar o auto-registro para incluir correções de regras, estrutura e processos. O .copilot-core deve fazer self-dogfooding — usar seu próprio sistema de memória para governar seu desenvolvimento.</decision>\r\n  <outcome>Adicionada seção \"Registro automático — Correções de regras, estrutura e processos\" no default.instructions.md. Toda definição ou correção do usuário sobre como o sistema funciona agora é registrada automaticamente.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"estrutura\">\r\n  <context>Ao configurar o STT, o .copilot-core foi clonado com `-b main` em vez de `-b core`. O skill project-update referenciava `git pull origin main` para o core.</context>\r\n  <decision>Projetos consumidores SEMPRE usam a branch `core`, nunca `main`. A branch `core` contém apenas `instructions/`, `skills/` e `templates/` (sem `.github/` do repo de desenvolvimento). A branch `main` é exclusiva para desenvolvimento do core.</decision>\r\n  <outcome>Corrigido project-update skill. Documentada estratégia de branches no template workspace.instructions.md. Fixado clone do STT para branch core.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"estrutura\">\r\n  <context>Ao configurar projetos cujos repos não podem ter referência a submodules, a abordagem de junction (mklink /J) foi considerada mas rejeitada porque mudanças de branch no source refletem no projeto consumidor.</context>\r\n  <decision>Para projetos sem submodules, usar clones independentes dentro de uma pasta container `{projeto}/.github/`. Estrutura: pasta raiz não é git repo, repos do projeto ficam lado a lado, `.github/` contém clones separados de .copilot-core e .copilot-project + instructions/. Abrir a pasta raiz no VS Code.</decision>\r\n  <outcome>Setup funciona sem tocar nos repos originais. Cada projeto tem seus próprios clones com branches independentes. Copilot descobre instructions em `.github/instructions/` relativo ao workspace root.</outcome>\r\n</lesson>---\r\n\r\n## Registro\r\n\r\n<!-- Adicionar lições aqui, mais recente primeiro -->\r\n\r\n<lesson date=\"2026-02-10\" category=\"arquitetura\">\r\n  <context>Análise profunda revelou que API e Consumer possuem enums WorkStatus com valores numéricos divergentes (API: Processing=0, Completed=1, Pending=2 vs Consumer: Completed=0, Pending=1). Ambos projetos são independentes mas gravam/leem da mesma tabela BigQuery.</context>\r\n  <decision>Documentar a divergência como tech debt. Qualquer alteração no WorkStatus deve considerar ambos os projetos e a compatibilidade com dados existentes no BigQuery.</decision>\r\n  <outcome>Risco identificado — mudanças no enum de um projeto podem quebrar o outro silenciosamente.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"padrões\">\r\n  <context>Análise revelou que o namespace do projeto Infra.Data.Queries da API tem typo persistente: `Hapvvida` (duplo 'v') no RootNamespace do csproj, causando inconsistência em imports.</context>\r\n  <decision>Manter awareness do typo. Ao gerar código referenciando Infra.Data.Queries, usar o namespace correto com `Hapvvida` (duplo v) para compilar, mas sinalizar o issue.</decision>\r\n  <outcome>Evita erros de compilação por namespace incorreto ao gerar código.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"padrões\">\r\n  <context>API UnitTests usa AMBOS Moq e NSubstitute no mesmo projeto. Alguns test classes usam Moq, outros NSubstitute.</context>\r\n  <decision>Ao criar novos testes para a API, verificar qual framework o test class existente já usa e seguir o mesmo. Para novos test classes, preferir NSubstitute (mais recente nos testes).</decision>\r\n  <outcome>Consistência dentro de cada test class, minimizando confusão.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"arquitetura\">\r\n  <context>Consumer possui BaseConsumerHandler (herda de Hapvida.Core) que não é utilizado — TransactionConsumerHandler herda diretamente de BackgroundService.</context>\r\n  <decision>BaseConsumerHandler é dead code / legado do padrão Service Bus do Hapvida.Core. O Consumer atual usa Pub/Sub diretamente via SubscriberClient.</decision>\r\n  <outcome>Não usar BaseConsumerHandler como referência para novos consumers neste projeto.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"arquitetura\">\r\n  <context>API Domain.csproj exclui pasta Commands da compilação (`Compile Remove=\"Commands\\**\"`), e Infra.Data.Queries.csproj referencia pacotes não utilizados visivelmente (NAudio, Xabe.FFmpeg, Refit, System.Management).</context>\r\n  <decision>Código em Domain/Commands pode ser vestígio de refatoração. Packages potencialmente não utilizados são tech debt mas não devem ser removidos sem validação completa.</decision>\r\n  <outcome>Awareness para não referenciar esses artefatos como padrões a seguir.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"tooling\">\r\n  <context>Ambos projetos usam System.Text.Json como serialização primária, mas Consumer usa Newtonsoft.Json pontualmente no BigQueryService.InsertCompletedTranscriptionAsync (JsonConvert.SerializeObject).</context>\r\n  <decision>Para novas serializações, usar System.Text.Json (JsonSerializer) como padrão. Newtonsoft apenas se houver necessidade específica documentada.</decision>\r\n  <outcome>Consistência nas dependências de serialização.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"arquitetura\">\r\n  <context>Consumer K8s deployment não possui health checks (liveness/readiness probes), enquanto API possui ambos (/health e /ready).</context>\r\n  <decision>Documentado como tech debt. Worker Services .NET podem implementar health checks via IHealthCheck + endpoints HTTP em background.</decision>\r\n  <outcome>Risco de pods zombie em produção sem probes.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-10\" category=\"padrões\">\r\n  <context>Agente gerou frontmatter de SKILL.md com description usando bloco multiline YAML (|) e em inglês.</context>\r\n  <decision>Descriptions de skills devem ser sempre inline (uma única linha), nunca multiline (|), e escritos em português seguindo o padrão dos demais skills.</decision>\r\n  <outcome>Consistência no formato de frontmatter de todos os skills.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Workspace STT é um multi-repo com 6 serviços interdependentes. O contexto inicial documentava apenas VoiceTranscription (API + Consumer). Os 3 repos adicionais (Pep.SamWeb.Api, Sigah.SamWeb.Api, Sigah.SamWeb.Web) formam o sistema original AutoCid/SamWeb — o frontend e backend que consomem o STT.</context>\r\n  <decision>O workspace cobre dois sistemas convergentes: AutoCid (sugestão CID-10 via IA) e STT (transcrição de voz). Ambos são features do SamWeb usado por médicos. Angular chama Django BFF e Java PEPSAM diretamente (dual backend pattern). Java PEPSAM orquestra chamadas para .NET CidPrediction e VoiceTranscription.Api. VoiceTranscription.Consumer é independente (event-driven via Pub/Sub).</decision>\r\n  <outcome>Contexto expandido para cobrir todos os 6 repos, relações, fluxos de dados e infraestrutura Docker.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Angular SamWeb tem dois caminhos paralelos para sugestão CID-IA: Cid10IaService (via Django BFF → Java → .NET CidPrediction) e DiagnosticoInicialService (direto Java PEPSAM → .NET CidPrediction). Ambos ativos simultaneamente.</context>\r\n  <decision>Manter awareness de que existem dois fluxos CID-IA paralelos. Qualquer mudança na sugestão CID precisa considerar ambos os caminhos. O fluxo via Django BFF usa o archetype system para enviar dados de anamnese.</decision>\r\n  <outcome>Evitar implementar mudanças em apenas um dos caminhos, quebrando o outro.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Java PEPSAM obtém configurações da VoiceTranscription.Api (URL base, OAuth2 credentials, subscription key) diretamente do Oracle Database via `dominioDAO.obterPropriedadesTranscricaoVoz(b)`, não de arquivos de configuração.</context>\r\n  <decision>Para alterar a URL ou credenciais do STT consumidas pelo Java, a mudança deve ser feita no Oracle DB, não em properties files. O Java autentica no STT via OAuth2 client_credentials flow.</decision>\r\n  <outcome>Evita buscar configuração STT em pepsam.properties — ela está no banco.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>docker-compose.yml raiz referencia Insights.CidPrediction.Api que não está presente no workspace. Build do serviço csharp-api falha sem esse repo clonado.</context>\r\n  <decision>Para ambiente Docker completo, é necessário clonar o repo Insights.CidPrediction.Api no workspace. Alternativamente, pode-se comentar o serviço csharp-api no compose se não for necessário testar sugestão CID.</decision>\r\n  <outcome>docker-compose up sem o repo CidPrediction falha. Documentado nas instruções de setup.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Todos os endpoints Java PEPSAM usam path parameter {ds} (HAP ou SCHOSP) para selecionar datasource Oracle. Angular envia isso via header Data-Source. Django BFF extrai do header e injeta no path URL ao proxiar.</context>\r\n  <decision>Ao gerar código que interage com PEPSAM, sempre incluir o parâmetro {ds}. No Django, o datasource vem do header HTTP_DATA_SOURCE. No Angular, do sessionStorage via TokenService.</decision>\r\n  <outcome>Evita erros de rota 404 por omissão do datasource.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"padrões\">\r\n  <context>Django BFF usa o decorator @service_method como pattern principal. O body do método decorado retorna None (pass-through) ou dict para override de request data. O decorator constrói a URL, faz HTTP request ao PEPSAM, e faz inflexão snake_case↔camelCase automaticamente.</context>\r\n  <decision>Ao criar novos endpoints no Django BFF, seguir o padrão @service_method. Métodos que apenas fazem proxy direto podem ter body `pass`. Para customizar params/headers, retornar dict com overrides. Nunca fazer HTTP calls manuais — usar o framework do IntegracaoService.</decision>\r\n  <outcome>Mantém consistência no Django BFF e aproveita transformações automáticas de inflexão.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"padrões\">\r\n  <context>Angular SamWeb usa URL templating com placeholders {pepsamBackendUrl} e {dataSource} nos services, que são resolvidos pelo HTTP interceptor auth.service.ts em runtime. Diferente do padrão normal de construir URLs completas no service.</context>\r\n  <decision>Ao criar novos services no Angular SamWeb, usar placeholders {pepsamBackendUrl} e {dataSource} nas URLs. O interceptor resolve automaticamente e adiciona os headers de autenticação apropriados baseado no padrão de URL detectado.</decision>\r\n  <outcome>Mantém consistência e aproveita o mecanismo de autenticação automática do interceptor.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"tooling\">\r\n  <context>O docker-compose requer Oracle Database externo (VPN corporativa) e não possui fallback local. Sem Oracle, Java PEPSAM e Django BFF não funcionam.</context>\r\n  <decision>Para desenvolvimento local via Docker, a VPN corporativa Hapvida deve estar ativa. Não existe Oracle containerizado no compose. Os hosts Oracle são 10.1.23.75:1521 (Django) e dboradsv-scan.hapvida.com.br:1521 (Java/WildFly).</decision>\r\n  <outcome>Consciência de que o ambiente Docker local não é self-contained — depende de infraestrutura de rede corporativa.</outcome>\r\n</lesson>\r\n","epoch":43,"telemetryInfo":{}}]],"operations":[{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":4,"edits":[{"text":" + AutoCid (CID Prediction)\r\n\r\nEstado atual do projeto para referência do Copilot. Multi-repo workspace com 6 serviços integrados.\r\n\r\n---\r\n\r\n## Objetivo\r\n\r\nDois sistemas de IA integrados ao fluxo de atendimento médico Hapvida:\r\n\r\n1. **STT (Speech-to-Text)**: Transcrição de voz por IA para Telemedicina (TeleHealth). Upload de áudio (.webm) → GCS → Pub/Sub → Vertex AI (Gemini 2.5 Flash) → transcrição com sintomas e CIDs sugeridos.\r\n2. **AutoCid (CID Prediction)**: Sugestão de códigos CID-10 via IA (BERT + Gemini) a partir da anamnese do paciente durante atendimento de emergência/internação.\r\n\r\nAmbos convergem no frontend Angular (SamWeb) usado por médicos em pronto-socorros e hospitais Hapvida.\r\n\r\n## Repos\r\n\r\n| Repo | Pasta Workspace | Tipo | Tech | Propósito |\r\n|------|----------------|------|------|-----------|\r\n| **Sigah.SamWeb.Web** | `Sigah.SamWeb.Web/` | Frontend | Angular 5, TypeScript 2.6, Node 10 | UI para médicos — anamnese, diagnóstico, prescrição, transcrição de voz |\r\n| **Sigah.SamWeb.Api** | `Sigah.SamWeb.Api/` | BFF (Backend For Frontend) | Python 3.6, Django 1.11 | Proxy/orquestrador entre Angular e Java API |\r\n| **Pep.SamWeb.Api** | `Pep.SamWeb.Api/` | Core API | Java 8, WildFly 9, JAX-RS | Lógica de negócio, acesso Oracle, orquestra chamadas para AI APIs |\r\n| **Insights.CidPrediction.Api** | *(ausente no workspace)* | AI API | .NET 6, C# | Orquestração de modelos ML (BERT emergência, Gemini internação) |\r\n| **VoiceTranscription.Api** | `VoiceTranscription.Api/` | REST API | .NET 8, C# 12 | Gera URLs assinadas para upload GCS, consulta transcrições BigQuery/Cache |\r\n| **VoiceTranscription.Consumer** | `VoiceTranscription.Consumer/` | Worker Service | .NET 8, C# 12 | Consome Pub/Sub, envia áudio para Vertex AI, persiste resultados |\r\n\r\n---\r\n\r\n## Arquitetura Completa\r\n\r\n```\r\n┌─────────────────────────┐\r\n│    Angular (SamWeb)     │\r\n│    :4200                │\r\n│    Sigah.SamWeb.Web     │\r\n└──────┬──────────────────┘\r\n       │  ┌───────────────────────────────────────────┐\r\n       │  │  Dual backend pattern:                     │\r\n       │  │  • Django BFF for domain data (CID search) │\r\n       │  │  • Java API direct for auth + IA + STT     │\r\n       ▼  ▼                                            │\r\n┌──────────────┐                              ┌───────┴─────────┐\r\n│  Django BFF  │ ──── proxies to ──────────►  │   Java (PEPSAM) │\r\n│  :8000       │                              │   :8080/WildFly │\r\n│  Sigah.Api   │                              │   Pep.SamWeb.Api│\r\n└──────────────┘                              └───┬────────┬────┘\r\n                                                  │        │\r\n                                    ┌─────────────┘        └────────────┐\r\n                                    ▼                                    ▼\r\n                           ┌────────────────┐                  ┌─────────────────┐\r\n                           │ .NET AI (CID)  │                  │ .NET STT API    │\r\n                           │ :5000          │                  │ :5007 (dev)     │\r\n                           │ CidPrediction  │                  │ VoiceTransc.Api │\r\n                           └────────────────┘                  └────────┬────────┘\r\n                           │ BERT + Gemini  │                           │\r\n                           │ → CID-10 codes │                  ┌───────┴────────┐\r\n                           └────────────────┘                  │  GCS Signed URL│\r\n                                                               │  Audio Upload  │\r\n                                                               └───────┬────────┘\r\n                                                                       │ Pub/Sub event\r\n                                                               ┌───────▼────────┐\r\n                                                               │ .NET Consumer  │\r\n                                                               │ VoiceTransc.   │\r\n                                                               │ Consumer       │\r\n                                                               └───────┬────────┘\r\n                                                                       │\r\n                                                               ┌───────▼────────┐\r\n                                                               │ Vertex AI      │\r\n                                                               │ Gemini 2.5 FL  │\r\n                                                               │ → Transcrição  │\r\n                                                               └───────┬────────┘\r\n                                                                       ▼\r\n                                                               BigQuery + Redis\r\n```\r\n\r\n### Relações Entre Repos\r\n\r\n| De → Para | Protocolo | Propósito |\r\n|-----------|-----------|-----------|\r\n| Angular → Django BFF | HTTP REST | Dados de domínio (CIDs, medicamentos, evolução) |\r\n| Angular → Java PEPSAM | HTTP REST (direto) | Autenticação, sugestão IA CID, transcrição voz, postos |\r\n| Angular → GCS | HTTP PUT (signed URL) | Upload de áudio .webm |\r\n| Django BFF → Java PEPSAM | HTTP REST (proxy) | Todas as rotas de domínio, proxied via `@service_method` |\r\n| Java PEPSAM → .NET CidPrediction | HTTP POST | Sugestão CID-10 via BERT/Gemini |\r\n| Java PEPSAM → .NET VoiceTranscription.Api | HTTP GET (OAuth2) | Obter signed URL + polling transcrição |\r\n| Java PEPSAM → Oracle DB | JDBC | Dados de atendimento, procedimentos, configurações de IA |\r\n| VoiceTranscription.Api → GCS | SDK | Gerar signed URLs para upload |\r\n| VoiceTranscription.Api → BigQuery | SDK | Registrar upload, consultar transcrições |\r\n| VoiceTranscription.Api → Redis | StackExchange | Cache de transcrições |\r\n| GCS → Pub/Sub | Event (OBJECT_FINALIZE) | Trigger automático ao upload de áudio |\r\n| VoiceTranscription.Consumer → Pub/Sub | gRPC (subscriber) | Consome eventos de upload |\r\n| VoiceTranscription.Consumer → Vertex AI (Gemini) | SDK (Google.GenAI) | Transcrição de áudio |\r\n| VoiceTranscription.Consumer → BigQuery | SDK | Persiste transcrição + token usage |\r\n| VoiceTranscription.Consumer → Redis | StackExchange | Cache de transcrição para consulta rápida |\r\n\r\n---\r\n\r\n## Detalhes por Repo\r\n\r\n### 1. Sigah.SamWeb.Web (Angular Frontend)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| Angular | 5.2.11 (CLI 1.7.4) |\r\n| Node | 10.13.0 |\r\n| TypeScript | 2.6.1 |\r\n| App Version | 5.44.0 |\r\n| Módulos | Monolítico (`AppModule` ~802 linhas, ~200+ components) |\r\n| Path alias | `@/*` → `./app/*` |\r\n\r\n**Funcionalidades principais:**\r\n- Anamnese com transcrição de voz (`TranscricaoAudioComponent`)\r\n- Diagnóstico com sugestão IA de CID (`DiagnosticoInicialComponent`, `Cid10IaService`)\r\n- Prescrição (medicamentos, hidratação venosa, dietas, hemoderivados)\r\n- Gestão de atendimento (fila, chamada, evolução, encerramento)\r\n- Histórico de paciente, exames, internações\r\n- Biometria (paciente e profissional)\r\n- Geração de PDF (atestados, receitas, declarações)\r\n\r\n**Dois sistemas de CID-IA paralelos:**\r\n1. `Cid10IaService` → via Django BFF → Java → .NET CidPrediction\r\n2. `DiagnosticoInicialService` → direto Java PEPSAM → .NET CidPrediction\r\n\r\n**Transcrição de voz (STT):**\r\n- `TranscricaoAudioService` → Java PEPSAM → VoiceTranscription.Api\r\n- MediaRecorder (audio/webm) → signed URL → GCS upload → polling resumo\r\n- Parametrização: `total` (auto) | `semTrava` | `justificativa` | `duplaBiometria`\r\n- Guard: `CanDeactivateIaTranscriptionGuard` previne navegação durante gravação\r\n\r\n**URLs de configuração (env.docker.json):**\r\n\r\n| Key | Valor Docker |\r\n|-----|-------------|\r\n| `BACKEND_URL` | `http://localhost:8000/` |\r\n| `PEPSAM_BACKEND_URL` | `https://app-desenv.hapvida.com.br/api/pepsam` |\r\n| `AI_TRANSCRIPTION_URL` | `http://localhost:5000` |\r\n\r\n### 2. Sigah.SamWeb.Api (Django BFF)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| Python | 3.6.9 (EOL dez/2021) |\r\n| Django | 1.11 (EOL abr/2020) |\r\n| DRF | 3.7.0 |\r\n| Release | 5.43.4 |\r\n| Database | **Nenhum próprio** — pure proxy |\r\n\r\n**Padrão core: `@service_method` decorator**\r\n- Declarativamente mapeia métodos Python para chamadas HTTP ao PEPSAM\r\n- Inflexão automática: `snake_case ↔ camelCase` nas request/response\r\n- `IntegracaoService` encaminha `Authorization` e `Data-Source` headers\r\n\r\n**Apps Django (16):**\r\n\r\n| App | Propósito |\r\n|-----|-----------|\r\n| `intmed_framework` | Framework base (Service, ViewSet, @service_method, archetype system) |\r\n| `integracao` | Bridge para PEPSAM API (~31 service classes) |\r\n| `autenticacao` | Login, biometria, logout (proxy para PEPSAM) |\r\n| `dominio` | Dados de domínio (CID-10, medicamentos, frequências, **sugestão IA CID**) |\r\n| `atendimentos` | Evoluções, diagnósticos, prescrições, termos |\r\n| `prescricao` | Catálogo de medicamentos (por princípio ativo, grupo farmacológico, etc.) |\r\n| `exames` | Resultados, solicitações, pendências |\r\n| `historicos` | Histórico do paciente (atendimentos, procedimentos, laudos) |\r\n| `prontuario` | Prontuários (termos, verificação COVID) |\r\n| `auditoria` | Relatórios (pacientes atendidos/ausentes) |\r\n| `profissionais` | Gestão de profissionais (recadastro, CRM) |\r\n| `emergencia` | Criticidade (sinais vitais → score) |\r\n| `usuario` | Assinatura digital, documentos pendentes |\r\n| `receitas` | Receituário (rotas via atendimentos) |\r\n| `compatibilizar` | Constantes de protocolo |\r\n\r\n**CID IA endpoint:**\r\n`POST dominios/diagnosticos/cids/{atendimento}/sugestao/` → proxy para Java PEPSAM → .NET CidPrediction\r\n\r\n### 3. Pep.SamWeb.Api (Java PEPSAM)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| Java | 1.8 (Java 8) |\r\n| App Server | WildFly 9.0.0.Beta1 |\r\n| Packaging | WAR |\r\n| Context Root | `/api/pepsam` |\r\n| GroupId | `br.com.hapvida.pepsam` |\r\n\r\n**Package structure:** `annotation/`, `config/`, `data/` (DAO), `dto/` (~200+), `enuns/` (41), `model/` (~250+), `rest/` (35), `service/` (31), `util/`\r\n\r\n**REST endpoints principais (todos prefixados com `/{ds}`):**\r\n\r\n| Resource | Endpoints | Propósito |\r\n|----------|-----------|-----------|\r\n| `SugestaoCidREST` | POST `dominio/ia/sugestao-cid`, GET `dominio/ia/ativo`, POST `dominios/sugestao/cid` | Sugestão CID via IA |\r\n| `AtendimentosRESTService` (~5700 linhas) | GET `transcricao-voz/url-assinada`, GET `transcricao-voz/resumo`, POST `transcricao-voz/auditoria` | STT integration + atendimentos |\r\n| `AutenticacaoRESTService` | Login, logout, médicos por local | Autenticação |\r\n| `DominiosRESTService` | CID10, macrodiagnósticos, especialidades | Dados de domínio |\r\n| `PrescricaoRESTService` | Medicamentos, dietas, hemoderivados | Prescrição |\r\n| +30 outros resources | Exames, prontuários, postos, biometria, GED, receita, termos, etc. | |\r\n\r\n**Path parameter `{ds}`:** `HAP` (antonio-prudente) ou `SCHOSP` (santa-clara) — seleciona datasource Oracle.\r\n\r\n**Integrações externas chamadas pelo Java:**\r\n\r\n| Serviço | Property/Config | URL Pattern |\r\n|---------|----------------|-------------|\r\n| .NET CidPrediction | `URL_SERVICO_MAIDA_SUGES_CID_REST` | `http://csharp-api:80/api/v1` |\r\n| .NET CidPrediction (internação) | `URL_SERVICO_MAIDA_ENVIAR_CID_INTERNACAO` | `http://csharp-api:80/api/v1/int` |\r\n| VoiceTranscription.Api | Obtido do Oracle DB | `{urlBase}/url/signed/upload`, `{urlBase}/speech-text/transcription` |\r\n| Telemedicina (TIS) | Hardcoded | `/medical-opinion`, `/access-chat` |\r\n| Receituário | Hardcoded | `/api/v2/medicines`, `/api/v2/medical-prescriptions` |\r\n| Home Care, Cuidados Paliativos | Hardcoded | Várias |\r\n\r\n**Oracle Database (2 datasources):**\r\n\r\n| Persistence Unit | JNDI | Schema |\r\n|-----------------|------|--------|\r\n| `antonio-prudente` | `java:jboss/datasources/pepsam-antonio-prudenteDS` | HAP |\r\n| `santa-clara` | `java:jboss/datasources/pepsam-santa-claraDS` | SCHOSP |\r\n\r\n**Procedures Oracle relevantes:**\r\n- `pr_grava_sugestao_subcap_ia` → grava sugestões IA em `tb_sugestoes_cid_ia`\r\n- `fn_verifica_cid_ia_modelo` → obtém modelo IA para o atendimento\r\n- `gravaAuditoriaTranscricaoVoz` → audit trail de transcrição de voz\r\n- `obterPropriedadesTranscricaoVoz` → config STT (URL, chaves, credenciais OAuth2)\r\n\r\n### 4. VoiceTranscription.Api (.NET 8)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| .NET | 8.0, C# 12 |\r\n| Porta dev | 5007/7007 |\r\n| Porta K8s | 80 |\r\n| Layered | Api → Domain → Infra.Data.Queries, Infra.Cache |\r\n\r\n**Endpoints:**\r\n\r\n| Controller | Método | Rota | Descrição |\r\n|------------|--------|------|-----------|\r\n| `SpeechTextController` | `GET` | `api/v1/speech-text/transcription?workId=` | Busca transcrição (cache-first, fallback BigQuery) |\r\n| `SpeechTextController` | `GET` | `api/v1/speech-text/latency?workId=&dataInicio=&dataFim=` | Calcula latência de processamento |\r\n| `UrlController` | `GET` | `api/v1/url/signed/upload` | Gera signed URL para upload no GCS |\r\n| `UrlController` | `POST` | `api/v1/url/signed/upload` | Gera signed URL com prompt/platform e registra no BigQuery |\r\n\r\n**Health checks:** `/health` (liveness) e `/ready` (readiness) via Hapvida.Core.Api.Http.\r\n\r\n### 5. VoiceTranscription.Consumer (.NET 8)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| .NET | 8.0, C# 12 |\r\n| Tipo | Worker Service (BackgroundService) |\r\n| Porta | Nenhuma (não expõe HTTP) |\r\n| AI Model | Gemini 2.5 Flash via Vertex AI |\r\n\r\n**Fluxo:**\r\n1. `TransactionConsumerHandler` → listener Pub/Sub\r\n2. `TranscriptionsCommandHandler` → filtra `OBJECT_FINALIZE`\r\n3. `TranscriptionMessageProcessor` → extrai workId, monta URI\r\n4. `VertexAiService` → busca prompt BigQuery, chama Gemini 2.5 Flash\r\n5. Persiste em paralelo: BigQuery (`File_Transcription` + `Token_Data`) + Redis cache\r\n\r\n**Gemini config:** Temperature=0.0, TopP=0.95, ThinkingBudget=0, ResponseMimeType=application/json","range":{"startLineNumber":1,"startColumn":41,"endLineNumber":50,"endColumn":53}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":6,"edits":[{"text":" Completa\r\n\r\n| Componente | Tecnologia | Versão | Usado em |\r\n|------------|------------|--------|----------|\r\n| **Frontend** | Angular | 5.2.11 | Sigah.SamWeb.Web |\r\n| Frontend runtime | Node.js | 10.13.0 | Sigah.SamWeb.Web |\r\n| Frontend lang | TypeScript | 2.6.1 | Sigah.SamWeb.Web |\r\n| **BFF** | Django + DRF | 1.11 + 3.7.0 | Sigah.SamWeb.Api |\r\n| BFF runtime | Python | 3.6.9 | Sigah.SamWeb.Api |\r\n| **Core API** | Java (JAX-RS) | 1.8 | Pep.SamWeb.Api |\r\n| Core App Server | WildFly | 9.0.0.Beta1 | Pep.SamWeb.Api |\r\n| **STT API** | .NET / C# | 8.0 / 12.0 | VoiceTranscription.Api |\r\n| **STT Consumer** | .NET / C# | 8.0 / 12.0 | VoiceTranscription.Consumer |\r\n| **CID AI API** | .NET / C# | 6.0 | Insights.CidPrediction.Api |\r\n| AI/ML (STT) | Vertex AI (Gemini 2.5 Flash) | Google.GenAI 0.6.0 | VoiceTranscription.Consumer |\r\n| AI/ML (CID) | BERT + Gemini | — | Insights.CidPrediction.Api |\r\n| Database (Oracle) | Oracle Database | 19c | Pep.SamWeb.Api (JDBC), Sigah.SamWeb.Api (cx_Oracle) |\r\n| Database (BigQuery) | Google BigQuery | 3.11.0 | VoiceTranscription (ambos) |\r\n| Cache | Redis | 7.0 (K8s sidecar) | VoiceTranscription (ambos) |\r\n| Message Broker | Google Pub/Sub | 3.30.0 | VoiceTranscription.Consumer |\r\n| Object Storage | Google Cloud Storage | 4.13.0 | VoiceTranscription.Api |\r\n| Observability | OpenTelemetry → Datadog | 2.1.0 | VoiceTranscription (ambos), Sigah.SamWeb.Api |\r\n| Observability (RUM) | Datadog Browser RUM | 5.29.1 | Sigah.SamWeb.Web |\r\n| HTTP Client | Apache HttpClient | 4.5.13 | Pep.SamWeb.Api |\r\n| HTTP Client | requests | 2.18.4 | Sigah.SamWeb.Api |\r\n| HTTP Client | Refit | 8.0.0 | VoiceTranscription.Api |\r\n| Auth (frontend) | Session Storage + Token pass-through | — | Sigah.SamWeb.Web |\r\n| Auth (STT) | OAuth2 client_credentials | — | Pep.SamWeb.Api → VoiceTranscription.Api |\r\n| PDF | jspdf + html2pdf.js | 3.0.0 / 0.10.3 | Sigah.SamWeb.Web |\r\n| Biometria | Popup-based (AutenticacaoService) | — | Sigah.SamWeb.Web, Pep.SamWeb.Api","range":{"startLineNumber":263,"startColumn":9,"endLineNumber":279,"endColumn":68}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":8,"edits":[{"text":"### Padrões por Repo\r\n\r\n**VoiceTranscription (API + Consumer):**\r\n- **Layered Architecture** com pastas numeradas (0-Presentation, 1-Domain, 2-Infrastructure, 3-Tests)\r\n- **Command/Handler** via MediatR (CQRS-lite)\r\n- **Bootstrapper pattern** — `Bootstrapper.cs` estático com extension methods\r\n- **Options pattern** — `IOptions<T>` para configs tipadas\r\n- **Cache-aside** — lê cache primeiro, fallback BigQuery\r\n- **Multi-stage Dockerfile** — 5-6 stages (build → test → publish → final)\r\n\r\n**Pep.SamWeb.Api (Java):**\r\n- **DAO pattern** — `DominioDAO` → `DominioDAOImpl` com Oracle procedures\r\n- **Service layer** — `DominioService` → `DominioServiceImpl` (~4000 linhas)\r\n- **CDI injection** — `@Inject`, `@ApplicationProperty` custom annotation\r\n- **JPA/Hibernate** — entities mapeadas para views Oracle\r\n- **Path parameter `{ds}`** — HAP/SCHOSP seleciona datasource Oracle\r\n- **Properties dual** — arquivo `pepsam.properties` + configs do banco Oracle\r\n\r\n**Sigah.SamWeb.Api (Django BFF):**\r\n- **`@service_method` decorator** — mapeia métodos para chamadas HTTP (core pattern)\r\n- **`IntegracaoService`** — base class com token forwarding e datasource routing\r\n- **Archetype system** — serialização OpenEHR-style para formulários médicos\r\n- **Zero database models** — pure proxy/orquestrador\r\n- **Inflexão automática** — `snake_case ↔ camelCase` nas transformações\r\n\r\n**Sigah.SamWeb.Web (Angular):**\r\n- **Monolítico `AppModule`** — ~200+ components sem lazy loading\r\n- **Dual backend** — chama Django BFF E Java PEPSAM diretamente\r\n- **URL templating** — `{pepsamBackendUrl}`, `{dataSource}` resolvidos pelo interceptor HTTP\r\n- **SessionStorage auth** — token armazenado em sessionStorage, forwarded em headers\r\n\r\n### Data Flow — Transcrição de Voz (STT)\r\n\r\n```\r\n1. Angular: TranscricaoAudioComponent.startRecording()\r\n   └→ MediaRecorder (audio/webm) + health check 2s\r\n\r\n2. Angular: stopRecording() → sendoAudioToTranslate()\r\n   └→ GET {pepsamBackendUrl}/{ds}/atendimentos/{cod}/evolucao/{ne}/transcricao-voz/url-assinada\r\n\r\n3. Java PEPSAM: DominioServiceImpl.obterUrlUploadAudioTranscricaoVoz()\r\n   └→ OAuth2 token → GET VoiceTranscription.Api/url/signed/upload\r\n   └→ Returns { signedUrl, workId }\r\n\r\n4. Angular: PUT signed URL (GCS) with audio blob\r\n\r\n5. GCS → Pub/Sub (OBJECT_FINALIZE event)\r\n\r\n6. VoiceTranscription.Consumer:\r\n   └→ TranscriptionMessageProcessor → VertexAiService\r\n   └→ Gemini 2.5 Flash → { transcription, symptoms, suggestedCIDs }\r\n   └→ BigQuery + Redis\r\n\r\n7. Angular: polling GET {pepsamBackendUrl}/.../transcricao-voz/resumo?workId=X\r\n   └→ Every 10s, 5 attempts, waits for non-202\r\n\r\n8. Java PEPSAM: DominioServiceImpl.obterResumoTranscricaoVoz()\r\n   └→ OAuth2 token → GET VoiceTranscription.Api/speech-text/transcription?workId=X\r\n\r\n9. Angular: ModalAudioTranscritoComponent\r\n   └→ \"Copiar e aplicar no HDA\" → preenche queixa_principal (max 4000 chars)\r\n```\r\n\r\n### Data Flow — Sugestão CID-10 (AutoCid)\r\n\r\n```\r\n1. Angular: DiagnosticoInicialComponent → pesquisarDiagnosticoSugerido()\r\n   └→ POST {pepsamBackendUrl}/{ds}/dominio/ia/sugestao-cid (body: anamnese/archetype)\r\n\r\n   OU\r\n\r\n   Angular: Cid10IaService.getCidsIa()\r\n   └→ POST {BACKEND_URL}dominios/diagnosticos/cids/{atendimento}/sugestao/\r\n   └→ Django BFF proxy → Java PEPSAM\r\n\r\n2. Java PEPSAM: SugestaoCidREST/DominioServiceImpl\r\n   └→ Monta DadosAtendimentoMaida (view Oracle)\r\n   └→ POST http://csharp-api:80/api/v1 (emergência) ou /api/v1/int (internação)\r\n   └→ Grava sugestões: pr_grava_sugestao_subcap_ia → tb_sugestoes_cid_ia\r\n\r\n3. .NET CidPrediction: PredictController\r\n   └→ BERT model (emergência) ou Gemini (internação)\r\n   └→ Returns subcapítulos/CIDs sugeridos com confiança","range":{"startLineNumber":296,"startColumn":1,"endLineNumber":336,"endColumn":53}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":10,"edits":[{"text":"VoiceTranscription.Api (read/write), Consumer (write) |\r\n| `Token_Data` | Metadata de uso de tokens do Gemini | VoiceTranscription.Consumer (write) |\r\n| `Prompts` | Prompts customizados por ID | VoiceTranscription.Consumer (read) |\r\n| `StatusAudioTranscription` | Status de transcrição de áudio | VoiceTranscription.Consumer |\r\n\r\n### Oracle Tables/Views (Java PEPSAM)\r\n\r\n| Objeto | Tipo | Propósito |\r\n|--------|------|-----------|\r\n| `tb_sugestoes_cid_ia` | Table | Sugestões IA (BERT + Gemini/LLM) |\r\n| `TB_EVOLUCAO_RESULTADO` | Table | CID definitivo do médico |\r\n| `vw_dados_atendimento_maida` | View | Dados de atendimento para IA (JPA entity) |\r\n| `humaster.tb_uso_cid_ia` | Table | **DESCONTINUADA** — antigo indicadores IA |\r\n\r\n## Infraestrutura\r\n\r\n### Docker Compose (Ambiente de Desenvolvimento)\r\n\r\nO `docker-compose.yml` raiz orquestra 4 serviços na rede `autocid-network`:\r\n\r\n| Serviço | Container | Build | Porta Host |\r\n|---------|-----------|-------|------------|\r\n| `csharp-api` | `autocid-csharp-api` | `./Insights.CidPrediction.Api/src/Dockerfile.dev` | **5000** (HTTP), **5001** (HTTPS) |\r\n| `java-api` | `autocid-java-api` | `./Pep.SamWeb.Api/Dockerfile.dev` | **8080** (HTTP), **9990** (Admin), **8787** (Debug) |\r\n| `python-api` | `autocid-python-api` | `./Sigah.SamWeb.Api/Dockerfile` | **8000** (HTTP) |\r\n| `angular-web` | `autocid-angular-web` | `./Sigah.SamWeb.Web/Dockerfile.dev` | **4200** (HTTP) |\r\n\r\n**Dependency chain:** `csharp-api` → `java-api` → `python-api` → `angular-web`\r\n\r\n**Environment vars chave (docker-compose):**\r\n\r\n| Serviço | Variável | Valor |\r\n|---------|----------|-------|\r\n| `java-api` | `JAVA_OPTS` | `-Xms512m -Xmx2048m` |\r\n| `java-api` | `URL_SERVICO_MAIDA_SUGES_CID_REST` | `http://csharp-api:80/api/v1` |\r\n| `java-api` | `URL_SERVICO_MAIDA_ENVIAR_CID_INTERNACAO` | `http://csharp-api:80/api/v1/int` |\r\n| `python-api` | `PEPSAM_API_URL` | `http://java-api:8080/api/pepsam` |\r\n| `python-api` | `DB_HOST` | `10.1.23.75` (Oracle externo!) |\r\n| `python-api` | `DB_NAME` | `HOSPDES` |\r\n\r\n**Named volumes:** `csharp-nuget` (cache NuGet), `maven-cache` (cache Maven)\r\n\r\n**Bind mounts:** Todos serviços montam o código fonte para hot-reload.\r\n\r\n### Dependências Externas (NÃO containerizadas)\r\n\r\n| Dependência | Usado por | Host | Observação |\r\n|-------------|-----------|------|------------|\r\n| **Oracle Database** | Java PEPSAM, Django BFF | `dboradsv-scan.hapvida.com.br:1521` / `10.1.23.75:1521` | **Requer VPN corporativa** |\r\n| **Insights.CidPrediction.Api** | docker-compose (csharp-api) | — | **Repo ausente no workspace** — build falha |\r\n| **Google Cloud (GCS, Pub/Sub, BigQuery, Vertex AI)** | VoiceTranscription (ambos) | GCP | Credenciais em `appsettings.json` / K8s Secret |\r\n| **Azure Artifacts (NuGet feed)** | VoiceTranscription (ambos) | Azure DevOps | `NUGET_USER` + `NUGET_KEY` |\r\n\r\n### Recursos para Docker Local\r\n\r\n| Recurso | Mínimo | Recomendado |\r\n|---------|--------|-------------|\r\n| **RAM Docker** | 4 GB | 6-8 GB |\r\n| `java-api` (WildFly) | 512 MB | 2048 MB + ~500 MB overhead |\r\n| `csharp-api` | ~256 MB | ~512 MB |\r\n| `python-api` | ~128 MB | ~256 MB |\r\n| `angular-web` | ~256 MB | ~512 MB |\r\n| **Disco (imagens + caches)** | 5 GB | 8 GB |\r\n| **CPU** | 4 cores | 8 cores |\r\n| **Build inicial** | — | ~10-15 min |\r\n\r\n### Como Executar o Ambiente Docker\r\n\r\n```bash\r\n# Pré-requisitos:\r\n# 1. VPN corporativa Hapvida ativa (Oracle)\r\n# 2. Repo Insights.CidPrediction.Api clonado no workspace\r\n# 3. Docker Desktop com 6+ GB RAM\r\n# 4. Variáveis NUGET_USER e NUGET_KEY (se usar csharp-api)\r\n\r\ncd d:\\Repos\\_hv\\STT\r\n\r\n# Iniciar todos os serviços\r\ndocker-compose up -d\r\n\r\n# Acompanhar logs\r\ndocker-compose logs -f\r\n\r\n# Verificar status\r\ndocker-compose ps\r\n\r\n# URLs disponíveis:\r\n# - Frontend:       http://localhost:4200\r\n# - Django BFF:     http://localhost:8000\r\n# - Java PEPSAM:    http://localhost:8080/api/pepsam\r\n# - WildFly Admin:  http://localhost:9990 (admin/admin)\r\n# - C# AI API:      http://localhost:5000/api/v1\r\n```\r\n\r\n### VoiceTranscription — Não participa do Docker Compose\r\n\r\nVoiceTranscription.Api e Consumer são deployados **exclusivamente via K8s (GKE)** e CI/CD (Azure Pipelines). Possuem Dockerfiles de produção mas não estão no docker-compose de dev.","range":{"startLineNumber":385,"startColumn":65,"endLineNumber":412,"endColumn":80}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":12,"edits":[{"text":"# Infraestrutura de Produção\r\n\r\n| Aspecto | Detalhes |\r\n|---------|----------|\r\n| Container Registry | Azure Container Registry (`hapvidacorp.azurecr.io`) + GCP GCR |\r\n| Base Images (.NET) | Golden images: `dotnet-8-aspnet`, `dotnet-8-sdk` |\r\n| Base Images (Java) | `maven:3.9-eclipse-temurin-8` → `eclipse-temurin:8-jdk` |\r\n| Base Images (Python) | `python:3.6.9` |\r\n| Base Images (Node) | `node:10.13.0` |\r\n| Orquestração | Kubernetes (GKE) — namespace `hap-ti-voi` |\r\n| CI/CD | Azure Pipelines → Docker build, SonarQube, TechDocs |\r\n| Code Quality | SonarQube |\r\n| Developer Portal | Backstage (catalog-info.yaml, mkdocs.yaml) |\r\n| Observabilidade | OpenTelemetry → Datadog (APM, traces, runtime metrics) |\r\n| Redis em K8s | Redis 7.0 sidecar (apenas VoiceTranscription.Api), 4.6 GB maxmemory, LRU eviction |\r\n| GCP Project | `prj-hap-ti-vtx-voice-trsc-dev` |\r\n\r\n## Integrações\r\n\r\n| Sistema | Propósito | Status | Usado por |\r\n|---------|-----------|--------|-----------|\r\n| Google Vertex AI (Gemini 2.5 Flash) | Transcrição de áudio via IA | Ativo | VoiceTranscription.Consumer |\r\n| Google Cloud Pub/Sub | Message broker para eventos de upload | Ativo | VoiceTranscription.Consumer |\r\n| Google BigQuery | Persistência de transcrições, tokens e prompts | Ativo | VoiceTranscription (ambos) |\r\n| Google Cloud Storage | Upload/leitura de arquivos de áudio (.webm) | Ativo | VoiceTranscription.Api, Angular (signed URL) |\r\n| Redis | Cache para consulta rápida de transcrições | Ativo | VoiceTranscription (ambos) |\r\n| Oracle Database (19c) | Dados de atendimento, configurações, auditoria | Ativo | Pep.SamWeb.Api, Sigah.SamWeb.Api |\r\n| .NET CidPrediction (BERT+Gemini) | Sugestão CID-10 via IA | Ativo | Pep.SamWeb.Api → Insights.CidPrediction |\r\n| Telemedicina (TIS) | Tele-parecer, chat médico | Ativo | Pep.SamWeb.Api |\r\n| Receituário | Prescrição digital | Ativo | Pep.SamWeb.Api |\r\n| Home Care | Verificação de paciente em home care | Ativo | Pep.SamWeb.Api |\r\n| Cuidados Paliativos | Consulta de elegibilidade | Ativo | Pep.SamWeb.Api |\r\n| Datadog | Observabilidade (APM, traces, métricas, RUM) | Ativo | Todos |\r\n| SonarQube | Análise de qualidade de código | Ativo | VoiceTranscription (ambos) |\r\n| Backstage | Portal do desenvolvedor e TechDocs | Ativo | VoiceTranscription (ambos) |\r\n| Azure DevOps | CI/CD pipelines | Ativo | Todos |\r\n\r\n## Tech Debt Identificado\r\n\r\n### VoiceTranscription (.NET)\r\n\r\n| Item | Projeto | Impacto |\r\n|------|---------|---------|\r\n| Namespace typo `Hapvvida` | API (Infra.Data.Queries) | Confusão de imports |\r\n| Mixed mocking frameworks | API (UnitTests) | Moq E NSubstitute no mesmo projeto |\r\n| Pre-release packages | API | `System.Text.Json 10.0.0-rc.1` em target .NET 8 |\r\n| Packages sem uso visível | API | NAudio, Xabe.FFmpeg, Refit não usados |\r\n| GCS ListObjects client-side filter | API | Performance em escala |\r\n| Sem health checks K8s | Consumer | Risco de pods zombie |\r\n| BaseConsumerHandler dead code | Consumer | Legado do Service Bus |\r\n| Mixed serialization | Consumer | System.Text.Json + Newtonsoft.Json |\r\n| Commands excluídos compilação | API (Domain) | `<Compile Remove=\"Commands\\**\" />` |\r\n| WorkStatus enum divergente | API vs Consumer | API: Processing=0,Completed=1,Pending=2 vs Consumer: Completed=0,Pending=1 |\r\n\r\n### Legacy Stack (SamWeb + PEPSAM)\r\n\r\n| Item | Projeto | Impacto |\r\n|------|---------|---------|\r\n| Angular 5 (2017) | Sigah.SamWeb.Web | Sem patches de segurança, framework EOL |\r\n| Node 10 (EOL abr/2021) | Sigah.SamWeb.Web | Vulnerabilidades conhecidas |\r\n| Python 3.6.9 (EOL dez/2021) | Sigah.SamWeb.Api | Vulnerabilidades conhecidas |\r\n| Django 1.11 (EOL abr/2020) | Sigah.SamWeb.Api | Vulnerabilidades conhecidas |\r\n| WildFly 9.0.0.Beta1 (2015) | Pep.SamWeb.Api | Versão extremamente antiga sem suporte |\r\n| Java 8 | Pep.SamWeb.Api | Suporte estendido apenas |\r\n| Monolítico AppModule (~200+ components) | Sigah.SamWeb.Web | Performance de compilação e bundle size |\r\n| AtendimentosRESTService ~5700 linhas | Pep.SamWeb.Api | God class |\r\n| DominioServiceImpl ~4000 linhas | Pep.SamWeb.Api | God class |\r\n| Credenciais Oracle hardcoded | docker-compose, standalone.xml | Segurança |\r\n| Dual CID-IA systems paralelos | Angular → Django e Angular → Java | Complexidade desnecessária |\r\n| `Insights.CidPrediction.Api` ausente workspace | docker-compose | Build do csharp-api falha","range":{"startLineNumber":483,"startColumn":3,"endLineNumber":548,"endColumn":115}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":14,"edits":[{"text":"Convenções\r\n\r\n### VoiceTranscription (.NET)\r\n1. **Namespace**: `Hapvida.TI.VoiceTranscription.[Layer]` — PascalCase\r\n2. **API versioning**: pastas `v1/` em todas as camadas\r\n3. **Bootstrapper pattern**: `Bootstrapper.cs` estático com extension methods\r\n4. **Options pattern**: `IOptions<T>` para configs tipadas\r\n5. **C# 12**: `LangVersion=12.0`, nullable reference types habilitado\r\n6. **TreatWarningsAsErrors**: sempre habilitado\r\n7. **Test coverage**: apenas Domain layer\r\n8. **Serialization**: `System.Text.Json` primário\r\n\r\n### Pep.SamWeb.Api (Java)\r\n1. **Package**: `br.com.hapvida.pepsam`\r\n2. **Path param `{ds}`**: `HAP` ou `SCHOSP` em todas as rotas\r\n3. **DAO pattern**: interface → impl, procedures Oracle\r\n4. **Properties**: `{jboss.server.config.dir}/pepsam/pepsam.properties` + configs Oracle DB\r\n5. **CDI**: `@Inject`, custom `@ApplicationProperty`\r\n\r\n### Sigah.SamWeb.Api (Django)\r\n1. **`@service_method`**: decorator core para proxy HTTP\r\n2. **Inflexão**: `snake_case ↔ camelCase` automático\r\n3. **Token forwarding**: `Authorization` → `token` header para PEPSAM\r\n4. **Data-Source header**: `HAP`/`SCHOSP` em todas as requests\r\n\r\n### Sigah.SamWeb.Web (Angular)\r\n1. **Prefixos**: `app` ou `sam` para components/directives\r\n2. **Private members**: prefixo `_`\r\n3. **Path alias**: `@/*` → `./app/*`\r\n4. **URL templating**: `{pepsamBackendUrl}`, `{dataSource}` resolvidos pelo interceptor\r\n\r\n## Restrições\r\n\r\n- Golden images Hapvida para Docker (.NET: `hapvidacorp.azurecr.io`)\r\n- NuGet feed privado Azure Artifacts\r\n- Oracle DB requer VPN corporativa\r\n- Prompts de IA em português (contexto médico — CIDs, SUS)\r\n- Angular 5 / Node 10 / Python 3.6 — dependências legacy, não atualizar sem planejamento\r\n\r\n## Testes\r\n\r\n| Projeto | Framework | Quantidade | Padrão |\r\n|---------|-----------|------------|--------|\r\n| VoiceTranscription.Api UnitTests | xUnit + Moq + NSubstitute | ~44 tests | AAA, `[Fact]`/`[Theory]`, `BuildSut` |\r\n| VoiceTranscription.Consumer UnitTests | xUnit + Moq | ~13 tests | AAA, `[Fact]`, Mock + Verify |\r\n| Pep.SamWeb.Api | JUnit + Arquillian | Minimal | — |\r\n| Sigah.SamWeb.Web | Jest 24.9.0 | — | jest-preset-angular |\r\n| Sigah.SamWeb.Api | — | Sem testes | — |\r\n\r\n## Estado Atual\r\n\r\n**Fase**: Produção\r\n**Status**: Sistema ativo em produção — AutoCid (sugestão CID-10 IA) e STT (transcrição de voz) são features do SamWeb usado por médicos em pronto-socorros e hospitais Hapvida.\r\n\r\n**Workspace**: Contém 5 repos dos 6 serviços. `Insights.CidPrediction.Api` ausente — necessário clonar para docker-compose funcionar completamente.\r\n\r\n## Última Atualização\r\n\r\n**Data**: 2026-02-12\r\n**Motivo**: Análise profunda de todos os repos do workspace — Pep.SamWeb.Api (Java), Sigah.SamWeb.Api (Django BFF), Sigah.SamWeb.Web (Angular), VoiceTranscription.Api e Consumer (.NET). Mapeamento completo de relações, fluxos de dados, infraestrutura Docker e dependências externas.","range":{"startLineNumber":554,"startColumn":4,"endLineNumber":569,"endColumn":123}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\memory\\lessons-learned.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":17,"edits":[{"text":"\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Workspace STT é um multi-repo com 6 serviços interdependentes. O contexto inicial documentava apenas VoiceTranscription (API + Consumer). Os 3 repos adicionais (Pep.SamWeb.Api, Sigah.SamWeb.Api, Sigah.SamWeb.Web) formam o sistema original AutoCid/SamWeb — o frontend e backend que consomem o STT.</context>\r\n  <decision>O workspace cobre dois sistemas convergentes: AutoCid (sugestão CID-10 via IA) e STT (transcrição de voz). Ambos são features do SamWeb usado por médicos. Angular chama Django BFF e Java PEPSAM diretamente (dual backend pattern). Java PEPSAM orquestra chamadas para .NET CidPrediction e VoiceTranscription.Api. VoiceTranscription.Consumer é independente (event-driven via Pub/Sub).</decision>\r\n  <outcome>Contexto expandido para cobrir todos os 6 repos, relações, fluxos de dados e infraestrutura Docker.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Angular SamWeb tem dois caminhos paralelos para sugestão CID-IA: Cid10IaService (via Django BFF → Java → .NET CidPrediction) e DiagnosticoInicialService (direto Java PEPSAM → .NET CidPrediction). Ambos ativos simultaneamente.</context>\r\n  <decision>Manter awareness de que existem dois fluxos CID-IA paralelos. Qualquer mudança na sugestão CID precisa considerar ambos os caminhos. O fluxo via Django BFF usa o archetype system para enviar dados de anamnese.</decision>\r\n  <outcome>Evitar implementar mudanças em apenas um dos caminhos, quebrando o outro.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Java PEPSAM obtém configurações da VoiceTranscription.Api (URL base, OAuth2 credentials, subscription key) diretamente do Oracle Database via `dominioDAO.obterPropriedadesTranscricaoVoz(b)`, não de arquivos de configuração.</context>\r\n  <decision>Para alterar a URL ou credenciais do STT consumidas pelo Java, a mudança deve ser feita no Oracle DB, não em properties files. O Java autentica no STT via OAuth2 client_credentials flow.</decision>\r\n  <outcome>Evita buscar configuração STT em pepsam.properties — ela está no banco.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>docker-compose.yml raiz referencia Insights.CidPrediction.Api que não está presente no workspace. Build do serviço csharp-api falha sem esse repo clonado.</context>\r\n  <decision>Para ambiente Docker completo, é necessário clonar o repo Insights.CidPrediction.Api no workspace. Alternativamente, pode-se comentar o serviço csharp-api no compose se não for necessário testar sugestão CID.</decision>\r\n  <outcome>docker-compose up sem o repo CidPrediction falha. Documentado nas instruções de setup.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Todos os endpoints Java PEPSAM usam path parameter {ds} (HAP ou SCHOSP) para selecionar datasource Oracle. Angular envia isso via header Data-Source. Django BFF extrai do header e injeta no path URL ao proxiar.</context>\r\n  <decision>Ao gerar código que interage com PEPSAM, sempre incluir o parâmetro {ds}. No Django, o datasource vem do header HTTP_DATA_SOURCE. No Angular, do sessionStorage via TokenService.</decision>\r\n  <outcome>Evita erros de rota 404 por omissão do datasource.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"padrões\">\r\n  <context>Django BFF usa o decorator @service_method como pattern principal. O body do método decorado retorna None (pass-through) ou dict para override de request data. O decorator constrói a URL, faz HTTP request ao PEPSAM, e faz inflexão snake_case↔camelCase automaticamente.</context>\r\n  <decision>Ao criar novos endpoints no Django BFF, seguir o padrão @service_method. Métodos que apenas fazem proxy direto podem ter body `pass`. Para customizar params/headers, retornar dict com overrides. Nunca fazer HTTP calls manuais — usar o framework do IntegracaoService.</decision>\r\n  <outcome>Mantém consistência no Django BFF e aproveita transformações automáticas de inflexão.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"padrões\">\r\n  <context>Angular SamWeb usa URL templating com placeholders {pepsamBackendUrl} e {dataSource} nos services, que são resolvidos pelo HTTP interceptor auth.service.ts em runtime. Diferente do padrão normal de construir URLs completas no service.</context>\r\n  <decision>Ao criar novos services no Angular SamWeb, usar placeholders {pepsamBackendUrl} e {dataSource} nas URLs. O interceptor resolve automaticamente e adiciona os headers de autenticação apropriados baseado no padrão de URL detectado.</decision>\r\n  <outcome>Mantém consistência e aproveita o mecanismo de autenticação automática do interceptor.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"tooling\">\r\n  <context>O docker-compose requer Oracle Database externo (VPN corporativa) e não possui fallback local. Sem Oracle, Java PEPSAM e Django BFF não funcionam.</context>\r\n  <decision>Para desenvolvimento local via Docker, a VPN corporativa Hapvida deve estar ativa. Não existe Oracle containerizado no compose. Os hosts Oracle são 10.1.23.75:1521 (Django) e dboradsv-scan.hapvida.com.br:1521 (Java/WildFly).</decision>\r\n  <outcome>Consciência de que o ambiente Docker local não é self-contained — depende de infraestrutura de rede corporativa.</outcome>\r\n</lesson>","range":{"startLineNumber":103,"startColumn":10,"endLineNumber":103,"endColumn":10}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\instructions\\workspace.instructions.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/instructions/workspace.instructions.md","path":"/d:/Repos/_hv/STT/.github/instructions/workspace.instructions.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":20,"edits":[{"text":"projeto |\r\n| **Angular Frontend** | `Sigah.SamWeb.Web/` | UI para médicos (Angular 5) |\r\n| **Django BFF** | `Sigah.SamWeb.Api/` | Proxy/orquestrador (Python 3.6, Django 1.11) |\r\n| **Java Core API** | `Pep.SamWeb.Api/` | Lógica de negócio + Oracle (Java 8, WildFly 9) |\r\n| **STT API** | `VoiceTranscription.Api/` | REST API para transcrição (.NET 8) |\r\n| **STT Consumer** | `VoiceTranscription.Consumer/` | Worker Service Pub/Sub (.NET 8) |\r\n| **WildFly** | `wildfly_PEPSAM/` | Distribuição WildFly para container Java","range":{"startLineNumber":14,"startColumn":77,"endLineNumber":16,"endColumn":77}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\instructions\\workspace.instructions.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/instructions/workspace.instructions.md","path":"/d:/Repos/_hv/STT/.github/instructions/workspace.instructions.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":22,"edits":[{"text":"\r\n│   │   │   └── {skill-name}/\r\n│   │   │       └── SKILL.md\r\n│   │   └── templates/\r\n│   │       └── workspace.instructions.md\r\n│   │\r\n│   └── .copilot-project/              # Clone (branch _hv/STT)\r\n│       ├── context/\r\n│       │   ├── project.md              # Estado atual do projeto\r\n│       │   └── code-map/               # Mapa de código estruturado\r\n│       ├── memory/\r\n│       │   └── lessons-learned.md      # Lições aprendidas\r\n│       └── skills/\r\n│           └── {skill-name}/\r\n│               └── SKILL.md\r\n│\r\n├── Sigah.SamWeb.Web/                   # Angular 5 Frontend\r\n├── Sigah.SamWeb.Api/                   # Django 1.11 BFF\r\n├── Pep.SamWeb.Api/                     # Java 8 / WildFly Core API\r\n├── VoiceTranscription.Api/             # .NET 8 STT REST API\r\n├── VoiceTranscription.Consumer/        # .NET 8 STT Worker Service\r\n├── wildfly_PEPSAM/                     # WildFly 9 distribution\r\n└── docker-compose.yml                  # Orquestração (4 serviços AutoCid","range":{"startLineNumber":33,"startColumn":20,"endLineNumber":57,"endColumn":66}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\instructions\\workspace.instructions.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/instructions/workspace.instructions.md","path":"/d:/Repos/_hv/STT/.github/instructions/workspace.instructions.md","scheme":"file"},"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","epoch":24,"edits":[{"text":" STT\" | `VoiceTranscription.Api/` |\r\n| \"Consumer\" | `VoiceTranscription.Consumer/` |\r\n| \"Java\", \"PEPSAM\" | `Pep.SamWeb.Api/` |\r\n| \"Django\", \"BFF\", \"Python\" | `Sigah.SamWeb.Api/` |\r\n| \"Angular\", \"Frontend\", \"Web\" | `Sigah.SamWeb.Web/` |\r\n| \"CID IA\", \"AutoCid\" | Fluxo CidPrediction (Java → .NET CidPrediction) |\r\n| \"transcrição\", \"STT\" | Fluxo VoiceTranscription (API + Consumer + Pub/Sub)","range":{"startLineNumber":151,"startColumn":7,"endLineNumber":152,"endColumn":49}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":28,"edits":[{"text":"(Databricks)     │                │\r\n                           │ Gemini 2.5/2.0 FL     │                │\r\n                           │ → CID-10 codes        │       ┌───────┴────────┐\r\n                           └───────────────────────┘       │  GCS Signed URL│\r\n                                    ▲                      │  Audio Upload  │\r\n                           ┌────────┴───────────────┐      └───────┬────────┘\r\n                           │ Insights.CidPrediction  │             │\r\n                           │ .Ai (Python/ML)         │             │\r\n                           │ BERTimbau Training      │             │\r\n                           │ → Azure ML Endpoint     │             ","range":{"startLineNumber":55,"startColumn":35,"endLineNumber":57,"endColumn":81}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":29,"edits":[{"text":"`Insights.CidPrediction.Api/` | AI API | .NET 6 (SDK 6.0.416), C# | Orquestração de modelos ML (BERT emergência, Gemini 2.5/2.0 internação) |\r\n| **Insights.CidPrediction.Ai** | `Insights.CidPrediction.Ai/` | ML Pipeline | Python 3.8, PyTorch, HuggingFace, MLflow | Treino e deploy do modelo BERTimbau para classificação de CID-10","range":{"startLineNumber":23,"startColumn":36,"endLineNumber":23,"endColumn":148}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":30,"edits":[{"text":"7 repositórios e 6+","range":{"startLineNumber":3,"startColumn":78,"endLineNumber":3,"endColumn":79}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":32,"edits":[{"text":"Insights.CidPrediction.Api (.NET 6)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| .NET | 6.0 (SDK 6.0.416) |\r\n| Hapvida.Core | 1.5.2 (Api.Http, Domain, Infra) |\r\n| Porta Docker | 80 (→ host 5000) |\r\n| Layered | Api → Domain → Service |\r\n\r\n**Endpoints REST:**\r\n\r\n| Método | Rota | Propósito | Modelo IA |\r\n|--------|------|-----------|-----------|\r\n| `POST` | `/api/v1` | CID emergência | BERT (Databricks) ou Gemini 2.5 Flash Lite |\r\n| `POST` | `/api/v1/int` | CID internação/evolução | Gemini 2.0 Flash Lite |\r\n| `GET` | `/health` | Liveness probe | — |\r\n| `GET` | `/ready` | Readiness probe | — |\r\n\r\n**Modelos de IA orquestrados:**\r\n\r\n| # | Modelo | Endpoint | Propósito |\r\n|---|--------|----------|-----------|\r\n| 0 | BERT `bert-autocid-textclassifier-7` | Azure Databricks serving | Classificação CID emergência (default) |\r\n| 1 | SpaCy Anonymization | Azure ML (10.129.30.187) | Anonimização PII (**DESABILITADO** — `if (false)`) |\r\n| 2 | Gemini 2.0 Flash Lite | Google AI API | CID internação (prompt em `appsettings`) |\r\n| 3 | Gemini 2.5 Flash Lite | Google AI API | CID emergência (alternativo, prompt em `Constants.cs`) |\r\n\r\n**Seleção de modelo (emergência):** Caller envia `codigo_modelo_ia` → `AiModelType` enum: Default/Bert=0/1 → Databricks BERT, Gemini_2_5_Flash_Lite=2 → Google API.\r\n\r\n**Padrões:** CQRS (MediatR), Strategy (PredictAiEndpointsService), Hexagonal ports/adapters (IGeminiAiPort), Refit HTTP clients, AutoMapper, FluentValidation.\r\n\r\n### 5. Insights.CidPrediction.Ai (Python ML Pipeline)\r\n\r\n| Aspecto | Valor |\r\n|---------|-------|\r\n| Python | 3.8-3.9 |\r\n| ML Framework | PyTorch + HuggingFace Transformers |\r\n| Modelo base | `neuralmind/bert-base-portuguese-cased` (BERTimbau) |\r\n| Tracking | MLflow |\r\n| Deploy | Azure ML managed endpoint (Brazil South) |\r\n| Classes | 143 subcapítulos CID-10 |\r\n| Accuracy | 0.77 (target: 0.80) |\r\n| Dataset | 25k anamneses classificadas por auditoria médica |\r\n\r\n**Relação com .Api:** Este repo treina e faz deploy do modelo BERTimbau como endpoint Azure ML. O `.Api` (.NET) consome esse endpoint via Refit (`IPredictAiEndpoint`).\r\n\r\n**Estrutura:** `notebooks/v1/` (POC), `notebooks/v2/` (iterações de treino com `BERTClassification`), `notebooks/v3/` (MLflow + Azure ML deploy).\r\n\r\n**Não participa do Docker** — deploy via Azure ML managed endpoints, sem Dockerfile próprio.\r\n\r\n### 6. ","range":{"startLineNumber":233,"startColumn":8,"endLineNumber":233,"endColumn":8}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":34,"edits":[{"text":"de todos os 7 repos — incluindo Insights.CidPrediction.Api (.NET 6, BERT+Gemini) e Insights.CidPrediction.Ai (Python ML pipeline BERTimbau). Mapeamento de modelos IA, Docker, relações e dependênci","range":{"startLineNumber":671,"startColumn":21,"endLineNumber":671,"endColumn":280}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":35,"edits":[{"text":"todos os 7 repos. docker-compose referencia pastas com prefixo `Assistance.` (ex: `Assistance.Pep.SamWeb.Api/`) mas pastas reais não têm esse prefixo — requer symlinks ou ajuste de paths","range":{"startLineNumber":666,"startColumn":23,"endLineNumber":666,"endColumn":147}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":36,"edits":[{"text":"| docker-compose paths com prefixo `Assistance.` | docker-compose.yml, Dockerfile.dev | Referencia `Assistance.Pep.SamWeb.Api/` mas pasta real é `Pep.SamWeb.Api/` — requer symlinks ou renomear |\r\n| Typo \"Gimini\" vs \"Gemini\" | CidPrediction.Api (Domain) | `GiminiEvolutionService`, `IGiminiEvolutionService` |\r\n| SpaCy anonimização hardcoded desabilitada | CidPrediction.Api | `if (false)` em `CreateExampleCommandHandler` |\r\n| Dual Gemini call em internação | CidPrediction.Api | Chama `IGeminiAiPort` E `IGiminiEvolutionService`, só usa resultado do segundo |\r\n| Prompt-in-config anti-pattern | CidPrediction.Api | `UseDefault` field armazena prompt inteiro como string |","range":{"startLineNumber":610,"startColumn":1,"endLineNumber":610,"endColumn":96}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":37,"edits":[{"text":"","range":{"startLineNumber":336,"startColumn":1,"endLineNumber":336,"endColumn":65}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":38,"edits":[{"text":"(SDK 6.0.416) | Insights.CidPrediction.Api |\r\n| **CID ML Pipeline** | Python (PyTorch, HuggingFace, MLflow) | 3.8-3.9 | Insights.CidPrediction.Ai |\r\n| AI/ML (CID emerg) | Azure Databricks BERT (BERTimbau) | — | Insights.CidPrediction.Api → Databricks |\r\n| AI/ML (CID intern) | Google Gemini 2.0 Flash Lite | — | Insights.CidPrediction.Api → Google API |\r\n| AI/ML (CID emerg alt) | Google Gemini 2.5 Flash Lite | — | Insights.CidPrediction.Api → Google API","range":{"startLineNumber":334,"startColumn":36,"endLineNumber":334,"endColumn":64}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":39,"edits":[{"text":"7","range":{"startLineNumber":303,"startColumn":5,"endLineNumber":303,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\context\\project.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/context/project.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":41,"edits":[{"text":": `/api/v1` (emergência BERT/Gemini 2.5) ou `/api/v1/int` (internação Gemini 2.0) |\r\n| .NET CidPrediction → Azure Databricks | HTTP POST (Refit) | BERT serving endpoint para classificação CID emergência |\r\n| .NET CidPrediction → Google AI API | HTTP POST (Refit) | Gemini 2.5 FL (emergência alt) ou Gemini 2.0 FL (internação) |\r\n| Insights.CidPrediction.Ai → Azure ML | MLflow deploy | Treina BERTimbau e deploya como managed endpoint","range":{"startLineNumber":92,"startColumn":65,"endLineNumber":92,"endColumn":81}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\.github\\.copilot-project\\memory\\lessons-learned.md","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","path":"/d:/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":44,"edits":[{"text":"\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Insights.CidPrediction.Api (.NET 6) orquestra 4 modelos de IA via strategy pattern: BERT no Azure Databricks (default emergência), Gemini 2.5 Flash Lite (alternativa emergência), Gemini 2.0 Flash Lite (internação) e SpaCy anonymization (desabilitado). Caller escolhe modelo via `codigo_modelo_ia` enum.</context>\r\n  <decision>Para emergência, BERT é o default (codigo_modelo_ia=0 ou 1) e Gemini 2.5 é alternativa (codigo_modelo_ia=2). Para internação (/api/v1/int), sempre Gemini 2.0. SpaCy está hardcoded como desabilitado. O modelo é determinado no Java PEPSAM via Oracle procedure `fn_verifica_cid_ia_modelo`.</decision>\r\n  <outcome>Qualquer mudança de modelo precisa considerar: Oracle DB (modelo do atendimento), Java (passagem do código), .NET (orquestração).</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"arquitetura\">\r\n  <context>Insights.CidPrediction.Ai é o pipeline ML (Python) que treina o modelo BERTimbau consumido pelo .Api via Azure Databricks. O modelo classifica anamneses em 143 subcapítulos CID-10 com accuracy 0.77, usando dataset de 25k anamneses classificadas por auditoria médica.</context>\r\n  <decision>O .Ai não participa do Docker e não tem CI/CD automatizado. Deploy é via Azure ML managed endpoints. O .Api consome o endpoint via Refit (IPredictAiEndpoint). Para testar localmente sem o BERT real, pode-se mockar o endpoint Databricks.</decision>\r\n  <outcome>Separação clara: .Ai = treino e deploy do modelo, .Api = gateway de orquestração.</outcome>\r\n</lesson>\r\n\r\n<lesson date=\"2026-02-12\" category=\"tooling\">\r\n  <context>O docker-compose.yml referencia pastas com prefixo `Assistance.` (ex: `Assistance.Pep.SamWeb.Api/`, `Assistance.Sigah.SamWeb.Api/`, `Assistance.Sigah.SamWeb.Web/`) mas as pastas reais no workspace não têm esse prefixo (`Pep.SamWeb.Api/`, `Sigah.SamWeb.Api/`, `Sigah.SamWeb.Web/`). Mesma discrepância existe no Dockerfile.dev do Java.</context>\r\n  <decision>Para o Docker funcionar, é necessário criar symlinks (Linux/WSL: `ln -s`; Windows: `mklink /D`) ou ajustar os paths no docker-compose.yml e Dockerfile.dev. O script de setup deve tratar isso automaticamente.</decision>\r\n  <outcome>docker-compose up falha sem essa correção de paths.</outcome>\r\n</lesson>","range":{"startLineNumber":151,"startColumn":10,"endLineNumber":151,"endColumn":10}}]},{"type":"create","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":45,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":46,"edits":[{"text":"#!/usr/bin/env pwsh","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":47,"edits":[{"text":"\n<#","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":48,"edits":[{"text":"\n.SYNOPSIS","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":49,"edits":[{"text":"\n    Starts the AutoCid Docker environment using WSL (without Docker Desktop).","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":50,"edits":[{"text":"\n","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":51,"edits":[{"text":"\n.DESCRIPTION","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":52,"edits":[{"text":"\n    This script:","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":53,"edits":[{"text":"\n    1. Checks prerequisites (WSL, Docker Engine in WSL)","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":54,"edits":[{"text":"\n    2. Creates symlinks to map folder names expected by docker-compose","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":55,"edits":[{"text":"\n    3. Starts Docker Engine in WSL if not running","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":56,"edits":[{"text":"\n    4. Runs docker-compose up from within WSL","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":57,"edits":[{"text":"\n    5. Shows service URLs and status","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":58,"edits":[{"text":"\n","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":59,"edits":[{"text":"\n.PARAMETER Down","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":60,"edits":[{"text":"\n    Stops all services instead of starting.","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":61,"edits":[{"text":"\n","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":62,"edits":[{"text":"\n.PARAMETER Build","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":63,"edits":[{"text":"\n    Forces rebuild of all images before starting.","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":64,"edits":[{"text":"\n","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":65,"edits":[{"text":"\n.PARAMETER Logs","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":66,"edits":[{"text":"\n    Follows logs after starting (Ctrl+C to stop following).","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":67,"edits":[{"text":"\n","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":68,"edits":[{"text":"\n.PARAMETER Service","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":69,"edits":[{"text":"\n    Start only a specific service (e.g., \"csharp-api\", \"java-api\", \"python-api\", \"angular-web\").","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":70,"edits":[{"text":"\n","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":71,"edits":[{"text":"\n.PARAMETER Status","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":72,"edits":[{"text":"\n    Shows current status of containers.","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":73,"edits":[{"text":"\n","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":74,"edits":[{"text":"\n.EXAMPLE","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":75,"edits":[{"text":"\n    .\\docker-start-wsl.ps1                          # Start all services","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":76,"edits":[{"text":"\n    .\\docker-start-wsl.ps1 -Build                   # Rebuild and start","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":77,"edits":[{"text":"\n    .\\docker-start-wsl.ps1 -Logs                    # Start and follow logs","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":78,"edits":[{"text":"\n    .\\docker-start-wsl.ps1 -Down                    # Stop all services","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":79,"edits":[{"text":"\n    .\\docker-start-wsl.ps1 -Service java-api -Build # Rebuild only java-api","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":80,"edits":[{"text":"\n    .\\docker-start-wsl.ps1 -Status                  # Check container status","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":81,"edits":[{"text":"\n#>","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":82,"edits":[{"text":"\n","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":83,"edits":[{"text":"\n[CmdletBinding()]","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":84,"edits":[{"text":"\nparam(","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":85,"edits":[{"text":"\n    [switch]$Down,","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":86,"edits":[{"text":"\n    [switch]$Build,","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":87,"edits":[{"text":"\n    [switch]$Logs,","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":88,"edits":[{"text":"\n    [string]$Service,","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":89,"edits":[{"text":"\n    [switch]$Status","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":90,"edits":[{"text":"\n)","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":91,"edits":[{"text":"\n","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":92,"edits":[{"text":"\n$ErrorActionPreference = \"Stop\"","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":93,"edits":[{"text":"\n","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":94,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":95,"edits":[{"text":"\n# Configuration","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":96,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":97,"edits":[{"text":"\n$WORKSPACE_WIN = $PSScriptRoot","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":98,"edits":[{"text":"\n$COMPOSE_FILE = \"docker-compose.yml\"","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":99,"edits":[{"text":"\n","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":100,"edits":[{"text":"\n# Folder name mappings: docker-compose expects -> actual folder name","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":101,"edits":[{"text":"\n$SYMLINKS = @{","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":102,"edits":[{"text":"\n    \"Assistance.Pep.SamWeb.Api\"   = \"Pep.SamWeb.Api\"","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":103,"edits":[{"text":"\n    \"Assistance.Sigah.SamWeb.Api\" = \"Sigah.SamWeb.Api\"","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":104,"edits":[{"text":"\n    \"Assistance.Sigah.SamWeb.Web\" = \"Sigah.SamWeb.Web\"","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":105,"edits":[{"text":"\n}","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":106,"edits":[{"text":"\n","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":107,"edits":[{"text":"\n# Service URLs for display","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":108,"edits":[{"text":"\n$SERVICE_URLS = @{","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":109,"edits":[{"text":"\n    \"angular-web\" = \"http://localhost:4200\"","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":110,"edits":[{"text":"\n    \"python-api\"  = \"http://localhost:8000\"","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":111,"edits":[{"text":"\n    \"java-api\"    = \"http://localhost:8080/api/pepsam\"","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":112,"edits":[{"text":"\n    \"csharp-api\"  = \"http://localhost:5000/api/v1\"","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":113,"edits":[{"text":"\n    \"wildfly-admin\" = \"http://localhost:9990 (admin/admin)\"","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":114,"edits":[{"text":"\n    \"java-debug\"  = \"localhost:8787\"","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":115,"edits":[{"text":"\n}","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":116,"edits":[{"text":"\n","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":117,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":118,"edits":[{"text":"\n# Helper Functions","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":119,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":120,"edits":[{"text":"\nfunction Write-Header {","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":121,"edits":[{"text":"\n    param([string]$Text)","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":122,"edits":[{"text":"\n    Write-Host \"\"","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":123,"edits":[{"text":"\n    Write-Host \"======================================\" -ForegroundColor Cyan","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":124,"edits":[{"text":"\n    Write-Host \"  $Text\" -ForegroundColor Cyan","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":125,"edits":[{"text":"\n    Write-Host \"======================================\" -ForegroundColor Cyan","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":126,"edits":[{"text":"\n    Write-Host \"\"","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":127,"edits":[{"text":"\n}","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":128,"edits":[{"text":"\n","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":129,"edits":[{"text":"\nfunction Write-Step {","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":130,"edits":[{"text":"\n    param([string]$Text)","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":131,"edits":[{"text":"\n    Write-Host \"[*] $Text\" -ForegroundColor Yellow","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":132,"edits":[{"text":"\n}","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":133,"edits":[{"text":"\n","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":134,"edits":[{"text":"\nfunction Write-Ok {","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":135,"edits":[{"text":"\n    param([string]$Text)","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":136,"edits":[{"text":"\n    Write-Host \"[OK] $Text\" -ForegroundColor Green","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":137,"edits":[{"text":"\n}","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":138,"edits":[{"text":"\n","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":139,"edits":[{"text":"\nfunction Write-Err {","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":140,"edits":[{"text":"\n    param([string]$Text)","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":141,"edits":[{"text":"\n    Write-Host \"[ERRO] $Text\" -ForegroundColor Red","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":142,"edits":[{"text":"\n}","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":143,"edits":[{"text":"\n","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":144,"edits":[{"text":"\nfunction Write-Info {","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":145,"edits":[{"text":"\n    param([string]$Text)","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":146,"edits":[{"text":"\n    Write-Host \"[i] $Text\" -ForegroundColor Gray","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":147,"edits":[{"text":"\n}","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":148,"edits":[{"text":"\n","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":149,"edits":[{"text":"\nfunction Convert-ToWslPath {","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":150,"edits":[{"text":"\n    param([string]$WinPath)","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":151,"edits":[{"text":"\n    # D:\\Repos\\_hv\\STT -> /mnt/d/Repos/_hv/STT","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":152,"edits":[{"text":"\n    $drive = $WinPath.Substring(0, 1).ToLower()","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":153,"edits":[{"text":"\n    $rest = $WinPath.Substring(2) -replace '\\\\', '/'","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":154,"edits":[{"text":"\n    return \"/mnt/$drive$rest\"","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":155,"edits":[{"text":"\n}","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":156,"edits":[{"text":"\n","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":157,"edits":[{"text":"\nfunction Invoke-Wsl {","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":158,"edits":[{"text":"\n    param(","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":159,"edits":[{"text":"\n        [string]$Command,","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":160,"edits":[{"text":"\n        [switch]$PassThru,","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":161,"edits":[{"text":"\n        [switch]$NoCheck","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":162,"edits":[{"text":"\n    )","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":163,"edits":[{"text":"\n    if ($PassThru) {","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":164,"edits":[{"text":"\n        $result = wsl bash -c $Command 2>&1","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":165,"edits":[{"text":"\n        if (-not $NoCheck -and $LASTEXITCODE -ne 0) {","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":166,"edits":[{"text":"\n            Write-Err \"Comando WSL falhou: $Command\"","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":167,"edits":[{"text":"\n            Write-Host $result -ForegroundColor Red","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":168,"edits":[{"text":"\n            return $null","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":169,"edits":[{"text":"\n        }","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":170,"edits":[{"text":"\n        return $result","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":171,"edits":[{"text":"\n    }","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":172,"edits":[{"text":"\n    else {","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":173,"edits":[{"text":"\n        wsl bash -c $Command","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":174,"edits":[{"text":"\n        if (-not $NoCheck -and $LASTEXITCODE -ne 0) {","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":175,"edits":[{"text":"\n            Write-Err \"Comando WSL falhou: $Command\"","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":176,"edits":[{"text":"\n            return $false","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":177,"edits":[{"text":"\n        }","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":178,"edits":[{"text":"\n        return $true","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":179,"edits":[{"text":"\n    }","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":180,"edits":[{"text":"\n}","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":181,"edits":[{"text":"\n","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":182,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":183,"edits":[{"text":"\n# 1. Check Prerequisites","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":184,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":185,"edits":[{"text":"\nfunction Test-Prerequisites {","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":186,"edits":[{"text":"\n    Write-Header \"Verificando pre-requisitos\"","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":187,"edits":[{"text":"\n","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":188,"edits":[{"text":"\n    # Check WSL","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":189,"edits":[{"text":"\n    Write-Step \"Verificando WSL...\"","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":190,"edits":[{"text":"\n    $wslStatus = wsl --status 2>&1","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":191,"edits":[{"text":"\n    if ($LASTEXITCODE -ne 0) {","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":192,"edits":[{"text":"\n        Write-Err \"WSL nao esta instalado ou habilitado.\"","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":193,"edits":[{"text":"\n        Write-Host \"  Instale com: wsl --install\" -ForegroundColor Gray","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":194,"edits":[{"text":"\n        exit 1","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":195,"edits":[{"text":"\n    }","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":196,"edits":[{"text":"\n    Write-Ok \"WSL disponivel\"","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":197,"edits":[{"text":"\n","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":198,"edits":[{"text":"\n    # Check Docker in WSL","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":199,"edits":[{"text":"\n    Write-Step \"Verificando Docker Engine no WSL...\"","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":200,"edits":[{"text":"\n    $dockerVersion = Invoke-Wsl -Command \"docker --version 2>/dev/null\" -PassThru -NoCheck","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":201,"edits":[{"text":"\n    if (-not $dockerVersion -or $LASTEXITCODE -ne 0) {","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":202,"edits":[{"text":"\n        Write-Err \"Docker Engine nao encontrado no WSL.\"","range":{"startLineNumber":157,"startColumn":1,"endLineNumber":157,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":203,"edits":[{"text":"\n        Write-Host @\"","range":{"startLineNumber":158,"startColumn":1,"endLineNumber":158,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":204,"edits":[{"text":"\n  Para instalar Docker Engine no WSL (Ubuntu/Debian):","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":159,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":205,"edits":[{"text":"\n","range":{"startLineNumber":160,"startColumn":1,"endLineNumber":160,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":206,"edits":[{"text":"\n    # Dentro do WSL:","range":{"startLineNumber":161,"startColumn":1,"endLineNumber":161,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":207,"edits":[{"text":"\n    sudo apt-get update","range":{"startLineNumber":162,"startColumn":1,"endLineNumber":162,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":208,"edits":[{"text":"\n    sudo apt-get install -y ca-certificates curl gnupg","range":{"startLineNumber":163,"startColumn":1,"endLineNumber":163,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":209,"edits":[{"text":"\n    sudo install -m 0755 -d /etc/apt/keyrings","range":{"startLineNumber":164,"startColumn":1,"endLineNumber":164,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":210,"edits":[{"text":"\n    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":165,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":211,"edits":[{"text":"\n    sudo chmod a+r /etc/apt/keyrings/docker.gpg","range":{"startLineNumber":166,"startColumn":1,"endLineNumber":166,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":212,"edits":[{"text":"\n    echo \"deb [arch=`$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu `$(. /etc/os-release && echo `$VERSION_CODENAME) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null","range":{"startLineNumber":167,"startColumn":1,"endLineNumber":167,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":213,"edits":[{"text":"\n    sudo apt-get update","range":{"startLineNumber":168,"startColumn":1,"endLineNumber":168,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":214,"edits":[{"text":"\n    sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin","range":{"startLineNumber":169,"startColumn":1,"endLineNumber":169,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":215,"edits":[{"text":"\n    sudo usermod -aG docker `$USER","range":{"startLineNumber":170,"startColumn":1,"endLineNumber":170,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":216,"edits":[{"text":"\n\"@ -ForegroundColor Gray","range":{"startLineNumber":171,"startColumn":1,"endLineNumber":171,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":217,"edits":[{"text":"\n        exit 1","range":{"startLineNumber":172,"startColumn":1,"endLineNumber":172,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":218,"edits":[{"text":"\n    }","range":{"startLineNumber":173,"startColumn":1,"endLineNumber":173,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":219,"edits":[{"text":"\n    Write-Ok \"Docker Engine: $($dockerVersion.Trim())\"","range":{"startLineNumber":174,"startColumn":1,"endLineNumber":174,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":220,"edits":[{"text":"\n","range":{"startLineNumber":175,"startColumn":1,"endLineNumber":175,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":221,"edits":[{"text":"\n    # Check docker compose","range":{"startLineNumber":176,"startColumn":1,"endLineNumber":176,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":222,"edits":[{"text":"\n    Write-Step \"Verificando docker compose...\"","range":{"startLineNumber":177,"startColumn":1,"endLineNumber":177,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":223,"edits":[{"text":"\n    $composeVersion = Invoke-Wsl -Command \"docker compose version 2>/dev/null\" -PassThru -NoCheck","range":{"startLineNumber":178,"startColumn":1,"endLineNumber":178,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":224,"edits":[{"text":"\n    if (-not $composeVersion -or $LASTEXITCODE -ne 0) {","range":{"startLineNumber":179,"startColumn":1,"endLineNumber":179,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":225,"edits":[{"text":"\n        Write-Err \"docker compose plugin nao encontrado.\"","range":{"startLineNumber":180,"startColumn":1,"endLineNumber":180,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":226,"edits":[{"text":"\n        Write-Host \"  Instale: sudo apt-get install docker-compose-plugin\" -ForegroundColor Gray","range":{"startLineNumber":181,"startColumn":1,"endLineNumber":181,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":227,"edits":[{"text":"\n        exit 1","range":{"startLineNumber":182,"startColumn":1,"endLineNumber":182,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":228,"edits":[{"text":"\n    }","range":{"startLineNumber":183,"startColumn":1,"endLineNumber":183,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":229,"edits":[{"text":"\n    Write-Ok \"Docker Compose: $($composeVersion.Trim())\"","range":{"startLineNumber":184,"startColumn":1,"endLineNumber":184,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":230,"edits":[{"text":"\n","range":{"startLineNumber":185,"startColumn":1,"endLineNumber":185,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":231,"edits":[{"text":"\n    # Check docker-compose.yml exists","range":{"startLineNumber":186,"startColumn":1,"endLineNumber":186,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":232,"edits":[{"text":"\n    if (-not (Test-Path \"$WORKSPACE_WIN\\$COMPOSE_FILE\")) {","range":{"startLineNumber":187,"startColumn":1,"endLineNumber":187,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":233,"edits":[{"text":"\n        Write-Err \"docker-compose.yml nao encontrado em $WORKSPACE_WIN\"","range":{"startLineNumber":188,"startColumn":1,"endLineNumber":188,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":234,"edits":[{"text":"\n        exit 1","range":{"startLineNumber":189,"startColumn":1,"endLineNumber":189,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":235,"edits":[{"text":"\n    }","range":{"startLineNumber":190,"startColumn":1,"endLineNumber":190,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":236,"edits":[{"text":"\n    Write-Ok \"docker-compose.yml encontrado\"","range":{"startLineNumber":191,"startColumn":1,"endLineNumber":191,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":237,"edits":[{"text":"\n}","range":{"startLineNumber":192,"startColumn":1,"endLineNumber":192,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":238,"edits":[{"text":"\n","range":{"startLineNumber":193,"startColumn":1,"endLineNumber":193,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":239,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":194,"startColumn":1,"endLineNumber":194,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":240,"edits":[{"text":"\n# 2. Create Symlinks (inside WSL for Linux FS)","range":{"startLineNumber":195,"startColumn":1,"endLineNumber":195,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":241,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":196,"startColumn":1,"endLineNumber":196,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":242,"edits":[{"text":"\nfunction Set-Symlinks {","range":{"startLineNumber":197,"startColumn":1,"endLineNumber":197,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":243,"edits":[{"text":"\n    Write-Header \"Configurando symlinks\"","range":{"startLineNumber":198,"startColumn":1,"endLineNumber":198,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":244,"edits":[{"text":"\n","range":{"startLineNumber":199,"startColumn":1,"endLineNumber":199,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":245,"edits":[{"text":"\n    $wslPath = Convert-ToWslPath $WORKSPACE_WIN","range":{"startLineNumber":200,"startColumn":1,"endLineNumber":200,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":246,"edits":[{"text":"\n","range":{"startLineNumber":201,"startColumn":1,"endLineNumber":201,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":247,"edits":[{"text":"\n    foreach ($link in $SYMLINKS.GetEnumerator()) {","range":{"startLineNumber":202,"startColumn":1,"endLineNumber":202,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":248,"edits":[{"text":"\n        $linkName = $link.Key","range":{"startLineNumber":203,"startColumn":1,"endLineNumber":203,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":249,"edits":[{"text":"\n        $targetName = $link.Value","range":{"startLineNumber":204,"startColumn":1,"endLineNumber":204,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":250,"edits":[{"text":"\n","range":{"startLineNumber":205,"startColumn":1,"endLineNumber":205,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":251,"edits":[{"text":"\n        Write-Step \"Verificando: $linkName -> $targetName\"","range":{"startLineNumber":206,"startColumn":1,"endLineNumber":206,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":252,"edits":[{"text":"\n","range":{"startLineNumber":207,"startColumn":1,"endLineNumber":207,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":253,"edits":[{"text":"\n        # Check if symlink already exists and is correct","range":{"startLineNumber":208,"startColumn":1,"endLineNumber":208,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":254,"edits":[{"text":"\n        $exists = Invoke-Wsl -Command \"test -L '$wslPath/$linkName' && readlink '$wslPath/$linkName' 2>/dev/null || echo 'NOT_FOUND'\" -PassThru -NoCheck","range":{"startLineNumber":209,"startColumn":1,"endLineNumber":209,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":255,"edits":[{"text":"\n","range":{"startLineNumber":210,"startColumn":1,"endLineNumber":210,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":256,"edits":[{"text":"\n        if ($exists -and $exists.Trim() -eq $targetName) {","range":{"startLineNumber":211,"startColumn":1,"endLineNumber":211,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":257,"edits":[{"text":"\n            Write-Ok \"Symlink ja existe: $linkName -> $targetName\"","range":{"startLineNumber":212,"startColumn":1,"endLineNumber":212,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":258,"edits":[{"text":"\n            continue","range":{"startLineNumber":213,"startColumn":1,"endLineNumber":213,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":259,"edits":[{"text":"\n        }","range":{"startLineNumber":214,"startColumn":1,"endLineNumber":214,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":260,"edits":[{"text":"\n","range":{"startLineNumber":215,"startColumn":1,"endLineNumber":215,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":261,"edits":[{"text":"\n        # Check if target folder exists","range":{"startLineNumber":216,"startColumn":1,"endLineNumber":216,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":262,"edits":[{"text":"\n        $targetExists = Invoke-Wsl -Command \"test -d '$wslPath/$targetName' && echo 'YES' || echo 'NO'\" -PassThru -NoCheck","range":{"startLineNumber":217,"startColumn":1,"endLineNumber":217,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":263,"edits":[{"text":"\n        if ($targetExists.Trim() -ne \"YES\") {","range":{"startLineNumber":218,"startColumn":1,"endLineNumber":218,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":264,"edits":[{"text":"\n            Write-Err \"Pasta alvo nao encontrada: $targetName\"","range":{"startLineNumber":219,"startColumn":1,"endLineNumber":219,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":265,"edits":[{"text":"\n            continue","range":{"startLineNumber":220,"startColumn":1,"endLineNumber":220,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":266,"edits":[{"text":"\n        }","range":{"startLineNumber":221,"startColumn":1,"endLineNumber":221,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":267,"edits":[{"text":"\n","range":{"startLineNumber":222,"startColumn":1,"endLineNumber":222,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":268,"edits":[{"text":"\n        # Check if a real directory with the link name exists (would block symlink)","range":{"startLineNumber":223,"startColumn":1,"endLineNumber":223,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":269,"edits":[{"text":"\n        $realDirExists = Invoke-Wsl -Command \"test -d '$wslPath/$linkName' && ! test -L '$wslPath/$linkName' && echo 'YES' || echo 'NO'\" -PassThru -NoCheck","range":{"startLineNumber":224,"startColumn":1,"endLineNumber":224,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":270,"edits":[{"text":"\n        if ($realDirExists.Trim() -eq \"YES\") {","range":{"startLineNumber":225,"startColumn":1,"endLineNumber":225,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":271,"edits":[{"text":"\n            Write-Info \"Pasta real '$linkName' ja existe — assumindo que e o repo correto.\"","range":{"startLineNumber":226,"startColumn":1,"endLineNumber":226,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":272,"edits":[{"text":"\n            continue","range":{"startLineNumber":227,"startColumn":1,"endLineNumber":227,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":273,"edits":[{"text":"\n        }","range":{"startLineNumber":228,"startColumn":1,"endLineNumber":228,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":274,"edits":[{"text":"\n","range":{"startLineNumber":229,"startColumn":1,"endLineNumber":229,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":275,"edits":[{"text":"\n        # Remove existing broken symlink","range":{"startLineNumber":230,"startColumn":1,"endLineNumber":230,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":276,"edits":[{"text":"\n        Invoke-Wsl -Command \"rm -f '$wslPath/$linkName'\" -NoCheck | Out-Null","range":{"startLineNumber":231,"startColumn":1,"endLineNumber":231,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":277,"edits":[{"text":"\n","range":{"startLineNumber":232,"startColumn":1,"endLineNumber":232,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":278,"edits":[{"text":"\n        # Create symlink","range":{"startLineNumber":233,"startColumn":1,"endLineNumber":233,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":279,"edits":[{"text":"\n        $result = Invoke-Wsl -Command \"cd '$wslPath' && ln -s '$targetName' '$linkName'\" -NoCheck","range":{"startLineNumber":234,"startColumn":1,"endLineNumber":234,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":280,"edits":[{"text":"\n        if ($LASTEXITCODE -eq 0) {","range":{"startLineNumber":235,"startColumn":1,"endLineNumber":235,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":281,"edits":[{"text":"\n            Write-Ok \"Symlink criado: $linkName -> $targetName\"","range":{"startLineNumber":236,"startColumn":1,"endLineNumber":236,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":282,"edits":[{"text":"\n        }","range":{"startLineNumber":237,"startColumn":1,"endLineNumber":237,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":283,"edits":[{"text":"\n        else {","range":{"startLineNumber":238,"startColumn":1,"endLineNumber":238,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":284,"edits":[{"text":"\n            Write-Err \"Falha ao criar symlink: $linkName\"","range":{"startLineNumber":239,"startColumn":1,"endLineNumber":239,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":285,"edits":[{"text":"\n        }","range":{"startLineNumber":240,"startColumn":1,"endLineNumber":240,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":286,"edits":[{"text":"\n    }","range":{"startLineNumber":241,"startColumn":1,"endLineNumber":241,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":287,"edits":[{"text":"\n}","range":{"startLineNumber":242,"startColumn":1,"endLineNumber":242,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":288,"edits":[{"text":"\n","range":{"startLineNumber":243,"startColumn":1,"endLineNumber":243,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":289,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":244,"startColumn":1,"endLineNumber":244,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":290,"edits":[{"text":"\n# 3. Start Docker Engine","range":{"startLineNumber":245,"startColumn":1,"endLineNumber":245,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":291,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":246,"startColumn":1,"endLineNumber":246,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":292,"edits":[{"text":"\nfunction Start-DockerEngine {","range":{"startLineNumber":247,"startColumn":1,"endLineNumber":247,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":293,"edits":[{"text":"\n    Write-Header \"Verificando Docker Engine\"","range":{"startLineNumber":248,"startColumn":1,"endLineNumber":248,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":294,"edits":[{"text":"\n","range":{"startLineNumber":249,"startColumn":1,"endLineNumber":249,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":295,"edits":[{"text":"\n    Write-Step \"Verificando se Docker daemon esta rodando...\"","range":{"startLineNumber":250,"startColumn":1,"endLineNumber":250,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":296,"edits":[{"text":"\n    $dockerRunning = Invoke-Wsl -Command \"docker info >/dev/null 2>&1 && echo 'YES' || echo 'NO'\" -PassThru -NoCheck","range":{"startLineNumber":251,"startColumn":1,"endLineNumber":251,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":297,"edits":[{"text":"\n","range":{"startLineNumber":252,"startColumn":1,"endLineNumber":252,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":298,"edits":[{"text":"\n    if ($dockerRunning.Trim() -ne \"YES\") {","range":{"startLineNumber":253,"startColumn":1,"endLineNumber":253,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":299,"edits":[{"text":"\n        Write-Step \"Iniciando Docker daemon no WSL...\"","range":{"startLineNumber":254,"startColumn":1,"endLineNumber":254,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":300,"edits":[{"text":"\n        # Start dockerd in background","range":{"startLineNumber":255,"startColumn":1,"endLineNumber":255,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":301,"edits":[{"text":"\n        Invoke-Wsl -Command \"sudo nohup dockerd > /tmp/dockerd.log 2>&1 &\" -NoCheck | Out-Null","range":{"startLineNumber":256,"startColumn":1,"endLineNumber":256,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":302,"edits":[{"text":"\n","range":{"startLineNumber":257,"startColumn":1,"endLineNumber":257,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":303,"edits":[{"text":"\n        # Wait for it to be ready","range":{"startLineNumber":258,"startColumn":1,"endLineNumber":258,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":304,"edits":[{"text":"\n        $maxRetries = 15","range":{"startLineNumber":259,"startColumn":1,"endLineNumber":259,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":305,"edits":[{"text":"\n        $retry = 0","range":{"startLineNumber":260,"startColumn":1,"endLineNumber":260,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":306,"edits":[{"text":"\n        do {","range":{"startLineNumber":261,"startColumn":1,"endLineNumber":261,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":307,"edits":[{"text":"\n            Start-Sleep -Seconds 2","range":{"startLineNumber":262,"startColumn":1,"endLineNumber":262,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":308,"edits":[{"text":"\n            $retry++","range":{"startLineNumber":263,"startColumn":1,"endLineNumber":263,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":309,"edits":[{"text":"\n            $dockerRunning = Invoke-Wsl -Command \"docker info >/dev/null 2>&1 && echo 'YES' || echo 'NO'\" -PassThru -NoCheck","range":{"startLineNumber":264,"startColumn":1,"endLineNumber":264,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":310,"edits":[{"text":"\n            Write-Host \"  Aguardando daemon ($retry/$maxRetries)...\" -ForegroundColor Gray","range":{"startLineNumber":265,"startColumn":1,"endLineNumber":265,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":311,"edits":[{"text":"\n        } while ($dockerRunning.Trim() -ne \"YES\" -and $retry -lt $maxRetries)","range":{"startLineNumber":266,"startColumn":1,"endLineNumber":266,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":312,"edits":[{"text":"\n","range":{"startLineNumber":267,"startColumn":1,"endLineNumber":267,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":313,"edits":[{"text":"\n        if ($dockerRunning.Trim() -ne \"YES\") {","range":{"startLineNumber":268,"startColumn":1,"endLineNumber":268,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":314,"edits":[{"text":"\n            Write-Err \"Docker daemon nao iniciou apos $maxRetries tentativas.\"","range":{"startLineNumber":269,"startColumn":1,"endLineNumber":269,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":315,"edits":[{"text":"\n            Write-Host \"  Verifique manualmente: wsl sudo dockerd\" -ForegroundColor Gray","range":{"startLineNumber":270,"startColumn":1,"endLineNumber":270,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":316,"edits":[{"text":"\n            Write-Host \"  Ou tente: wsl sudo service docker start\" -ForegroundColor Gray","range":{"startLineNumber":271,"startColumn":1,"endLineNumber":271,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":317,"edits":[{"text":"\n            exit 1","range":{"startLineNumber":272,"startColumn":1,"endLineNumber":272,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":318,"edits":[{"text":"\n        }","range":{"startLineNumber":273,"startColumn":1,"endLineNumber":273,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":319,"edits":[{"text":"\n        Write-Ok \"Docker daemon iniciado\"","range":{"startLineNumber":274,"startColumn":1,"endLineNumber":274,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":320,"edits":[{"text":"\n    }","range":{"startLineNumber":275,"startColumn":1,"endLineNumber":275,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":321,"edits":[{"text":"\n    else {","range":{"startLineNumber":276,"startColumn":1,"endLineNumber":276,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":322,"edits":[{"text":"\n        Write-Ok \"Docker daemon ja esta rodando\"","range":{"startLineNumber":277,"startColumn":1,"endLineNumber":277,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":323,"edits":[{"text":"\n    }","range":{"startLineNumber":278,"startColumn":1,"endLineNumber":278,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":324,"edits":[{"text":"\n}","range":{"startLineNumber":279,"startColumn":1,"endLineNumber":279,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":325,"edits":[{"text":"\n","range":{"startLineNumber":280,"startColumn":1,"endLineNumber":280,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":326,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":281,"startColumn":1,"endLineNumber":281,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":327,"edits":[{"text":"\n# 4. Docker Compose Operations","range":{"startLineNumber":282,"startColumn":1,"endLineNumber":282,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":328,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":283,"startColumn":1,"endLineNumber":283,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":329,"edits":[{"text":"\nfunction Invoke-DockerCompose {","range":{"startLineNumber":284,"startColumn":1,"endLineNumber":284,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":330,"edits":[{"text":"\n    $wslPath = Convert-ToWslPath $WORKSPACE_WIN","range":{"startLineNumber":285,"startColumn":1,"endLineNumber":285,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":331,"edits":[{"text":"\n","range":{"startLineNumber":286,"startColumn":1,"endLineNumber":286,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":332,"edits":[{"text":"\n    if ($Status) {","range":{"startLineNumber":287,"startColumn":1,"endLineNumber":287,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":333,"edits":[{"text":"\n        Write-Header \"Status dos Containers\"","range":{"startLineNumber":288,"startColumn":1,"endLineNumber":288,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":334,"edits":[{"text":"\n        Invoke-Wsl -Command \"cd '$wslPath' && docker compose ps\" -NoCheck","range":{"startLineNumber":289,"startColumn":1,"endLineNumber":289,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":335,"edits":[{"text":"\n        return","range":{"startLineNumber":290,"startColumn":1,"endLineNumber":290,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":336,"edits":[{"text":"\n    }","range":{"startLineNumber":291,"startColumn":1,"endLineNumber":291,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":337,"edits":[{"text":"\n","range":{"startLineNumber":292,"startColumn":1,"endLineNumber":292,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":338,"edits":[{"text":"\n    if ($Down) {","range":{"startLineNumber":293,"startColumn":1,"endLineNumber":293,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":339,"edits":[{"text":"\n        Write-Header \"Parando servicos\"","range":{"startLineNumber":294,"startColumn":1,"endLineNumber":294,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":340,"edits":[{"text":"\n        Invoke-Wsl -Command \"cd '$wslPath' && docker compose down\" -NoCheck","range":{"startLineNumber":295,"startColumn":1,"endLineNumber":295,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":341,"edits":[{"text":"\n        Write-Ok \"Todos os servicos foram parados\"","range":{"startLineNumber":296,"startColumn":1,"endLineNumber":296,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":342,"edits":[{"text":"\n        return","range":{"startLineNumber":297,"startColumn":1,"endLineNumber":297,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":343,"edits":[{"text":"\n    }","range":{"startLineNumber":298,"startColumn":1,"endLineNumber":298,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":344,"edits":[{"text":"\n","range":{"startLineNumber":299,"startColumn":1,"endLineNumber":299,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":345,"edits":[{"text":"\n    # Build images","range":{"startLineNumber":300,"startColumn":1,"endLineNumber":300,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":346,"edits":[{"text":"\n    if ($Build) {","range":{"startLineNumber":301,"startColumn":1,"endLineNumber":301,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":347,"edits":[{"text":"\n        Write-Header \"Construindo imagens\"","range":{"startLineNumber":302,"startColumn":1,"endLineNumber":302,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":348,"edits":[{"text":"\n        if ($Service) {","range":{"startLineNumber":303,"startColumn":1,"endLineNumber":303,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":349,"edits":[{"text":"\n            Write-Step \"Construindo imagem: $Service\"","range":{"startLineNumber":304,"startColumn":1,"endLineNumber":304,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":350,"edits":[{"text":"\n            Invoke-Wsl -Command \"cd '$wslPath' && docker compose build --no-cache $Service\"","range":{"startLineNumber":305,"startColumn":1,"endLineNumber":305,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":351,"edits":[{"text":"\n        }","range":{"startLineNumber":306,"startColumn":1,"endLineNumber":306,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":352,"edits":[{"text":"\n        else {","range":{"startLineNumber":307,"startColumn":1,"endLineNumber":307,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":353,"edits":[{"text":"\n            Write-Step \"Construindo todas as imagens...\"","range":{"startLineNumber":308,"startColumn":1,"endLineNumber":308,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":354,"edits":[{"text":"\n            Invoke-Wsl -Command \"cd '$wslPath' && docker compose build --no-cache\"","range":{"startLineNumber":309,"startColumn":1,"endLineNumber":309,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":355,"edits":[{"text":"\n        }","range":{"startLineNumber":310,"startColumn":1,"endLineNumber":310,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":356,"edits":[{"text":"\n        Write-Ok \"Build concluido\"","range":{"startLineNumber":311,"startColumn":1,"endLineNumber":311,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":357,"edits":[{"text":"\n    }","range":{"startLineNumber":312,"startColumn":1,"endLineNumber":312,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":358,"edits":[{"text":"\n","range":{"startLineNumber":313,"startColumn":1,"endLineNumber":313,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":359,"edits":[{"text":"\n    # Start services","range":{"startLineNumber":314,"startColumn":1,"endLineNumber":314,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":360,"edits":[{"text":"\n    Write-Header \"Iniciando servicos\"","range":{"startLineNumber":315,"startColumn":1,"endLineNumber":315,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":361,"edits":[{"text":"\n","range":{"startLineNumber":316,"startColumn":1,"endLineNumber":316,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":362,"edits":[{"text":"\n    if ($Service) {","range":{"startLineNumber":317,"startColumn":1,"endLineNumber":317,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":363,"edits":[{"text":"\n        Write-Step \"Iniciando servico: $Service\"","range":{"startLineNumber":318,"startColumn":1,"endLineNumber":318,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":364,"edits":[{"text":"\n        Invoke-Wsl -Command \"cd '$wslPath' && docker compose up -d $Service\"","range":{"startLineNumber":319,"startColumn":1,"endLineNumber":319,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":365,"edits":[{"text":"\n    }","range":{"startLineNumber":320,"startColumn":1,"endLineNumber":320,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":366,"edits":[{"text":"\n    else {","range":{"startLineNumber":321,"startColumn":1,"endLineNumber":321,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":367,"edits":[{"text":"\n        Write-Step \"Iniciando todos os servicos...\"","range":{"startLineNumber":322,"startColumn":1,"endLineNumber":322,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":368,"edits":[{"text":"\n        Invoke-Wsl -Command \"cd '$wslPath' && docker compose up -d\"","range":{"startLineNumber":323,"startColumn":1,"endLineNumber":323,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":369,"edits":[{"text":"\n    }","range":{"startLineNumber":324,"startColumn":1,"endLineNumber":324,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":370,"edits":[{"text":"\n","range":{"startLineNumber":325,"startColumn":1,"endLineNumber":325,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":371,"edits":[{"text":"\n    # Wait a moment for containers to start","range":{"startLineNumber":326,"startColumn":1,"endLineNumber":326,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":372,"edits":[{"text":"\n    Start-Sleep -Seconds 3","range":{"startLineNumber":327,"startColumn":1,"endLineNumber":327,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":373,"edits":[{"text":"\n","range":{"startLineNumber":328,"startColumn":1,"endLineNumber":328,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":374,"edits":[{"text":"\n    # Show status","range":{"startLineNumber":329,"startColumn":1,"endLineNumber":329,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":375,"edits":[{"text":"\n    Write-Header \"Status dos Containers\"","range":{"startLineNumber":330,"startColumn":1,"endLineNumber":330,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":376,"edits":[{"text":"\n    Invoke-Wsl -Command \"cd '$wslPath' && docker compose ps\" -NoCheck","range":{"startLineNumber":331,"startColumn":1,"endLineNumber":331,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":377,"edits":[{"text":"\n","range":{"startLineNumber":332,"startColumn":1,"endLineNumber":332,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":378,"edits":[{"text":"\n    # Show URLs","range":{"startLineNumber":333,"startColumn":1,"endLineNumber":333,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":379,"edits":[{"text":"\n    Write-Header \"URLs dos Servicos\"","range":{"startLineNumber":334,"startColumn":1,"endLineNumber":334,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":380,"edits":[{"text":"\n    foreach ($svc in $SERVICE_URLS.GetEnumerator()) {","range":{"startLineNumber":335,"startColumn":1,"endLineNumber":335,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":381,"edits":[{"text":"\n        Write-Host \"  $($svc.Key.PadRight(16)) $($svc.Value)\" -ForegroundColor White","range":{"startLineNumber":336,"startColumn":1,"endLineNumber":336,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":382,"edits":[{"text":"\n    }","range":{"startLineNumber":337,"startColumn":1,"endLineNumber":337,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":383,"edits":[{"text":"\n","range":{"startLineNumber":338,"startColumn":1,"endLineNumber":338,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":384,"edits":[{"text":"\n    # Show warnings","range":{"startLineNumber":339,"startColumn":1,"endLineNumber":339,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":385,"edits":[{"text":"\n    Write-Host \"\"","range":{"startLineNumber":340,"startColumn":1,"endLineNumber":340,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":386,"edits":[{"text":"\n    Write-Host \"IMPORTANTE:\" -ForegroundColor Yellow","range":{"startLineNumber":341,"startColumn":1,"endLineNumber":341,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":387,"edits":[{"text":"\n    Write-Host \"  - Oracle DB externo requer VPN corporativa Hapvida\" -ForegroundColor Yellow","range":{"startLineNumber":342,"startColumn":1,"endLineNumber":342,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":388,"edits":[{"text":"\n    Write-Host \"  - Java API (WildFly) leva ~30-60s para inicializar\" -ForegroundColor Yellow","range":{"startLineNumber":343,"startColumn":1,"endLineNumber":343,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":389,"edits":[{"text":"\n    Write-Host \"  - Primeiro build pode levar 10-15 min (download de dependencias)\" -ForegroundColor Yellow","range":{"startLineNumber":344,"startColumn":1,"endLineNumber":344,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":390,"edits":[{"text":"\n    Write-Host \"\"","range":{"startLineNumber":345,"startColumn":1,"endLineNumber":345,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":391,"edits":[{"text":"\n","range":{"startLineNumber":346,"startColumn":1,"endLineNumber":346,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":392,"edits":[{"text":"\n    # Follow logs if requested","range":{"startLineNumber":347,"startColumn":1,"endLineNumber":347,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":393,"edits":[{"text":"\n    if ($Logs) {","range":{"startLineNumber":348,"startColumn":1,"endLineNumber":348,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":394,"edits":[{"text":"\n        Write-Header \"Seguindo logs (Ctrl+C para parar)\"","range":{"startLineNumber":349,"startColumn":1,"endLineNumber":349,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":395,"edits":[{"text":"\n        if ($Service) {","range":{"startLineNumber":350,"startColumn":1,"endLineNumber":350,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":396,"edits":[{"text":"\n            Invoke-Wsl -Command \"cd '$wslPath' && docker compose logs -f $Service\" -NoCheck","range":{"startLineNumber":351,"startColumn":1,"endLineNumber":351,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":397,"edits":[{"text":"\n        }","range":{"startLineNumber":352,"startColumn":1,"endLineNumber":352,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":398,"edits":[{"text":"\n        else {","range":{"startLineNumber":353,"startColumn":1,"endLineNumber":353,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":399,"edits":[{"text":"\n            Invoke-Wsl -Command \"cd '$wslPath' && docker compose logs -f\" -NoCheck","range":{"startLineNumber":354,"startColumn":1,"endLineNumber":354,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":400,"edits":[{"text":"\n        }","range":{"startLineNumber":355,"startColumn":1,"endLineNumber":355,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":401,"edits":[{"text":"\n    }","range":{"startLineNumber":356,"startColumn":1,"endLineNumber":356,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":402,"edits":[{"text":"\n}","range":{"startLineNumber":357,"startColumn":1,"endLineNumber":357,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":403,"edits":[{"text":"\n","range":{"startLineNumber":358,"startColumn":1,"endLineNumber":358,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":404,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":359,"startColumn":1,"endLineNumber":359,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":405,"edits":[{"text":"\n# Main","range":{"startLineNumber":360,"startColumn":1,"endLineNumber":360,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":406,"edits":[{"text":"\n# =====================================================","range":{"startLineNumber":361,"startColumn":1,"endLineNumber":361,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":407,"edits":[{"text":"\nWrite-Host \"\"","range":{"startLineNumber":362,"startColumn":1,"endLineNumber":362,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":408,"edits":[{"text":"\nWrite-Host \"  AutoCid + STT - Docker Environment (WSL)\" -ForegroundColor Magenta","range":{"startLineNumber":363,"startColumn":1,"endLineNumber":363,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":409,"edits":[{"text":"\nWrite-Host \"  Workspace: $WORKSPACE_WIN\" -ForegroundColor Gray","range":{"startLineNumber":364,"startColumn":1,"endLineNumber":364,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":410,"edits":[{"text":"\nWrite-Host \"\"","range":{"startLineNumber":365,"startColumn":1,"endLineNumber":365,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":411,"edits":[{"text":"\n","range":{"startLineNumber":366,"startColumn":1,"endLineNumber":366,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":412,"edits":[{"text":"\nTest-Prerequisites","range":{"startLineNumber":367,"startColumn":1,"endLineNumber":367,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":413,"edits":[{"text":"\nSet-Symlinks","range":{"startLineNumber":368,"startColumn":1,"endLineNumber":368,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":414,"edits":[{"text":"\nStart-DockerEngine","range":{"startLineNumber":369,"startColumn":1,"endLineNumber":369,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":415,"edits":[{"text":"\nInvoke-DockerCompose","range":{"startLineNumber":370,"startColumn":1,"endLineNumber":370,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":416,"edits":[{"text":"\n","range":{"startLineNumber":371,"startColumn":1,"endLineNumber":371,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":417,"edits":[{"text":"\nWrite-Host \"\"","range":{"startLineNumber":372,"startColumn":1,"endLineNumber":372,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":418,"edits":[{"text":"\n","range":{"startLineNumber":373,"startColumn":1,"endLineNumber":373,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"d:\\Repos\\_hv\\STT\\docker-start-wsl.ps1","_sep":1,"external":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","path":"/d:/Repos/_hv/STT/docker-start-wsl.ps1","scheme":"file"},"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","epoch":419,"edits":[{"text":"\n","range":{"startLineNumber":374,"startColumn":1,"endLineNumber":374,"endColumn":1}}]}],"epochCounter":420},"recentSnapshot":{"entries":[{"resource":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md","languageId":"markdown","originalHash":"53f5c48","currentHash":"53f5c48","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/d%3A/Repos/_hv/STT/.github/.copilot-project/context/project.md?%7B%22session%22%3A%7B%22%24mid%22%3A1%2C%22external%22%3A%22vscode-chat-session%3A%2F%2Flocal%2FM2Y0NmRhMDAtNTIxMy00MDk3LWI0NjItYTA2YTcxMmE5Mzg3%22%2C%22path%22%3A%22%2FM2Y0NmRhMDAtNTIxMy00MDk3LWI0NjItYTA2YTcxMmE5Mzg3%22%2C%22scheme%22%3A%22vscode-chat-session%22%2C%22authority%22%3A%22local%22%7D%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-opus-4.6","modeId":"agent"}},{"resource":"file:///d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md","languageId":"markdown","originalHash":"3e07032","currentHash":"3e07032","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/d%3A/Repos/_hv/STT/.github/.copilot-project/memory/lessons-learned.md?%7B%22session%22%3A%7B%22%24mid%22%3A1%2C%22external%22%3A%22vscode-chat-session%3A%2F%2Flocal%2FM2Y0NmRhMDAtNTIxMy00MDk3LWI0NjItYTA2YTcxMmE5Mzg3%22%2C%22path%22%3A%22%2FM2Y0NmRhMDAtNTIxMy00MDk3LWI0NjItYTA2YTcxMmE5Mzg3%22%2C%22scheme%22%3A%22vscode-chat-session%22%2C%22authority%22%3A%22local%22%7D%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-opus-4.6","modeId":"agent"}},{"resource":"file:///d%3A/Repos/_hv/STT/.github/instructions/workspace.instructions.md","languageId":"instructions","originalHash":"45f742d","currentHash":"45f742d","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/d%3A/Repos/_hv/STT/.github/instructions/workspace.instructions.md?%7B%22session%22%3A%7B%22%24mid%22%3A1%2C%22external%22%3A%22vscode-chat-session%3A%2F%2Flocal%2FM2Y0NmRhMDAtNTIxMy00MDk3LWI0NjItYTA2YTcxMmE5Mzg3%22%2C%22path%22%3A%22%2FM2Y0NmRhMDAtNTIxMy00MDk3LWI0NjItYTA2YTcxMmE5Mzg3%22%2C%22scheme%22%3A%22vscode-chat-session%22%2C%22authority%22%3A%22local%22%7D%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_237a9218-f335-4a2b-a2c9-d081dcd1b1a0","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-opus-4.6","modeId":"agent"}},{"resource":"file:///d%3A/Repos/_hv/STT/docker-start-wsl.ps1","languageId":"powershell","originalHash":"eccbf2f","currentHash":"eccbf2f","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/d%3A/Repos/_hv/STT/docker-start-wsl.ps1?%7B%22session%22%3A%7B%22%24mid%22%3A1%2C%22external%22%3A%22vscode-chat-session%3A%2F%2Flocal%2FM2Y0NmRhMDAtNTIxMy00MDk3LWI0NjItYTA2YTcxMmE5Mzg3%22%2C%22path%22%3A%22%2FM2Y0NmRhMDAtNTIxMy00MDk3LWI0NjItYTA2YTcxMmE5Mzg3%22%2C%22scheme%22%3A%22vscode-chat-session%22%2C%22authority%22%3A%22local%22%7D%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b05fdbe2-c615-4951-81cd-4d773c5643ef","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-opus-4.6","modeId":"agent"}}]}}