<Project Sdk="Microsoft.NET.Sdk.Web">

  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <LangVersion>12.0</LangVersion>
    <Copyright>Hapvida</Copyright>
    <Company>Hapvida</Company>
    <Authors>Hapvida</Authors>
    <Product>Hapvida.TI.VoiceTranscription.Api</Product>
    <ImplicitUsings>enable</ImplicitUsings>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <Nullable>enable</Nullable>
    <UserSecretsId>11dcf245-bdb1-4a3b-8fa1-43bc1a4a7154</UserSecretsId>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Hapvida.Core.Api.Http" Version="2.1.2" />
  </ItemGroup>

  <ItemGroup>
    <Content Update="appsettings.Development.json">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <Content Update="appsettings.json">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>

  </ItemGroup>
    <ItemGroup>
        <ProjectReference Include="..\Hapvida.TI.VoiceTranscription.Domain\Hapvida.TI.VoiceTranscription.Domain.csproj" />
        <ProjectReference Include="..\Hapvida.TI.VoiceTranscription.Infra.Cache\Hapvida.TI.VoiceTranscription.Infra.Cache.csproj" />
        <ProjectReference Include="..\Hapvida.TI.VoiceTranscription.Infra.Data.Queries\Hapvida.TI.VoiceTranscription.Infra.Data.Queries.csproj" />
    </ItemGroup>


  <ItemGroup>
    <Folder Include="Swagger\Definition\" />
  </ItemGroup>

  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Message Text="Generating swagger.json" Importance="high" />
    <Exec Command="swagger tofile --output Swagger/Definition/swagger.json $(OutputPath)$(AssemblyName).dll 1.0" EnvironmentVariables="DOTNET_ROLL_FORWARD=LatestMajor" />
  </Target>

</Project>