---
applyTo: '**'
---

# Copilot Agent Instructions

Regras globais para o agente. Skills s√£o carregados automaticamente conforme necessidade.

## Princ√≠pios

1. **Instru√ß√µes s√£o obrigat√≥rias** - n√£o s√£o sugest√µes
2. **Perguntar antes de assumir** - quando houver ambiguidade, perguntar
3. **Portugu√™s para chat, ingl√™s para c√≥digo** - vari√°veis, fun√ß√µes, nomes de arquivo em ingl√™s

## Clarifica√ß√£o

**Perguntar quando:**
- Pedido √© vago ou amb√≠guo
- M√∫ltiplas interpreta√ß√µes poss√≠veis
- Informa√ß√£o cr√≠tica faltando
- Decis√£o impacta significativamente o resultado

**N√ÉO perguntar quando:**
- Informa√ß√£o est√° expl√≠cita
- Conven√ß√£o est√° documentada
- Decis√£o √© trivial
- Contexto torna resposta √≥bvia

**Formato**: ‚ùì **Preciso de clarifica√ß√£o**: {pergunta}

## Skills

Este projeto usa o padr√£o [Agent Skills](https://agentskills.io).

### Sinaliza√ß√£o de Uso

**Sempre que uma skill for ativada**, o agente DEVE sinalizar no in√≠cio da resposta:

```
üîß Skill: `{nome-da-skill}`
```

Se m√∫ltiplas skills forem ativadas na mesma resposta:

```
üîß Skills: `{skill-1}`, `{skill-2}`
```

Isso garante rastreabilidade e transpar√™ncia sobre quais skills est√£o sendo utilizadas.

### Descoberta de Skills

O agente DEVE escanear os seguintes diret√≥rios para descobrir skills dispon√≠veis:

1. **Core Skills**: `.github/.copilot-core/skills/`
2. **Project Skills**: `.github/.copilot-project/skills/`

Para cada skill encontrado, ler o frontmatter (`name` e `description`) do `SKILL.md`.
Usar o campo `description` para decidir quando ativar cada skill.

### Dados do Projeto

O agente DEVE consultar quando relevante:

- **Contexto**: `.github/.copilot-project/context/project.md`
- **Mem√≥ria**: `.github/.copilot-project/memory/lessons-learned.md`

**Nomenclatura**: `{contexto}-{funcionalidade}/SKILL.md`

### Skills Core Dispon√≠veis

| Categoria | Skills |
|-----------|--------|
| Agent | `agent-memory-query`, `agent-memory-register`, `agent-memory-init`, `agent-todo` |
| Project | `project-context-query`, `project-context-update`, `project-context-init`, `project-analyze`, `project-create`, `project-bootstrap`, `project-init`, `project-update`, `project-switch-branch` |
| Skill | `skill-create` |
| Editor | `editor-markdown` |

## Agent vs Plan Mode

| Modo | Quando usar |
|------|------------|
| **Agent** | Tarefas claras e diretas ‚Äî registrar li√ß√£o, criar skill, configurar projeto j√° plugado |
| **Plan** | Tarefas complexas que precisam de revis√£o ‚Äî `project-create`, refatora√ß√µes grandes, an√°lises de arquitetura |

> **`project-create` deve ser usado com Plan mode** ‚Äî envolve coleta de contexto profundo, decis√£o de quais skills criar e revis√£o antes de executar.

## Tarefas Complexas

**Usar `manage_todo_list` quando:**
- Tarefa tem 4+ steps distintos
- Usu√°rio pede m√∫ltiplas coisas
- Envolve m√∫ltiplos arquivos
- Requer planejamento

**Workflow:**
1. Criar lista com todos os steps
2. Marcar um como `in-progress`
3. Executar e marcar `completed` imediatamente
4. Pr√≥ximo step ‚Üí `in-progress`

## Mem√≥ria e Contexto

### Roteamento ‚Äî Quando o usu√°rio pede para guardar informa√ß√£o

Quando o usu√°rio disser qualquer varia√ß√£o de "guarda", "salva", "anota", "lembra", "registra", "memoriza", "n√£o esquece" uma informa√ß√£o, o agente DEVE decidir:

| Tipo de Informa√ß√£o | Skill | Destino |
|-------------------|-------|---------|
| Li√ß√£o aprendida, erro corrigido, padr√£o descoberto, decis√£o tomada | `agent-memory-register` | `memory/lessons-learned.md` |
| Mudan√ßa de stack, nova integra√ß√£o, restri√ß√£o, estado do projeto | `project-context-update` | `context/project.md` |

**Se amb√≠guo** ‚Üí perguntar ao usu√°rio: "Isso √© uma li√ß√£o/decis√£o ou uma mudan√ßa no projeto?"

**Se claramente nenhum dos dois** ‚Üí informar que a informa√ß√£o n√£o se encaixa em mem√≥ria nem contexto e sugerir onde guardar.

### Consulta autom√°tica

**Antes de tarefas complexas:**
- Consultar `agent-memory-query` para li√ß√µes aprendidas
- Consultar `project-context-query` para stack e restri√ß√µes

**Ap√≥s decis√µes importantes:**
- Registrar com `agent-memory-register`

## Regras de C√≥digo

- **Linguagem do chat**: Portugu√™s brasileiro
- **Linguagem do c√≥digo**: Ingl√™s (vari√°veis, fun√ß√µes, par√¢metros, nomes de arquivo)
- **Nunca criar documenta√ß√£o autom√°tica** - apenas quando solicitado

